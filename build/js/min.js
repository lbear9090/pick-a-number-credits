function buildIOSMeta(){for(var e=[{name:"viewport",content:"width=device-width, height=device-height, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"},{name:"apple-mobile-web-app-capable",content:"yes"},{name:"apple-mobile-web-app-status-bar-style",content:"black"}],t=0;t<e.length;t++){var n=document.createElement("meta");n.name=e[t].name,n.content=e[t].content;var i=window.document.head.querySelector('meta[name="'+n.name+'"]');i&&i.parentNode.removeChild(i),window.document.head.appendChild(n)}}function hideIOSFullscreenPanel(){jQuery(".xxx-ios-fullscreen-message").css("display","none"),jQuery(".xxx-ios-fullscreen-scroll").css("display","none"),jQuery(".xxx-game-iframe-full").removeClass("xxx-game-iframe-iphone-se")}function buildIOSFullscreenPanel(){var e="";e+='<div class="xxx-ios-fullscreen-message">',e+='<div class="xxx-ios-fullscreen-swipe">',e+="</div>",e+="</div>",e+='<div class="xxx-ios-fullscreen-scroll">',e+="</div>",jQuery("body").append(e)}function showIOSFullscreenPanel(){jQuery(".xxx-ios-fullscreen-message").css("display","block"),jQuery(".xxx-ios-fullscreen-scroll").css("display","block")}function __iosResize(){if(window.scrollTo(0,0),"iPhone"===platform.product)switch(window.devicePixelRatio){case 2:switch(window.innerWidth){case 568:320===window.innerHeight||jQuery(".xxx-game-iframe-full").addClass("xxx-game-iframe-iphone-se");break;case 667:375===window.innerHeight?hideIOSFullscreenPanel():showIOSFullscreenPanel();break;default:hideIOSFullscreenPanel()}break;case 3:switch(window.innerWidth){case 736:414===window.innerHeight?hideIOSFullscreenPanel():showIOSFullscreenPanel();break;case 724:375===window.innerHeight?hideIOSFullscreenPanel():showIOSFullscreenPanel();break;default:hideIOSFullscreenPanel()}break;default:hideIOSFullscreenPanel()}}function iosResize(){__iosResize(),setTimeout(function(){__iosResize()},500)}function iosInIframe(){try{return window.self!==window.top}catch(e){return!0}}!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";var n=[],i=e.document,r=Object.getPrototypeOf,s=n.slice,a=n.concat,o=n.push,c=n.indexOf,l={},u=l.toString,h=l.hasOwnProperty,d=h.toString,_=d.call(Object),f={};function p(e,t){var n=(t=t||i).createElement("script");n.text=e,t.head.appendChild(n).parentNode.removeChild(n)}var g="3.2.1",m=function(e,t){return new m.fn.init(e,t)},v=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,b=/^-ms-/,y=/-([a-z])/g,x=function(e,t){return t.toUpperCase()};function S(e){var t=!!e&&"length"in e&&e.length,n=m.type(e);return"function"!==n&&!m.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}m.fn=m.prototype={jquery:g,constructor:m,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=m.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return m.each(this,e)},map:function(e){return this.pushStack(m.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:o,sort:n.sort,splice:n.splice},m.extend=m.fn.extend=function(){var e,t,n,i,r,s,a=arguments[0]||{},o=1,c=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[o]||{},o++),"object"==typeof a||m.isFunction(a)||(a={}),o===c&&(a=this,o--);o<c;o++)if(null!=(e=arguments[o]))for(t in e)n=a[t],a!==(i=e[t])&&(l&&i&&(m.isPlainObject(i)||(r=Array.isArray(i)))?(r?(r=!1,s=n&&Array.isArray(n)?n:[]):s=n&&m.isPlainObject(n)?n:{},a[t]=m.extend(l,s,i)):void 0!==i&&(a[t]=i));return a},m.extend({expando:"jQuery"+(g+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===m.type(e)},isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=m.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==u.call(e)||(t=r(e))&&(n=h.call(t,"constructor")&&t.constructor,"function"!=typeof n||d.call(n)!==_))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[u.call(e)]||"object":typeof e},globalEval:function(e){p(e)},camelCase:function(e){return e.replace(b,"ms-").replace(y,x)},each:function(e,t){var n,i=0;if(S(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(v,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(S(Object(e))?m.merge(n,"string"==typeof e?[e]:e):o.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:c.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,s=e.length,a=!n;r<s;r++)!t(e[r],r)!==a&&i.push(e[r]);return i},map:function(e,t,n){var i,r,s=0,o=[];if(S(e))for(i=e.length;s<i;s++)null!=(r=t(e[s],s,n))&&o.push(r);else for(s in e)null!=(r=t(e[s],s,n))&&o.push(r);return a.apply([],o)},guid:1,proxy:function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),m.isFunction(e))return i=s.call(arguments,2),(r=function(){return e.apply(t||this,i.concat(s.call(arguments)))}).guid=e.guid=e.guid||m.guid++,r},now:Date.now,support:f}),"function"==typeof Symbol&&(m.fn[Symbol.iterator]=n[Symbol.iterator]),m.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});var w=function(e){var t,n,i,r,s,a,o,c,l,u,h,d,_,f,p,g,m,v,b,y="sizzle"+1*new Date,x=e.document,S=0,w=0,E=ae(),T=ae(),A=ae(),C=function(e,t){return e===t&&(h=!0),0},I={}.hasOwnProperty,O=[],L=O.pop,P=O.push,R=O.push,j=O.slice,N=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},H="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",D="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",k="\\["+D+"*("+M+")(?:"+D+"*([*^$|!~]?=)"+D+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+D+"*\\]",F=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+k+")*)|.*)\\)|)",B=new RegExp(D+"+","g"),W=new RegExp("^"+D+"+|((?:^|[^\\\\])(?:\\\\.)*)"+D+"+$","g"),G=new RegExp("^"+D+"*,"+D+"*"),U=new RegExp("^"+D+"*([>+~]|"+D+")"+D+"*"),X=new RegExp("="+D+"*([^\\]'\"]*?)"+D+"*\\]","g"),V=new RegExp(F),q=new RegExp("^"+M+"$"),Y={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+k),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+D+"*(even|odd|(([+-]|)(\\d*)n|)"+D+"*(?:([+-]|)"+D+"*(\\d+)|))"+D+"*\\)|)","i"),bool:new RegExp("^(?:"+H+")$","i"),needsContext:new RegExp("^"+D+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+D+"*((?:-\\d)?\\d*)"+D+"*\\)|)(?=[^-]|$)","i")},z=/^(?:input|select|textarea|button)$/i,$=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,K=/[+~]/,Z=new RegExp("\\\\([\\da-f]{1,6}"+D+"?|("+D+")|.)","ig"),ee=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=function(){d()},re=ve(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{R.apply(O=j.call(x.childNodes),x.childNodes),O[x.childNodes.length].nodeType}catch(e){R={apply:O.length?function(e,t){P.apply(e,j.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function se(e,t,i,r){var s,o,l,u,h,f,m,v=t&&t.ownerDocument,S=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==S&&9!==S&&11!==S)return i;if(!r&&((t?t.ownerDocument||t:x)!==_&&d(t),t=t||_,p)){if(11!==S&&(h=J.exec(e)))if(s=h[1]){if(9===S){if(!(l=t.getElementById(s)))return i;if(l.id===s)return i.push(l),i}else if(v&&(l=v.getElementById(s))&&b(t,l)&&l.id===s)return i.push(l),i}else{if(h[2])return R.apply(i,t.getElementsByTagName(e)),i;if((s=h[3])&&n.getElementsByClassName&&t.getElementsByClassName)return R.apply(i,t.getElementsByClassName(s)),i}if(n.qsa&&!A[e+" "]&&(!g||!g.test(e))){if(1!==S)v=t,m=e;else if("object"!==t.nodeName.toLowerCase()){for((u=t.getAttribute("id"))?u=u.replace(te,ne):t.setAttribute("id",u=y),o=(f=a(e)).length;o--;)f[o]="#"+u+" "+me(f[o]);m=f.join(","),v=K.test(e)&&pe(t.parentNode)||t}if(m)try{return R.apply(i,v.querySelectorAll(m)),i}catch(e){}finally{u===y&&t.removeAttribute("id")}}}return c(e.replace(W,"$1"),t,i,r)}function ae(){var e=[];return function t(n,r){return e.push(n+" ")>i.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function oe(e){return e[y]=!0,e}function ce(e){var t=_.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){for(var n=e.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=t}function ue(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function he(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function de(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function _e(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&re(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function fe(e){return oe(function(t){return t=+t,oe(function(n,i){for(var r,s=e([],n.length,t),a=s.length;a--;)n[r=s[a]]&&(n[r]=!(i[r]=n[r]))})})}function pe(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=se.support={},s=se.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},d=se.setDocument=function(e){var t,r,a=e?e.ownerDocument||e:x;return a!==_&&9===a.nodeType&&a.documentElement?(f=(_=a).documentElement,p=!s(_),x!==_&&(r=_.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ie,!1):r.attachEvent&&r.attachEvent("onunload",ie)),n.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ce(function(e){return e.appendChild(_.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Q.test(_.getElementsByClassName),n.getById=ce(function(e){return f.appendChild(e).id=y,!_.getElementsByName||!_.getElementsByName(y).length}),n.getById?(i.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){return e.getAttribute("id")===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&p){var n=t.getElementById(e);return n?[n]:[]}}):(i.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&p){var n,i,r,s=t.getElementById(e);if(s){if((n=s.getAttributeNode("id"))&&n.value===e)return[s];for(r=t.getElementsByName(e),i=0;s=r[i++];)if((n=s.getAttributeNode("id"))&&n.value===e)return[s]}return[]}}),i.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,s=t.getElementsByTagName(e);if("*"===e){for(;n=s[r++];)1===n.nodeType&&i.push(n);return i}return s},i.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&p)return t.getElementsByClassName(e)},m=[],g=[],(n.qsa=Q.test(_.querySelectorAll))&&(ce(function(e){f.appendChild(e).innerHTML="<a id='"+y+"'></a><select id='"+y+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+D+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+D+"*(?:value|"+H+")"),e.querySelectorAll("[id~="+y+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+y+"+*").length||g.push(".#.+[+~]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=_.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+D+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),f.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(n.matchesSelector=Q.test(v=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&ce(function(e){n.disconnectedMatch=v.call(e,"*"),v.call(e,"[s!='']:x"),m.push("!=",F)}),g=g.length&&new RegExp(g.join("|")),m=m.length&&new RegExp(m.join("|")),t=Q.test(f.compareDocumentPosition),b=t||Q.test(f.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},C=t?function(e,t){if(e===t)return h=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===i?e===_||e.ownerDocument===x&&b(x,e)?-1:t===_||t.ownerDocument===x&&b(x,t)?1:u?N(u,e)-N(u,t):0:4&i?-1:1)}:function(e,t){if(e===t)return h=!0,0;var n,i=0,r=e.parentNode,s=t.parentNode,a=[e],o=[t];if(!r||!s)return e===_?-1:t===_?1:r?-1:s?1:u?N(u,e)-N(u,t):0;if(r===s)return ue(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)o.unshift(n);for(;a[i]===o[i];)i++;return i?ue(a[i],o[i]):a[i]===x?-1:o[i]===x?1:0},_):_},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if((e.ownerDocument||e)!==_&&d(e),t=t.replace(X,"='$1']"),n.matchesSelector&&p&&!A[t+" "]&&(!m||!m.test(t))&&(!g||!g.test(t)))try{var i=v.call(e,t);if(i||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return se(t,_,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!==_&&d(e),b(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!==_&&d(e);var r=i.attrHandle[t.toLowerCase()],s=r&&I.call(i.attrHandle,t.toLowerCase())?r(e,t,!p):void 0;return void 0!==s?s:n.attributes||!p?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},se.escape=function(e){return(e+"").replace(te,ne)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,i=[],r=0,s=0;if(h=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(C),h){for(;t=e[s++];)t===e[s]&&(r=i.push(s));for(;r--;)e.splice(i[r],1)}return u=null,e},r=se.getText=function(e){var t,n="",i=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===s||4===s)return e.nodeValue}else for(;t=e[i++];)n+=r(t);return n},(i=se.selectors={cacheLength:50,createPseudo:oe,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Z,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(Z,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Y.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&V.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Z,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|"+D+")"+e+"("+D+"|$)"))&&E(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var r=se.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r.replace(B," ")+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var s="nth"!==e.slice(0,3),a="last"!==e.slice(-4),o="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,c){var l,u,h,d,_,f,p=s!==a?"nextSibling":"previousSibling",g=t.parentNode,m=o&&t.nodeName.toLowerCase(),v=!c&&!o,b=!1;if(g){if(s){for(;p;){for(d=t;d=d[p];)if(o?d.nodeName.toLowerCase()===m:1===d.nodeType)return!1;f=p="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&v){for(b=(_=(l=(u=(h=(d=g)[y]||(d[y]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]||[])[0]===S&&l[1])&&l[2],d=_&&g.childNodes[_];d=++_&&d&&d[p]||(b=_=0)||f.pop();)if(1===d.nodeType&&++b&&d===t){u[e]=[S,_,b];break}}else if(v&&(b=_=(l=(u=(h=(d=t)[y]||(d[y]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]||[])[0]===S&&l[1]),!1===b)for(;(d=++_&&d&&d[p]||(b=_=0)||f.pop())&&((o?d.nodeName.toLowerCase()!==m:1!==d.nodeType)||!++b||(v&&((u=(h=d[y]||(d[y]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]=[S,b]),d!==t)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return r[y]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?oe(function(e,n){for(var i,s=r(e,t),a=s.length;a--;)e[i=N(e,s[a])]=!(n[i]=s[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:oe(function(e){var t=[],n=[],i=o(e.replace(W,"$1"));return i[y]?oe(function(e,t,n,r){for(var s,a=i(e,null,r,[]),o=e.length;o--;)(s=a[o])&&(e[o]=!(t[o]=s))}):function(e,r,s){return t[0]=e,i(t,null,s,n),t[0]=null,!n.pop()}}),has:oe(function(e){return function(t){return se(e,t).length>0}}),contains:oe(function(e){return e=e.replace(Z,ee),function(t){return(t.textContent||t.innerText||r(t)).indexOf(e)>-1}}),lang:oe(function(e){return q.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(Z,ee).toLowerCase(),function(t){var n;do{if(n=p?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===_.activeElement&&(!_.hasFocus||_.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:_e(!1),disabled:_e(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return $.test(e.nodeName)},input:function(e){return z.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:fe(function(){return[0]}),last:fe(function(e,t){return[t-1]}),eq:fe(function(e,t,n){return[n<0?n+t:n]}),even:fe(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:fe(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:fe(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:fe(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=he(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=de(t);function ge(){}function me(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function ve(e,t,n){var i=t.dir,r=t.next,s=r||i,a=n&&"parentNode"===s,o=w++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||a)return e(t,n,r);return!1}:function(t,n,c){var l,u,h,d=[S,o];if(c){for(;t=t[i];)if((1===t.nodeType||a)&&e(t,n,c))return!0}else for(;t=t[i];)if(1===t.nodeType||a)if(u=(h=t[y]||(t[y]={}))[t.uniqueID]||(h[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[i]||t;else{if((l=u[s])&&l[0]===S&&l[1]===o)return d[2]=l[2];if(u[s]=d,d[2]=e(t,n,c))return!0}return!1}}function be(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function ye(e,t,n,i,r){for(var s,a=[],o=0,c=e.length,l=null!=t;o<c;o++)(s=e[o])&&(n&&!n(s,i,r)||(a.push(s),l&&t.push(o)));return a}function xe(e,t,n,i,r,s){return i&&!i[y]&&(i=xe(i)),r&&!r[y]&&(r=xe(r,s)),oe(function(s,a,o,c){var l,u,h,d=[],_=[],f=a.length,p=s||function(e,t,n){for(var i=0,r=t.length;i<r;i++)se(e,t[i],n);return n}(t||"*",o.nodeType?[o]:o,[]),g=!e||!s&&t?p:ye(p,d,e,o,c),m=n?r||(s?e:f||i)?[]:a:g;if(n&&n(g,m,o,c),i)for(l=ye(m,_),i(l,[],o,c),u=l.length;u--;)(h=l[u])&&(m[_[u]]=!(g[_[u]]=h));if(s){if(r||e){if(r){for(l=[],u=m.length;u--;)(h=m[u])&&l.push(g[u]=h);r(null,m=[],l,c)}for(u=m.length;u--;)(h=m[u])&&(l=r?N(s,h):d[u])>-1&&(s[l]=!(a[l]=h))}}else m=ye(m===a?m.splice(f,m.length):m),r?r(null,a,m,c):R.apply(a,m)})}function Se(e){for(var t,n,r,s=e.length,a=i.relative[e[0].type],o=a||i.relative[" "],c=a?1:0,u=ve(function(e){return e===t},o,!0),h=ve(function(e){return N(t,e)>-1},o,!0),d=[function(e,n,i){var r=!a&&(i||n!==l)||((t=n).nodeType?u(e,n,i):h(e,n,i));return t=null,r}];c<s;c++)if(n=i.relative[e[c].type])d=[ve(be(d),n)];else{if((n=i.filter[e[c].type].apply(null,e[c].matches))[y]){for(r=++c;r<s&&!i.relative[e[r].type];r++);return xe(c>1&&be(d),c>1&&me(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(W,"$1"),n,c<r&&Se(e.slice(c,r)),r<s&&Se(e=e.slice(r)),r<s&&me(e))}d.push(n)}return be(d)}function we(e,t){var n=t.length>0,r=e.length>0,s=function(s,a,o,c,u){var h,f,g,m=0,v="0",b=s&&[],y=[],x=l,w=s||r&&i.find.TAG("*",u),E=S+=null==x?1:Math.random()||.1,T=w.length;for(u&&(l=a===_||a||u);v!==T&&null!=(h=w[v]);v++){if(r&&h){for(f=0,a||h.ownerDocument===_||(d(h),o=!p);g=e[f++];)if(g(h,a||_,o)){c.push(h);break}u&&(S=E)}n&&((h=!g&&h)&&m--,s&&b.push(h))}if(m+=v,n&&v!==m){for(f=0;g=t[f++];)g(b,y,a,o);if(s){if(m>0)for(;v--;)b[v]||y[v]||(y[v]=L.call(c));y=ye(y)}R.apply(c,y),u&&!s&&y.length>0&&m+t.length>1&&se.uniqueSort(c)}return u&&(S=E,l=x),b};return n?oe(s):s}return ge.prototype=i.filters=i.pseudos,i.setFilters=new ge,a=se.tokenize=function(e,t){var n,r,s,a,o,c,l,u=T[e+" "];if(u)return t?0:u.slice(0);for(o=e,c=[],l=i.preFilter;o;){for(a in n&&!(r=G.exec(o))||(r&&(o=o.slice(r[0].length)||o),c.push(s=[])),n=!1,(r=U.exec(o))&&(n=r.shift(),s.push({value:n,type:r[0].replace(W," ")}),o=o.slice(n.length)),i.filter)!(r=Y[a].exec(o))||l[a]&&!(r=l[a](r))||(n=r.shift(),s.push({value:n,type:a,matches:r}),o=o.slice(n.length));if(!n)break}return t?o.length:o?se.error(e):T(e,c).slice(0)},o=se.compile=function(e,t){var n,i=[],r=[],s=A[e+" "];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=Se(t[n]))[y]?i.push(s):r.push(s);(s=A(e,we(r,i))).selector=e}return s},c=se.select=function(e,t,n,r){var s,c,l,u,h,d="function"==typeof e&&e,_=!r&&a(e=d.selector||e);if(n=n||[],1===_.length){if((c=_[0]=_[0].slice(0)).length>2&&"ID"===(l=c[0]).type&&9===t.nodeType&&p&&i.relative[c[1].type]){if(!(t=(i.find.ID(l.matches[0].replace(Z,ee),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(c.shift().value.length)}for(s=Y.needsContext.test(e)?0:c.length;s--&&(l=c[s],!i.relative[u=l.type]);)if((h=i.find[u])&&(r=h(l.matches[0].replace(Z,ee),K.test(c[0].type)&&pe(t.parentNode)||t))){if(c.splice(s,1),!(e=r.length&&me(c)))return R.apply(n,r),n;break}}return(d||o(e,_))(r,t,!p,n,!t||K.test(e)&&pe(t.parentNode)||t),n},n.sortStable=y.split("").sort(C).join("")===y,n.detectDuplicates=!!h,d(),n.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(_.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||le("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||le("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||le(H,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),se}(e);m.find=w,m.expr=w.selectors,m.expr[":"]=m.expr.pseudos,m.uniqueSort=m.unique=w.uniqueSort,m.text=w.getText,m.isXMLDoc=w.isXML,m.contains=w.contains,m.escapeSelector=w.escape;var E=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&m(e).is(n))break;i.push(e)}return i},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},A=m.expr.match.needsContext;function C(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var I=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,O=/^.[^:#\[\.,]*$/;function L(e,t,n){return m.isFunction(t)?m.grep(e,function(e,i){return!!t.call(e,i,e)!==n}):t.nodeType?m.grep(e,function(e){return e===t!==n}):"string"!=typeof t?m.grep(e,function(e){return c.call(t,e)>-1!==n}):O.test(t)?m.filter(t,e,n):(t=m.filter(t,e),m.grep(e,function(e){return c.call(t,e)>-1!==n&&1===e.nodeType}))}m.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?m.find.matchesSelector(i,e)?[i]:[]:m.find.matches(e,m.grep(t,function(e){return 1===e.nodeType}))},m.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(m(e).filter(function(){for(t=0;t<i;t++)if(m.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)m.find(e,r[t],n);return i>1?m.uniqueSort(n):n},filter:function(e){return this.pushStack(L(this,e||[],!1))},not:function(e){return this.pushStack(L(this,e||[],!0))},is:function(e){return!!L(this,"string"==typeof e&&A.test(e)?m(e):e||[],!1).length}});var P,R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(m.fn.init=function(e,t,n){var r,s;if(!e)return this;if(n=n||P,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:R.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof m?t[0]:t,m.merge(this,m.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:i,!0)),I.test(r[1])&&m.isPlainObject(t))for(r in t)m.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(s=i.getElementById(r[2]))&&(this[0]=s,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m.isFunction(e)?void 0!==n.ready?n.ready(e):e(m):m.makeArray(e,this)}).prototype=m.fn,P=m(i);var j=/^(?:parents|prev(?:Until|All))/,N={children:!0,contents:!0,next:!0,prev:!0};function H(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}m.fn.extend({has:function(e){var t=m(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(m.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,r=this.length,s=[],a="string"!=typeof e&&m(e);if(!A.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&m.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?m.uniqueSort(s):s)},index:function(e){return e?"string"==typeof e?c.call(m(e),this[0]):c.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(m.uniqueSort(m.merge(this.get(),m(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),m.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return E(e,"parentNode")},parentsUntil:function(e,t,n){return E(e,"parentNode",n)},next:function(e){return H(e,"nextSibling")},prev:function(e){return H(e,"previousSibling")},nextAll:function(e){return E(e,"nextSibling")},prevAll:function(e){return E(e,"previousSibling")},nextUntil:function(e,t,n){return E(e,"nextSibling",n)},prevUntil:function(e,t,n){return E(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return C(e,"iframe")?e.contentDocument:(C(e,"template")&&(e=e.content||e),m.merge([],e.childNodes))}},function(e,t){m.fn[e]=function(n,i){var r=m.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=m.filter(i,r)),this.length>1&&(N[e]||m.uniqueSort(r),j.test(e)&&r.reverse()),this.pushStack(r)}});var D=/[^\x20\t\r\n\f]+/g;function M(e){return e}function k(e){throw e}function F(e,t,n,i){var r;try{e&&m.isFunction(r=e.promise)?r.call(e).done(t).fail(n):e&&m.isFunction(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}m.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return m.each(e.match(D)||[],function(e,n){t[n]=!0}),t}(e):m.extend({},e);var t,n,i,r,s=[],a=[],o=-1,c=function(){for(r=r||e.once,i=t=!0;a.length;o=-1)for(n=a.shift();++o<s.length;)!1===s[o].apply(n[0],n[1])&&e.stopOnFalse&&(o=s.length,n=!1);e.memory||(n=!1),t=!1,r&&(s=n?[]:"")},l={add:function(){return s&&(n&&!t&&(o=s.length-1,a.push(n)),function t(n){m.each(n,function(n,i){m.isFunction(i)?e.unique&&l.has(i)||s.push(i):i&&i.length&&"string"!==m.type(i)&&t(i)})}(arguments),n&&!t&&c()),this},remove:function(){return m.each(arguments,function(e,t){for(var n;(n=m.inArray(t,s,n))>-1;)s.splice(n,1),n<=o&&o--}),this},has:function(e){return e?m.inArray(e,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=a=[],s=n="",this},disabled:function(){return!s},lock:function(){return r=a=[],n||t||(s=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!i}};return l},m.extend({Deferred:function(t){var n=[["notify","progress",m.Callbacks("memory"),m.Callbacks("memory"),2],["resolve","done",m.Callbacks("once memory"),m.Callbacks("once memory"),0,"resolved"],["reject","fail",m.Callbacks("once memory"),m.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return m.Deferred(function(t){m.each(n,function(n,i){var r=m.isFunction(e[i[4]])&&e[i[4]];s[i[1]](function(){var e=r&&r.apply(this,arguments);e&&m.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[i[0]+"With"](this,r?[e]:arguments)})}),e=null}).promise()},then:function(t,i,r){var s=0;function a(t,n,i,r){return function(){var o=this,c=arguments,l=function(){var e,l;if(!(t<s)){if((e=i.apply(o,c))===n.promise())throw new TypeError("Thenable self-resolution");l=e&&("object"==typeof e||"function"==typeof e)&&e.then,m.isFunction(l)?r?l.call(e,a(s,n,M,r),a(s,n,k,r)):(s++,l.call(e,a(s,n,M,r),a(s,n,k,r),a(s,n,M,n.notifyWith))):(i!==M&&(o=void 0,c=[e]),(r||n.resolveWith)(o,c))}},u=r?l:function(){try{l()}catch(e){m.Deferred.exceptionHook&&m.Deferred.exceptionHook(e,u.stackTrace),t+1>=s&&(i!==k&&(o=void 0,c=[e]),n.rejectWith(o,c))}};t?u():(m.Deferred.getStackHook&&(u.stackTrace=m.Deferred.getStackHook()),e.setTimeout(u))}}return m.Deferred(function(e){n[0][3].add(a(0,e,m.isFunction(r)?r:M,e.notifyWith)),n[1][3].add(a(0,e,m.isFunction(t)?t:M)),n[2][3].add(a(0,e,m.isFunction(i)?i:k))}).promise()},promise:function(e){return null!=e?m.extend(e,r):r}},s={};return m.each(n,function(e,t){var a=t[2],o=t[5];r[t[1]]=a.add,o&&a.add(function(){i=o},n[3-e][2].disable,n[0][2].lock),a.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=a.fireWith}),r.promise(s),t&&t.call(s,s),s},when:function(e){var t=arguments.length,n=t,i=Array(n),r=s.call(arguments),a=m.Deferred(),o=function(e){return function(n){i[e]=this,r[e]=arguments.length>1?s.call(arguments):n,--t||a.resolveWith(i,r)}};if(t<=1&&(F(e,a.done(o(n)).resolve,a.reject,!t),"pending"===a.state()||m.isFunction(r[n]&&r[n].then)))return a.then();for(;n--;)F(r[n],o(n),a.reject);return a.promise()}});var B=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;m.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&B.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},m.readyException=function(t){e.setTimeout(function(){throw t})};var W=m.Deferred();function G(){i.removeEventListener("DOMContentLoaded",G),e.removeEventListener("load",G),m.ready()}m.fn.ready=function(e){return W.then(e).catch(function(e){m.readyException(e)}),this},m.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--m.readyWait:m.isReady)||(m.isReady=!0,!0!==e&&--m.readyWait>0||W.resolveWith(i,[m]))}}),m.ready.then=W.then,"complete"===i.readyState||"loading"!==i.readyState&&!i.documentElement.doScroll?e.setTimeout(m.ready):(i.addEventListener("DOMContentLoaded",G),e.addEventListener("load",G));var U=function(e,t,n,i,r,s,a){var o=0,c=e.length,l=null==n;if("object"===m.type(n))for(o in r=!0,n)U(e,t,o,n[o],!0,s,a);else if(void 0!==i&&(r=!0,m.isFunction(i)||(a=!0),l&&(a?(t.call(e,i),t=null):(l=t,t=function(e,t,n){return l.call(m(e),n)})),t))for(;o<c;o++)t(e[o],n,a?i:i.call(e[o],o,t(e[o],n)));return r?e:l?t.call(e):c?t(e[0],n):s},X=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function V(){this.expando=m.expando+V.uid++}V.uid=1,V.prototype={cache:function(e){var t=e[this.expando];return t||(t={},X(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[m.camelCase(t)]=n;else for(i in t)r[m.camelCase(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][m.camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){Array.isArray(t)?t=t.map(m.camelCase):t=(t=m.camelCase(t))in i?[t]:t.match(D)||[],n=t.length;for(;n--;)delete i[t[n]]}(void 0===t||m.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!m.isEmptyObject(t)}};var q=new V,Y=new V,z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,$=/[A-Z]/g;function Q(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace($,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:z.test(e)?JSON.parse(e):e)}(n)}catch(e){}Y.set(e,t,n)}else n=void 0;return n}m.extend({hasData:function(e){return Y.hasData(e)||q.hasData(e)},data:function(e,t,n){return Y.access(e,t,n)},removeData:function(e,t){Y.remove(e,t)},_data:function(e,t,n){return q.access(e,t,n)},_removeData:function(e,t){q.remove(e,t)}}),m.fn.extend({data:function(e,t){var n,i,r,s=this[0],a=s&&s.attributes;if(void 0===e){if(this.length&&(r=Y.get(s),1===s.nodeType&&!q.get(s,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(0===(i=a[n].name).indexOf("data-")&&(i=m.camelCase(i.slice(5)),Q(s,i,r[i])));q.set(s,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){Y.set(this,e)}):U(this,function(t){var n;if(s&&void 0===t){if(void 0!==(n=Y.get(s,e)))return n;if(void 0!==(n=Q(s,e)))return n}else this.each(function(){Y.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Y.remove(this,e)})}}),m.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=q.get(e,t),n&&(!i||Array.isArray(n)?i=q.access(e,t,m.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=m.queue(e,t),i=n.length,r=n.shift(),s=m._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete s.stop,r.call(e,function(){m.dequeue(e,t)},s)),!i&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return q.get(e,n)||q.access(e,n,{empty:m.Callbacks("once memory").add(function(){q.remove(e,[t+"queue",n])})})}}),m.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?m.queue(this[0],e):void 0===t?this:this.each(function(){var n=m.queue(this,e,t);m._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&m.dequeue(this,e)})},dequeue:function(e){return this.each(function(){m.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=m.Deferred(),s=this,a=this.length,o=function(){--i||r.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=q.get(s[a],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(o));return o(),r.promise(t)}});var J=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,K=new RegExp("^(?:([+-])=|)("+J+")([a-z%]*)$","i"),Z=["Top","Right","Bottom","Left"],ee=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&m.contains(e.ownerDocument,e)&&"none"===m.css(e,"display")},te=function(e,t,n,i){var r,s,a={};for(s in t)a[s]=e.style[s],e.style[s]=t[s];for(s in r=n.apply(e,i||[]),t)e.style[s]=a[s];return r};function ne(e,t,n,i){var r,s=1,a=20,o=i?function(){return i.cur()}:function(){return m.css(e,t,"")},c=o(),l=n&&n[3]||(m.cssNumber[t]?"":"px"),u=(m.cssNumber[t]||"px"!==l&&+c)&&K.exec(m.css(e,t));if(u&&u[3]!==l){l=l||u[3],n=n||[],u=+c||1;do{u/=s=s||".5",m.style(e,t,u+l)}while(s!==(s=o()/c)&&1!==s&&--a)}return n&&(u=+u||+c||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=u,i.end=r)),r}var ie={};function re(e){var t,n=e.ownerDocument,i=e.nodeName,r=ie[i];return r||(t=n.body.appendChild(n.createElement(i)),r=m.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),ie[i]=r,r)}function se(e,t){for(var n,i,r=[],s=0,a=e.length;s<a;s++)(i=e[s]).style&&(n=i.style.display,t?("none"===n&&(r[s]=q.get(i,"display")||null,r[s]||(i.style.display="")),""===i.style.display&&ee(i)&&(r[s]=re(i))):"none"!==n&&(r[s]="none",q.set(i,"display",n)));for(s=0;s<a;s++)null!=r[s]&&(e[s].style.display=r[s]);return e}m.fn.extend({show:function(){return se(this,!0)},hide:function(){return se(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ee(this)?m(this).show():m(this).hide()})}});var ae=/^(?:checkbox|radio)$/i,oe=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ce=/^$|\/(?:java|ecma)script/i,le={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ue(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&C(e,t)?m.merge([e],n):n}function he(e,t){for(var n=0,i=e.length;n<i;n++)q.set(e[n],"globalEval",!t||q.get(t[n],"globalEval"))}le.optgroup=le.option,le.tbody=le.tfoot=le.colgroup=le.caption=le.thead,le.th=le.td;var de=/<|&#?\w+;/;function _e(e,t,n,i,r){for(var s,a,o,c,l,u,h=t.createDocumentFragment(),d=[],_=0,f=e.length;_<f;_++)if((s=e[_])||0===s)if("object"===m.type(s))m.merge(d,s.nodeType?[s]:s);else if(de.test(s)){for(a=a||h.appendChild(t.createElement("div")),o=(oe.exec(s)||["",""])[1].toLowerCase(),c=le[o]||le._default,a.innerHTML=c[1]+m.htmlPrefilter(s)+c[2],u=c[0];u--;)a=a.lastChild;m.merge(d,a.childNodes),(a=h.firstChild).textContent=""}else d.push(t.createTextNode(s));for(h.textContent="",_=0;s=d[_++];)if(i&&m.inArray(s,i)>-1)r&&r.push(s);else if(l=m.contains(s.ownerDocument,s),a=ue(h.appendChild(s),"script"),l&&he(a),n)for(u=0;s=a[u++];)ce.test(s.type||"")&&n.push(s);return h}!function(){var e=i.createDocumentFragment().appendChild(i.createElement("div")),t=i.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),f.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",f.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var fe=i.documentElement,pe=/^key/,ge=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,me=/^([^.]*)(?:\.(.+)|)/;function ve(){return!0}function be(){return!1}function ye(){try{return i.activeElement}catch(e){}}function xe(e,t,n,i,r,s){var a,o;if("object"==typeof t){for(o in"string"!=typeof n&&(i=i||n,n=void 0),t)xe(e,o,n,i,t[o],s);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=be;else if(!r)return e;return 1===s&&(a=r,(r=function(e){return m().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=m.guid++)),e.each(function(){m.event.add(this,t,r,i,n)})}m.event={global:{},add:function(e,t,n,i,r){var s,a,o,c,l,u,h,d,_,f,p,g=q.get(e);if(g)for(n.handler&&(n=(s=n).handler,r=s.selector),r&&m.find.matchesSelector(fe,r),n.guid||(n.guid=m.guid++),(c=g.events)||(c=g.events={}),(a=g.handle)||(a=g.handle=function(t){return void 0!==m&&m.event.triggered!==t.type?m.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(D)||[""]).length;l--;)_=p=(o=me.exec(t[l])||[])[1],f=(o[2]||"").split(".").sort(),_&&(h=m.event.special[_]||{},_=(r?h.delegateType:h.bindType)||_,h=m.event.special[_]||{},u=m.extend({type:_,origType:p,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&m.expr.match.needsContext.test(r),namespace:f.join(".")},s),(d=c[_])||((d=c[_]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,i,f,a)||e.addEventListener&&e.addEventListener(_,a)),h.add&&(h.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,u):d.push(u),m.event.global[_]=!0)},remove:function(e,t,n,i,r){var s,a,o,c,l,u,h,d,_,f,p,g=q.hasData(e)&&q.get(e);if(g&&(c=g.events)){for(l=(t=(t||"").match(D)||[""]).length;l--;)if(_=p=(o=me.exec(t[l])||[])[1],f=(o[2]||"").split(".").sort(),_){for(h=m.event.special[_]||{},d=c[_=(i?h.delegateType:h.bindType)||_]||[],o=o[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=s=d.length;s--;)u=d[s],!r&&p!==u.origType||n&&n.guid!==u.guid||o&&!o.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(d.splice(s,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(e,u));a&&!d.length&&(h.teardown&&!1!==h.teardown.call(e,f,g.handle)||m.removeEvent(e,_,g.handle),delete c[_])}else for(_ in c)m.event.remove(e,_+t[l],n,i,!0);m.isEmptyObject(c)&&q.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,s,a,o=m.event.fix(e),c=new Array(arguments.length),l=(q.get(this,"events")||{})[o.type]||[],u=m.event.special[o.type]||{};for(c[0]=o,t=1;t<arguments.length;t++)c[t]=arguments[t];if(o.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,o)){for(a=m.event.handlers.call(this,o,l),t=0;(r=a[t++])&&!o.isPropagationStopped();)for(o.currentTarget=r.elem,n=0;(s=r.handlers[n++])&&!o.isImmediatePropagationStopped();)o.rnamespace&&!o.rnamespace.test(s.namespace)||(o.handleObj=s,o.data=s.data,void 0!==(i=((m.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,c))&&!1===(o.result=i)&&(o.preventDefault(),o.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,o),o.result}},handlers:function(e,t){var n,i,r,s,a,o=[],c=t.delegateCount,l=e.target;if(c&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(s=[],a={},n=0;n<c;n++)void 0===a[r=(i=t[n]).selector+" "]&&(a[r]=i.needsContext?m(r,this).index(l)>-1:m.find(r,this,null,[l]).length),a[r]&&s.push(i);s.length&&o.push({elem:l,handlers:s})}return l=this,c<t.length&&o.push({elem:l,handlers:t.slice(c)}),o},addProp:function(e,t){Object.defineProperty(m.Event.prototype,e,{enumerable:!0,configurable:!0,get:m.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[m.expando]?e:new m.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ye()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===ye()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&C(this,"input"))return this.click(),!1},_default:function(e){return C(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},m.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},m.Event=function(e,t){return this instanceof m.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ve:be,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&m.extend(this,t),this.timeStamp=e&&e.timeStamp||m.now(),void(this[m.expando]=!0)):new m.Event(e,t)},m.Event.prototype={constructor:m.Event,isDefaultPrevented:be,isPropagationStopped:be,isImmediatePropagationStopped:be,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ve,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ve,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ve,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},m.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&pe.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&ge.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},m.event.addProp),m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){m.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=e.relatedTarget,r=e.handleObj;return i&&(i===this||m.contains(this,i))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),m.fn.extend({on:function(e,t,n,i){return xe(this,e,t,n,i)},one:function(e,t,n,i){return xe(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,m(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=be),this.each(function(){m.event.remove(this,e,n,t)})}});var Se=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,we=/<script|<style|<link/i,Ee=/checked\s*(?:[^=]|=\s*.checked.)/i,Te=/^true\/(.*)/,Ae=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ce(e,t){return C(e,"table")&&C(11!==t.nodeType?t:t.firstChild,"tr")&&m(">tbody",e)[0]||e}function Ie(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Oe(e){var t=Te.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Le(e,t){var n,i,r,s,a,o,c,l;if(1===t.nodeType){if(q.hasData(e)&&(s=q.access(e),a=q.set(t,s),l=s.events))for(r in delete a.handle,a.events={},l)for(n=0,i=l[r].length;n<i;n++)m.event.add(t,r,l[r][n]);Y.hasData(e)&&(o=Y.access(e),c=m.extend({},o),Y.set(t,c))}}function Pe(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ae.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Re(e,t,n,i){t=a.apply([],t);var r,s,o,c,l,u,h=0,d=e.length,_=d-1,g=t[0],v=m.isFunction(g);if(v||d>1&&"string"==typeof g&&!f.checkClone&&Ee.test(g))return e.each(function(r){var s=e.eq(r);v&&(t[0]=g.call(this,r,s.html())),Re(s,t,n,i)});if(d&&(s=(r=_e(t,e[0].ownerDocument,!1,e,i)).firstChild,1===r.childNodes.length&&(r=s),s||i)){for(c=(o=m.map(ue(r,"script"),Ie)).length;h<d;h++)l=r,h!==_&&(l=m.clone(l,!0,!0),c&&m.merge(o,ue(l,"script"))),n.call(e[h],l,h);if(c)for(u=o[o.length-1].ownerDocument,m.map(o,Oe),h=0;h<c;h++)l=o[h],ce.test(l.type||"")&&!q.access(l,"globalEval")&&m.contains(u,l)&&(l.src?m._evalUrl&&m._evalUrl(l.src):p(l.textContent.replace(Ae,""),u))}return e}function je(e,t,n){for(var i,r=t?m.filter(t,e):e,s=0;null!=(i=r[s]);s++)n||1!==i.nodeType||m.cleanData(ue(i)),i.parentNode&&(n&&m.contains(i.ownerDocument,i)&&he(ue(i,"script")),i.parentNode.removeChild(i));return e}m.extend({htmlPrefilter:function(e){return e.replace(Se,"<$1></$2>")},clone:function(e,t,n){var i,r,s,a,o=e.cloneNode(!0),c=m.contains(e.ownerDocument,e);if(!(f.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||m.isXMLDoc(e)))for(a=ue(o),i=0,r=(s=ue(e)).length;i<r;i++)Pe(s[i],a[i]);if(t)if(n)for(s=s||ue(e),a=a||ue(o),i=0,r=s.length;i<r;i++)Le(s[i],a[i]);else Le(e,o);return(a=ue(o,"script")).length>0&&he(a,!c&&ue(e,"script")),o},cleanData:function(e){for(var t,n,i,r=m.event.special,s=0;void 0!==(n=e[s]);s++)if(X(n)){if(t=n[q.expando]){if(t.events)for(i in t.events)r[i]?m.event.remove(n,i):m.removeEvent(n,i,t.handle);n[q.expando]=void 0}n[Y.expando]&&(n[Y.expando]=void 0)}}}),m.fn.extend({detach:function(e){return je(this,e,!0)},remove:function(e){return je(this,e)},text:function(e){return U(this,function(e){return void 0===e?m.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Re(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ce(this,e).appendChild(e)})},prepend:function(){return Re(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ce(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Re(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Re(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(m.cleanData(ue(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return m.clone(this,e,t)})},html:function(e){return U(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!we.test(e)&&!le[(oe.exec(e)||["",""])[1].toLowerCase()]){e=m.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(m.cleanData(ue(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Re(this,arguments,function(t){var n=this.parentNode;m.inArray(this,e)<0&&(m.cleanData(ue(this)),n&&n.replaceChild(t,this))},e)}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){m.fn[e]=function(e){for(var n,i=[],r=m(e),s=r.length-1,a=0;a<=s;a++)n=a===s?this:this.clone(!0),m(r[a])[t](n),o.apply(i,n.get());return this.pushStack(i)}});var Ne=/^margin/,He=new RegExp("^("+J+")(?!px)[a-z%]+$","i"),De=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)};function Me(e,t,n){var i,r,s,a,o=e.style;return(n=n||De(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||m.contains(e.ownerDocument,e)||(a=m.style(e,t)),!f.pixelMarginRight()&&He.test(a)&&Ne.test(t)&&(i=o.width,r=o.minWidth,s=o.maxWidth,o.minWidth=o.maxWidth=o.width=a,a=n.width,o.width=i,o.minWidth=r,o.maxWidth=s)),void 0!==a?a+"":a}function ke(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}!function(){function t(){if(c){c.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",c.innerHTML="",fe.appendChild(o);var t=e.getComputedStyle(c);n="1%"!==t.top,a="2px"===t.marginLeft,r="4px"===t.width,c.style.marginRight="50%",s="4px"===t.marginRight,fe.removeChild(o),c=null}}var n,r,s,a,o=i.createElement("div"),c=i.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle="content-box"===c.style.backgroundClip,o.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",o.appendChild(c),m.extend(f,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return t(),r},pixelMarginRight:function(){return t(),s},reliableMarginLeft:function(){return t(),a}}))}();var Fe=/^(none|table(?!-c[ea]).+)/,Be=/^--/,We={position:"absolute",visibility:"hidden",display:"block"},Ge={letterSpacing:"0",fontWeight:"400"},Ue=["Webkit","Moz","ms"],Xe=i.createElement("div").style;function Ve(e){var t=m.cssProps[e];return t||(t=m.cssProps[e]=function(e){if(e in Xe)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=Ue.length;n--;)if((e=Ue[n]+t)in Xe)return e}(e)||e),t}function qe(e,t,n){var i=K.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function Ye(e,t,n,i,r){var s,a=0;for(s=n===(i?"border":"content")?4:"width"===t?1:0;s<4;s+=2)"margin"===n&&(a+=m.css(e,n+Z[s],!0,r)),i?("content"===n&&(a-=m.css(e,"padding"+Z[s],!0,r)),"margin"!==n&&(a-=m.css(e,"border"+Z[s]+"Width",!0,r))):(a+=m.css(e,"padding"+Z[s],!0,r),"padding"!==n&&(a+=m.css(e,"border"+Z[s]+"Width",!0,r)));return a}function ze(e,t,n){var i,r=De(e),s=Me(e,t,r),a="border-box"===m.css(e,"boxSizing",!1,r);return He.test(s)?s:(i=a&&(f.boxSizingReliable()||s===e.style[t]),"auto"===s&&(s=e["offset"+t[0].toUpperCase()+t.slice(1)]),(s=parseFloat(s)||0)+Ye(e,t,n||(a?"border":"content"),i,r)+"px")}function $e(e,t,n,i,r){return new $e.prototype.init(e,t,n,i,r)}m.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Me(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,s,a,o=m.camelCase(t),c=Be.test(t),l=e.style;return c||(t=Ve(o)),a=m.cssHooks[t]||m.cssHooks[o],void 0===n?a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:l[t]:("string"===(s=typeof n)&&(r=K.exec(n))&&r[1]&&(n=ne(e,t,r),s="number"),void(null!=n&&n==n&&("number"===s&&(n+=r&&r[3]||(m.cssNumber[o]?"":"px")),f.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(c?l.setProperty(t,n):l[t]=n))))}},css:function(e,t,n,i){var r,s,a,o=m.camelCase(t);return Be.test(t)||(t=Ve(o)),(a=m.cssHooks[t]||m.cssHooks[o])&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=Me(e,t,i)),"normal"===r&&t in Ge&&(r=Ge[t]),""===n||n?(s=parseFloat(r),!0===n||isFinite(s)?s||0:r):r}}),m.each(["height","width"],function(e,t){m.cssHooks[t]={get:function(e,n,i){if(n)return!Fe.test(m.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ze(e,t,i):te(e,We,function(){return ze(e,t,i)})},set:function(e,n,i){var r,s=i&&De(e),a=i&&Ye(e,t,i,"border-box"===m.css(e,"boxSizing",!1,s),s);return a&&(r=K.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=m.css(e,t)),qe(0,n,a)}}}),m.cssHooks.marginLeft=ke(f.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Me(e,"marginLeft"))||e.getBoundingClientRect().left-te(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),m.each({margin:"",padding:"",border:"Width"},function(e,t){m.cssHooks[e+t]={expand:function(n){for(var i=0,r={},s="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+Z[i]+t]=s[i]||s[i-2]||s[0];return r}},Ne.test(e)||(m.cssHooks[e+t].set=qe)}),m.fn.extend({css:function(e,t){return U(this,function(e,t,n){var i,r,s={},a=0;if(Array.isArray(t)){for(i=De(e),r=t.length;a<r;a++)s[t[a]]=m.css(e,t[a],!1,i);return s}return void 0!==n?m.style(e,t,n):m.css(e,t)},e,t,arguments.length>1)}}),m.Tween=$e,$e.prototype={constructor:$e,init:function(e,t,n,i,r,s){this.elem=e,this.prop=n,this.easing=r||m.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=s||(m.cssNumber[n]?"":"px")},cur:function(){var e=$e.propHooks[this.prop];return e&&e.get?e.get(this):$e.propHooks._default.get(this)},run:function(e){var t,n=$e.propHooks[this.prop];return this.options.duration?this.pos=t=m.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):$e.propHooks._default.set(this),this}},$e.prototype.init.prototype=$e.prototype,$e.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=m.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){m.fx.step[e.prop]?m.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[m.cssProps[e.prop]]&&!m.cssHooks[e.prop]?e.elem[e.prop]=e.now:m.style(e.elem,e.prop,e.now+e.unit)}}},$e.propHooks.scrollTop=$e.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},m.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},m.fx=$e.prototype.init,m.fx.step={};var Qe,Je,Ke=/^(?:toggle|show|hide)$/,Ze=/queueHooks$/;function et(){Je&&(!1===i.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(et):e.setTimeout(et,m.fx.interval),m.fx.tick())}function tt(){return e.setTimeout(function(){Qe=void 0}),Qe=m.now()}function nt(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=Z[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function it(e,t,n){for(var i,r=(rt.tweeners[t]||[]).concat(rt.tweeners["*"]),s=0,a=r.length;s<a;s++)if(i=r[s].call(n,t,e))return i}function rt(e,t,n){var i,r,s=0,a=rt.prefilters.length,o=m.Deferred().always(function(){delete c.elem}),c=function(){if(r)return!1;for(var t=Qe||tt(),n=Math.max(0,l.startTime+l.duration-t),i=1-(n/l.duration||0),s=0,a=l.tweens.length;s<a;s++)l.tweens[s].run(i);return o.notifyWith(e,[l,i,n]),i<1&&a?n:(a||o.notifyWith(e,[l,1,0]),o.resolveWith(e,[l]),!1)},l=o.promise({elem:e,props:m.extend({},t),opts:m.extend(!0,{specialEasing:{},easing:m.easing._default},n),originalProperties:t,originalOptions:n,startTime:Qe||tt(),duration:n.duration,tweens:[],createTween:function(t,n){var i=m.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(i),i},stop:function(t){var n=0,i=t?l.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)l.tweens[n].run(1);return t?(o.notifyWith(e,[l,1,0]),o.resolveWith(e,[l,t])):o.rejectWith(e,[l,t]),this}}),u=l.props;for(function(e,t){var n,i,r,s,a;for(n in e)if(r=t[i=m.camelCase(n)],s=e[n],Array.isArray(s)&&(r=s[1],s=e[n]=s[0]),n!==i&&(e[i]=s,delete e[n]),(a=m.cssHooks[i])&&"expand"in a)for(n in s=a.expand(s),delete e[i],s)n in e||(e[n]=s[n],t[n]=r);else t[i]=r}(u,l.opts.specialEasing);s<a;s++)if(i=rt.prefilters[s].call(l,e,u,l.opts))return m.isFunction(i.stop)&&(m._queueHooks(l.elem,l.opts.queue).stop=m.proxy(i.stop,i)),i;return m.map(u,it,l),m.isFunction(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),m.fx.timer(m.extend(c,{elem:e,anim:l,queue:l.opts.queue})),l}m.Animation=m.extend(rt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ne(n.elem,e,K.exec(t),n),n}]},tweener:function(e,t){m.isFunction(e)?(t=e,e=["*"]):e=e.match(D);for(var n,i=0,r=e.length;i<r;i++)n=e[i],rt.tweeners[n]=rt.tweeners[n]||[],rt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,s,a,o,c,l,u,h="width"in t||"height"in t,d=this,_={},f=e.style,p=e.nodeType&&ee(e),g=q.get(e,"fxshow");for(i in n.queue||(null==(a=m._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,o=a.empty.fire,a.empty.fire=function(){a.unqueued||o()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,m.queue(e,"fx").length||a.empty.fire()})})),t)if(r=t[i],Ke.test(r)){if(delete t[i],s=s||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;p=!0}_[i]=g&&g[i]||m.style(e,i)}if((c=!m.isEmptyObject(t))||!m.isEmptyObject(_))for(i in h&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(l=g&&g.display)&&(l=q.get(e,"display")),"none"===(u=m.css(e,"display"))&&(l?u=l:(se([e],!0),l=e.style.display||l,u=m.css(e,"display"),se([e]))),("inline"===u||"inline-block"===u&&null!=l)&&"none"===m.css(e,"float")&&(c||(d.done(function(){f.display=l}),null==l&&(u=f.display,l="none"===u?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),c=!1,_)c||(g?"hidden"in g&&(p=g.hidden):g=q.access(e,"fxshow",{display:l}),s&&(g.hidden=!p),p&&se([e],!0),d.done(function(){for(i in p||se([e]),q.remove(e,"fxshow"),_)m.style(e,i,_[i])})),c=it(p?g[i]:0,i,d),i in g||(g[i]=c.start,p&&(c.end=c.start,c.start=0))}],prefilter:function(e,t){t?rt.prefilters.unshift(e):rt.prefilters.push(e)}}),m.speed=function(e,t,n){var i=e&&"object"==typeof e?m.extend({},e):{complete:n||!n&&t||m.isFunction(e)&&e,duration:e,easing:n&&t||t&&!m.isFunction(t)&&t};return m.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in m.fx.speeds?i.duration=m.fx.speeds[i.duration]:i.duration=m.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){m.isFunction(i.old)&&i.old.call(this),i.queue&&m.dequeue(this,i.queue)},i},m.fn.extend({fadeTo:function(e,t,n,i){return this.filter(ee).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=m.isEmptyObject(e),s=m.speed(t,n,i),a=function(){var t=rt(this,m.extend({},e),s);(r||q.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||!1===s.queue?this.each(a):this.queue(s.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",s=m.timers,a=q.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&Ze.test(r)&&i(a[r]);for(r=s.length;r--;)s[r].elem!==this||null!=e&&s[r].queue!==e||(s[r].anim.stop(n),t=!1,s.splice(r,1));!t&&n||m.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=q.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],s=m.timers,a=i?i.length:0;for(n.finish=!0,m.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<a;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),m.each(["toggle","show","hide"],function(e,t){var n=m.fn[t];m.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(nt(t,!0),e,i,r)}}),m.each({slideDown:nt("show"),slideUp:nt("hide"),slideToggle:nt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){m.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),m.timers=[],m.fx.tick=function(){var e,t=0,n=m.timers;for(Qe=m.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||m.fx.stop(),Qe=void 0},m.fx.timer=function(e){m.timers.push(e),m.fx.start()},m.fx.interval=13,m.fx.start=function(){Je||(Je=!0,et())},m.fx.stop=function(){Je=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(t,n){return t=m.fx&&m.fx.speeds[t]||t,n=n||"fx",this.queue(n,function(n,i){var r=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(r)}})},function(){var e=i.createElement("input"),t=i.createElement("select").appendChild(i.createElement("option"));e.type="checkbox",f.checkOn=""!==e.value,f.optSelected=t.selected,(e=i.createElement("input")).value="t",e.type="radio",f.radioValue="t"===e.value}();var st,at=m.expr.attrHandle;m.fn.extend({attr:function(e,t){return U(this,m.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){m.removeAttr(this,e)})}}),m.extend({attr:function(e,t,n){var i,r,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===e.getAttribute?m.prop(e,t,n):(1===s&&m.isXMLDoc(e)||(r=m.attrHooks[t.toLowerCase()]||(m.expr.match.bool.test(t)?st:void 0)),void 0!==n?null===n?void m.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=m.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!f.radioValue&&"radio"===t&&C(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(D);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),st={set:function(e,t,n){return!1===t?m.removeAttr(e,n):e.setAttribute(n,n),n}},m.each(m.expr.match.bool.source.match(/\w+/g),function(e,t){var n=at[t]||m.find.attr;at[t]=function(e,t,i){var r,s,a=t.toLowerCase();return i||(s=at[a],at[a]=r,r=null!=n(e,t,i)?a:null,at[a]=s),r}});var ot=/^(?:input|select|textarea|button)$/i,ct=/^(?:a|area)$/i;function lt(e){return(e.match(D)||[]).join(" ")}function ut(e){return e.getAttribute&&e.getAttribute("class")||""}m.fn.extend({prop:function(e,t){return U(this,m.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[m.propFix[e]||e]})}}),m.extend({prop:function(e,t,n){var i,r,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&m.isXMLDoc(e)||(t=m.propFix[t]||t,r=m.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=m.find.attr(e,"tabindex");return t?parseInt(t,10):ot.test(e.nodeName)||ct.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),f.optSelected||(m.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this}),m.fn.extend({addClass:function(e){var t,n,i,r,s,a,o,c=0;if(m.isFunction(e))return this.each(function(t){m(this).addClass(e.call(this,t,ut(this)))});if("string"==typeof e&&e)for(t=e.match(D)||[];n=this[c++];)if(r=ut(n),i=1===n.nodeType&&" "+lt(r)+" "){for(a=0;s=t[a++];)i.indexOf(" "+s+" ")<0&&(i+=s+" ");r!==(o=lt(i))&&n.setAttribute("class",o)}return this},removeClass:function(e){var t,n,i,r,s,a,o,c=0;if(m.isFunction(e))return this.each(function(t){m(this).removeClass(e.call(this,t,ut(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(D)||[];n=this[c++];)if(r=ut(n),i=1===n.nodeType&&" "+lt(r)+" "){for(a=0;s=t[a++];)for(;i.indexOf(" "+s+" ")>-1;)i=i.replace(" "+s+" "," ");r!==(o=lt(i))&&n.setAttribute("class",o)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):m.isFunction(e)?this.each(function(n){m(this).toggleClass(e.call(this,n,ut(this),t),t)}):this.each(function(){var t,i,r,s;if("string"===n)for(i=0,r=m(this),s=e.match(D)||[];t=s[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==e&&"boolean"!==n||((t=ut(this))&&q.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":q.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+lt(ut(n))+" ").indexOf(t)>-1)return!0;return!1}});var ht=/\r/g;m.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=m.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,m(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=m.map(r,function(e){return null==e?"":e+""})),(t=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=m.valHooks[r.type]||m.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(ht,""):null==n?"":n:void 0}}),m.extend({valHooks:{option:{get:function(e){var t=m.find.attr(e,"value");return null!=t?t:lt(m.text(e))}},select:{get:function(e){var t,n,i,r=e.options,s=e.selectedIndex,a="select-one"===e.type,o=a?null:[],c=a?s+1:r.length;for(i=s<0?c:a?s:0;i<c;i++)if(((n=r[i]).selected||i===s)&&!n.disabled&&(!n.parentNode.disabled||!C(n.parentNode,"optgroup"))){if(t=m(n).val(),a)return t;o.push(t)}return o},set:function(e,t){for(var n,i,r=e.options,s=m.makeArray(t),a=r.length;a--;)((i=r[a]).selected=m.inArray(m.valHooks.option.get(i),s)>-1)&&(n=!0);return n||(e.selectedIndex=-1),s}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=m.inArray(m(e).val(),t)>-1}},f.checkOn||(m.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var dt=/^(?:focusinfocus|focusoutblur)$/;m.extend(m.event,{trigger:function(t,n,r,s){var a,o,c,l,u,d,_,f=[r||i],p=h.call(t,"type")?t.type:t,g=h.call(t,"namespace")?t.namespace.split("."):[];if(o=c=r=r||i,3!==r.nodeType&&8!==r.nodeType&&!dt.test(p+m.event.triggered)&&(p.indexOf(".")>-1&&(p=(g=p.split(".")).shift(),g.sort()),u=p.indexOf(":")<0&&"on"+p,(t=t[m.expando]?t:new m.Event(p,"object"==typeof t&&t)).isTrigger=s?2:3,t.namespace=g.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:m.makeArray(n,[t]),_=m.event.special[p]||{},s||!_.trigger||!1!==_.trigger.apply(r,n))){if(!s&&!_.noBubble&&!m.isWindow(r)){for(l=_.delegateType||p,dt.test(l+p)||(o=o.parentNode);o;o=o.parentNode)f.push(o),c=o;c===(r.ownerDocument||i)&&f.push(c.defaultView||c.parentWindow||e)}for(a=0;(o=f[a++])&&!t.isPropagationStopped();)t.type=a>1?l:_.bindType||p,(d=(q.get(o,"events")||{})[t.type]&&q.get(o,"handle"))&&d.apply(o,n),(d=u&&o[u])&&d.apply&&X(o)&&(t.result=d.apply(o,n),!1===t.result&&t.preventDefault());return t.type=p,s||t.isDefaultPrevented()||_._default&&!1!==_._default.apply(f.pop(),n)||!X(r)||u&&m.isFunction(r[p])&&!m.isWindow(r)&&((c=r[u])&&(r[u]=null),m.event.triggered=p,r[p](),m.event.triggered=void 0,c&&(r[u]=c)),t.result}},simulate:function(e,t,n){var i=m.extend(new m.Event,n,{type:e,isSimulated:!0});m.event.trigger(i,null,t)}}),m.fn.extend({trigger:function(e,t){return this.each(function(){m.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return m.event.trigger(e,t,n,!0)}}),m.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){m.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),m.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),f.focusin="onfocusin"in e,f.focusin||m.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){m.event.simulate(t,e.target,m.event.fix(e))};m.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=q.access(i,t);r||i.addEventListener(e,n,!0),q.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=q.access(i,t)-1;r?q.access(i,t,r):(i.removeEventListener(e,n,!0),q.remove(i,t))}}});var _t=e.location,ft=m.now(),pt=/\?/;m.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+t),n};var gt=/\[\]$/,mt=/\r?\n/g,vt=/^(?:submit|button|image|reset|file)$/i,bt=/^(?:input|select|textarea|keygen)/i;function yt(e,t,n,i){var r;if(Array.isArray(t))m.each(t,function(t,r){n||gt.test(e)?i(e,r):yt(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==m.type(t))i(e,t);else for(r in t)yt(e+"["+r+"]",t[r],n,i)}m.param=function(e,t){var n,i=[],r=function(e,t){var n=m.isFunction(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!m.isPlainObject(e))m.each(e,function(){r(this.name,this.value)});else for(n in e)yt(n,e[n],t,r);return i.join("&")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=m.prop(this,"elements");return e?m.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!m(this).is(":disabled")&&bt.test(this.nodeName)&&!vt.test(e)&&(this.checked||!ae.test(e))}).map(function(e,t){var n=m(this).val();return null==n?null:Array.isArray(n)?m.map(n,function(e){return{name:t.name,value:e.replace(mt,"\r\n")}}):{name:t.name,value:n.replace(mt,"\r\n")}}).get()}});var xt=/%20/g,St=/#.*$/,wt=/([?&])_=[^&]*/,Et=/^(.*?):[ \t]*([^\r\n]*)$/gm,Tt=/^(?:GET|HEAD)$/,At=/^\/\//,Ct={},It={},Ot="*/".concat("*"),Lt=i.createElement("a");function Pt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,s=t.toLowerCase().match(D)||[];if(m.isFunction(n))for(;i=s[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Rt(e,t,n,i){var r={},s=e===It;function a(o){var c;return r[o]=!0,m.each(e[o]||[],function(e,o){var l=o(t,n,i);return"string"!=typeof l||s||r[l]?s?!(c=l):void 0:(t.dataTypes.unshift(l),a(l),!1)}),c}return a(t.dataTypes[0])||!r["*"]&&a("*")}function jt(e,t){var n,i,r=m.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&m.extend(!0,e,i),e}Lt.href=_t.href,m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_t.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(_t.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ot,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?jt(jt(e,m.ajaxSettings),t):jt(m.ajaxSettings,e)},ajaxPrefilter:Pt(Ct),ajaxTransport:Pt(It),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var r,s,a,o,c,l,u,h,d,_,f=m.ajaxSetup({},n),p=f.context||f,g=f.context&&(p.nodeType||p.jquery)?m(p):m.event,v=m.Deferred(),b=m.Callbacks("once memory"),y=f.statusCode||{},x={},S={},w="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(u){if(!o)for(o={};t=Et.exec(a);)o[t[1].toLowerCase()]=t[2];t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return u?a:null},setRequestHeader:function(e,t){return null==u&&(e=S[e.toLowerCase()]=S[e.toLowerCase()]||e,x[e]=t),this},overrideMimeType:function(e){return null==u&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)E.always(e[E.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||w;return r&&r.abort(t),T(0,t),this}};if(v.promise(E),f.url=((t||f.url||_t.href)+"").replace(At,_t.protocol+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(D)||[""],null==f.crossDomain){l=i.createElement("a");try{l.href=f.url,l.href=l.href,f.crossDomain=Lt.protocol+"//"+Lt.host!=l.protocol+"//"+l.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=m.param(f.data,f.traditional)),Rt(Ct,f,n,E),u)return E;for(d in(h=m.event&&f.global)&&0==m.active++&&m.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Tt.test(f.type),s=f.url.replace(St,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(xt,"+")):(_=f.url.slice(s.length),f.data&&(s+=(pt.test(s)?"&":"?")+f.data,delete f.data),!1===f.cache&&(s=s.replace(wt,"$1"),_=(pt.test(s)?"&":"?")+"_="+ft+++_),f.url=s+_),f.ifModified&&(m.lastModified[s]&&E.setRequestHeader("If-Modified-Since",m.lastModified[s]),m.etag[s]&&E.setRequestHeader("If-None-Match",m.etag[s])),(f.data&&f.hasContent&&!1!==f.contentType||n.contentType)&&E.setRequestHeader("Content-Type",f.contentType),E.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Ot+"; q=0.01":""):f.accepts["*"]),f.headers)E.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(!1===f.beforeSend.call(p,E,f)||u))return E.abort();if(w="abort",b.add(f.complete),E.done(f.success),E.fail(f.error),r=Rt(It,f,n,E)){if(E.readyState=1,h&&g.trigger("ajaxSend",[E,f]),u)return E;f.async&&f.timeout>0&&(c=e.setTimeout(function(){E.abort("timeout")},f.timeout));try{u=!1,r.send(x,T)}catch(e){if(u)throw e;T(-1,e)}}else T(-1,"No Transport");function T(t,n,i,o){var l,d,_,x,S,w=n;u||(u=!0,c&&e.clearTimeout(c),r=void 0,a=o||"",E.readyState=t>0?4:0,l=t>=200&&t<300||304===t,i&&(x=function(e,t,n){for(var i,r,s,a,o=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in o)if(o[r]&&o[r].test(i)){c.unshift(r);break}if(c[0]in n)s=c[0];else{for(r in n){if(!c[0]||e.converters[r+" "+c[0]]){s=r;break}a||(a=r)}s=s||a}if(s)return s!==c[0]&&c.unshift(s),n[s]}(f,E,i)),x=function(e,t,n,i){var r,s,a,o,c,l={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(s=u.shift();s;)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!c&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=s,s=u.shift())if("*"===s)s=c;else if("*"!==c&&c!==s){if(!(a=l[c+" "+s]||l["* "+s]))for(r in l)if((o=r.split(" "))[1]===s&&(a=l[c+" "+o[0]]||l["* "+o[0]])){!0===a?a=l[r]:!0!==l[r]&&(s=o[0],u.unshift(o[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+c+" to "+s}}}return{state:"success",data:t}}(f,x,E,l),l?(f.ifModified&&((S=E.getResponseHeader("Last-Modified"))&&(m.lastModified[s]=S),(S=E.getResponseHeader("etag"))&&(m.etag[s]=S)),204===t||"HEAD"===f.type?w="nocontent":304===t?w="notmodified":(w=x.state,d=x.data,l=!(_=x.error))):(_=w,!t&&w||(w="error",t<0&&(t=0))),E.status=t,E.statusText=(n||w)+"",l?v.resolveWith(p,[d,w,E]):v.rejectWith(p,[E,w,_]),E.statusCode(y),y=void 0,h&&g.trigger(l?"ajaxSuccess":"ajaxError",[E,f,l?d:_]),b.fireWith(p,[E,w]),h&&(g.trigger("ajaxComplete",[E,f]),--m.active||m.event.trigger("ajaxStop")))}return E},getJSON:function(e,t,n){return m.get(e,t,n,"json")},getScript:function(e,t){return m.get(e,void 0,t,"script")}}),m.each(["get","post"],function(e,t){m[t]=function(e,n,i,r){return m.isFunction(n)&&(r=r||i,i=n,n=void 0),m.ajax(m.extend({url:e,type:t,dataType:r,data:n,success:i},m.isPlainObject(e)&&e))}}),m._evalUrl=function(e){return m.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},m.fn.extend({wrapAll:function(e){var t;return this[0]&&(m.isFunction(e)&&(e=e.call(this[0])),t=m(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return m.isFunction(e)?this.each(function(t){m(this).wrapInner(e.call(this,t))}):this.each(function(){var t=m(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=m.isFunction(e);return this.each(function(n){m(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){m(this).replaceWith(this.childNodes)}),this}}),m.expr.pseudos.hidden=function(e){return!m.expr.pseudos.visible(e)},m.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},m.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Nt={0:200,1223:204},Ht=m.ajaxSettings.xhr();f.cors=!!Ht&&"withCredentials"in Ht,f.ajax=Ht=!!Ht,m.ajaxTransport(function(t){var n,i;if(f.cors||Ht&&!t.crossDomain)return{send:function(r,s){var a,o=t.xhr();if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)o[a]=t.xhrFields[a];for(a in t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)o.setRequestHeader(a,r[a]);n=function(e){return function(){n&&(n=i=o.onload=o.onerror=o.onabort=o.onreadystatechange=null,"abort"===e?o.abort():"error"===e?"number"!=typeof o.status?s(0,"error"):s(o.status,o.statusText):s(Nt[o.status]||o.status,o.statusText,"text"!==(o.responseType||"text")||"string"!=typeof o.responseText?{binary:o.response}:{text:o.responseText},o.getAllResponseHeaders()))}},o.onload=n(),i=o.onerror=n("error"),void 0!==o.onabort?o.onabort=i:o.onreadystatechange=function(){4===o.readyState&&e.setTimeout(function(){n&&i()})},n=n("abort");try{o.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),m.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return m.globalEval(e),e}}}),m.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),m.ajaxTransport("script",function(e){var t,n;if(e.crossDomain)return{send:function(r,s){t=m("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&s("error"===e.type?404:200,e.type)}),i.head.appendChild(t[0])},abort:function(){n&&n()}}});var Dt=[],Mt=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Dt.pop()||m.expando+"_"+ft++;return this[e]=!0,e}}),m.ajaxPrefilter("json jsonp",function(t,n,i){var r,s,a,o=!1!==t.jsonp&&(Mt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Mt.test(t.data)&&"data");if(o||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=m.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o?t[o]=t[o].replace(Mt,"$1"+r):!1!==t.jsonp&&(t.url+=(pt.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||m.error(r+" was not called"),a[0]},t.dataTypes[0]="json",s=e[r],e[r]=function(){a=arguments},i.always(function(){void 0===s?m(e).removeProp(r):e[r]=s,t[r]&&(t.jsonpCallback=n.jsonpCallback,Dt.push(r)),a&&m.isFunction(s)&&s(a[0]),a=s=void 0}),"script"}),f.createHTMLDocument=function(){var e=i.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),m.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(f.createHTMLDocument?((r=(t=i.implementation.createHTMLDocument("")).createElement("base")).href=i.location.href,t.head.appendChild(r)):t=i),s=I.exec(e),a=!n&&[],s?[t.createElement(s[1])]:(s=_e([e],t,a),a&&a.length&&m(a).remove(),m.merge([],s.childNodes)));var r,s,a},m.fn.load=function(e,t,n){var i,r,s,a=this,o=e.indexOf(" ");return o>-1&&(i=lt(e.slice(o)),e=e.slice(0,o)),m.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&m.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){s=arguments,a.html(i?m("<div>").append(m.parseHTML(e)).find(i):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,s||[e.responseText,t,e])})}),this},m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){m.fn[t]=function(e){return this.on(t,e)}}),m.expr.pseudos.animated=function(e){return m.grep(m.timers,function(t){return e===t.elem}).length},m.offset={setOffset:function(e,t,n){var i,r,s,a,o,c,l=m.css(e,"position"),u=m(e),h={};"static"===l&&(e.style.position="relative"),o=u.offset(),s=m.css(e,"top"),c=m.css(e,"left"),("absolute"===l||"fixed"===l)&&(s+c).indexOf("auto")>-1?(a=(i=u.position()).top,r=i.left):(a=parseFloat(s)||0,r=parseFloat(c)||0),m.isFunction(t)&&(t=t.call(e,n,m.extend({},o))),null!=t.top&&(h.top=t.top-o.top+a),null!=t.left&&(h.left=t.left-o.left+r),"using"in t?t.using.call(e,h):u.css(h)}},m.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){m.offset.setOffset(this,e,t)});var t,n,i,r,s=this[0];return s?s.getClientRects().length?(i=s.getBoundingClientRect(),n=(t=s.ownerDocument).documentElement,r=t.defaultView,{top:i.top+r.pageYOffset-n.clientTop,left:i.left+r.pageXOffset-n.clientLeft}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===m.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),C(e[0],"html")||(i=e.offset()),i={top:i.top+m.css(e[0],"borderTopWidth",!0),left:i.left+m.css(e[0],"borderLeftWidth",!0)}),{top:t.top-i.top-m.css(n,"marginTop",!0),left:t.left-i.left-m.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===m.css(e,"position");)e=e.offsetParent;return e||fe})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;m.fn[e]=function(i){return U(this,function(e,i,r){var s;return m.isWindow(e)?s=e:9===e.nodeType&&(s=e.defaultView),void 0===r?s?s[t]:e[i]:void(s?s.scrollTo(n?s.pageXOffset:r,n?r:s.pageYOffset):e[i]=r)},e,i,arguments.length)}}),m.each(["top","left"],function(e,t){m.cssHooks[t]=ke(f.pixelPosition,function(e,n){if(n)return n=Me(e,t),He.test(n)?m(e).position()[t]+"px":n})}),m.each({Height:"height",Width:"width"},function(e,t){m.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){m.fn[i]=function(r,s){var a=arguments.length&&(n||"boolean"!=typeof r),o=n||(!0===r||!0===s?"margin":"border");return U(this,function(t,n,r){var s;return m.isWindow(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+e],s["scroll"+e],t.body["offset"+e],s["offset"+e],s["client"+e])):void 0===r?m.css(t,n,o):m.style(t,n,r,o)},t,a?r:void 0,a)}})}),m.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),m.holdReady=function(e){e?m.readyWait++:m.ready(!0)},m.isArray=Array.isArray,m.parseJSON=JSON.parse,m.nodeName=C,"function"==typeof define&&define.amd&&define("jquery",[],function(){return m});var kt=e.jQuery,Ft=e.$;return m.noConflict=function(t){return e.$===m&&(e.$=Ft),t&&e.jQuery===m&&(e.jQuery=kt),m},t||(e.jQuery=e.$=m),m}),function(){"use strict";var e=function(){this.init()};e.prototype={init:function(){var e=this||t;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var n=this||t;if(e=parseFloat(e),n.ctx||l(),void 0!==e&&e>=0&&e<=1){if(n._volume=e,n._muted)return n;n.usingWebAudio&&n.masterGain.gain.setValueAtTime(e,t.ctx.currentTime);for(var i=0;i<n._howls.length;i++)if(!n._howls[i]._webAudio)for(var r=n._howls[i]._getSoundIds(),s=0;s<r.length;s++){var a=n._howls[i]._soundById(r[s]);a&&a._node&&(a._node.volume=a._volume*e)}return n}return n._volume},mute:function(e){var n=this||t;n.ctx||l(),n._muted=e,n.usingWebAudio&&n.masterGain.gain.setValueAtTime(e?0:n._volume,t.ctx.currentTime);for(var i=0;i<n._howls.length;i++)if(!n._howls[i]._webAudio)for(var r=n._howls[i]._getSoundIds(),s=0;s<r.length;s++){var a=n._howls[i]._soundById(r[s]);a&&a._node&&(a._node.muted=!!e||a._muted)}return n},unload:function(){for(var e=this||t,n=e._howls.length-1;n>=0;n--)e._howls[n].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,l()),e},codecs:function(e){return(this||t)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||t;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||t,n=null;try{n="undefined"!=typeof Audio?new Audio:null}catch(t){return e}if(!n||"function"!=typeof n.canPlayType)return e;var i=n.canPlayType("audio/mpeg;").replace(/^no$/,""),r=e._navigator&&e._navigator.userAgent.match(/OPR\/([0-6].)/g),s=r&&parseInt(r[0].split("/")[1],10)<33;return e._codecs={mp3:!(s||!i&&!n.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!i,opus:!!n.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!n.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!n.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!n.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(n.canPlayType("audio/x-m4a;")||n.canPlayType("audio/m4a;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(n.canPlayType("audio/x-mp4;")||n.canPlayType("audio/mp4;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!n.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!n.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!n.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(n.canPlayType("audio/x-flac;")||n.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||t;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var n=function(t){for(var i=0;i<e.html5PoolSize;i++)try{var r=new Audio;r._unlocked=!0,e._releaseHtml5Audio(r)}catch(t){e.noAudio=!0}for(i=0;i<e._howls.length;i++)if(!e._howls[i]._webAudio)for(var s=e._howls[i]._getSoundIds(),a=0;a<s.length;a++){var o=e._howls[i]._soundById(s[a]);o&&o._node&&!o._node._unlocked&&(o._node._unlocked=!0,o._node.load())}e._autoResume();var c=e.ctx.createBufferSource();c.buffer=e._scratchBuffer,c.connect(e.ctx.destination),void 0===c.start?c.noteOn(0):c.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),c.onended=function(){c.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",n,!0),document.removeEventListener("touchend",n,!0),document.removeEventListener("click",n,!0);for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("unlock")}};return document.addEventListener("touchstart",n,!0),document.addEventListener("touchend",n,!0),document.addEventListener("click",n,!0),e}},_obtainHtml5Audio:function(){var e=this||t;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var n=(new Audio).play();return n&&"undefined"!=typeof Promise&&(n instanceof Promise||"function"==typeof n.then)&&n.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(e){var n=this||t;return e._unlocked&&n._html5AudioPool.push(e),n},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&t.usingWebAudio){for(var n=0;n<e._howls.length;n++)if(e._howls[n]._webAudio)for(var i=0;i<e._howls[n]._sounds.length;i++)if(!e._howls[n]._sounds[i]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){e.autoSuspend&&(e._suspendTimer=null,e.state="suspending",e.ctx.suspend().then(function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())}))},3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&t.usingWebAudio)return"running"===e.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state?(e.ctx.resume().then(function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var t=new e,n=function(e){e.src&&0!==e.src.length?this.init(e):console.error("An array of source files must be passed with any new Howl.")};n.prototype={init:function(e){var n=this;return t.ctx||l(),n._autoplay=e.autoplay||!1,n._format="string"!=typeof e.format?e.format:[e.format],n._html5=e.html5||!1,n._muted=e.mute||!1,n._loop=e.loop||!1,n._pool=e.pool||5,n._preload="boolean"!=typeof e.preload||e.preload,n._rate=e.rate||1,n._sprite=e.sprite||{},n._src="string"!=typeof e.src?e.src:[e.src],n._volume=void 0!==e.volume?e.volume:1,n._xhrWithCredentials=e.xhrWithCredentials||!1,n._duration=0,n._state="unloaded",n._sounds=[],n._endTimers={},n._queue=[],n._playLock=!1,n._onend=e.onend?[{fn:e.onend}]:[],n._onfade=e.onfade?[{fn:e.onfade}]:[],n._onload=e.onload?[{fn:e.onload}]:[],n._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],n._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],n._onpause=e.onpause?[{fn:e.onpause}]:[],n._onplay=e.onplay?[{fn:e.onplay}]:[],n._onstop=e.onstop?[{fn:e.onstop}]:[],n._onmute=e.onmute?[{fn:e.onmute}]:[],n._onvolume=e.onvolume?[{fn:e.onvolume}]:[],n._onrate=e.onrate?[{fn:e.onrate}]:[],n._onseek=e.onseek?[{fn:e.onseek}]:[],n._onunlock=e.onunlock?[{fn:e.onunlock}]:[],n._onresume=[],n._webAudio=t.usingWebAudio&&!n._html5,void 0!==t.ctx&&t.ctx&&t.autoUnlock&&t._unlockAudio(),t._howls.push(n),n._autoplay&&n._queue.push({event:"play",action:function(){n.play()}}),n._preload&&n.load(),n},load:function(){var e=this,n=null;if(!t.noAudio){"string"==typeof e._src&&(e._src=[e._src]);for(var r=0;r<e._src.length;r++){var a,o;if(e._format&&e._format[r])a=e._format[r];else{if("string"!=typeof(o=e._src[r])){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(a=/^data:audio\/([^;,]+);/i.exec(o))||(a=/\.([^.]+)$/.exec(o.split("?",1)[0])),a&&(a=a[1].toLowerCase())}if(a||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),a&&t.codecs(a)){n=e._src[r];break}}return n?(e._src=n,e._state="loading","https:"===window.location.protocol&&"http:"===n.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new i(e),e._webAudio&&s(e),e):void e._emit("loaderror",null,"No codec support for selected audio sources.")}e._emit("loaderror",null,"No audio support.")},play:function(e,n){var i=this,r=null;if("number"==typeof e)r=e,e=null;else{if("string"==typeof e&&"loaded"===i._state&&!i._sprite[e])return null;if(void 0===e&&(e="__default",!i._playLock)){for(var s=0,a=0;a<i._sounds.length;a++)i._sounds[a]._paused&&!i._sounds[a]._ended&&(s++,r=i._sounds[a]._id);1===s?e=null:r=null}}var o=r?i._soundById(r):i._inactiveSound();if(!o)return null;if(r&&!e&&(e=o._sprite||"__default"),"loaded"!==i._state){o._sprite=e,o._ended=!1;var c=o._id;return i._queue.push({event:"play",action:function(){i.play(c)}}),c}if(r&&!o._paused)return n||i._loadQueue("play"),o._id;i._webAudio&&t._autoResume();var l=Math.max(0,o._seek>0?o._seek:i._sprite[e][0]/1e3),u=Math.max(0,(i._sprite[e][0]+i._sprite[e][1])/1e3-l),h=1e3*u/Math.abs(o._rate),d=i._sprite[e][0]/1e3,_=(i._sprite[e][0]+i._sprite[e][1])/1e3,f=!(!o._loop&&!i._sprite[e][2]);o._sprite=e,o._ended=!1;var p=function(){o._paused=!1,o._seek=l,o._start=d,o._stop=_,o._loop=f};if(!(l>=_)){var g=o._node;if(i._webAudio){var m=function(){i._playLock=!1,p(),i._refreshBuffer(o);var e=o._muted||i._muted?0:o._volume;g.gain.setValueAtTime(e,t.ctx.currentTime),o._playStart=t.ctx.currentTime,void 0===g.bufferSource.start?o._loop?g.bufferSource.noteGrainOn(0,l,86400):g.bufferSource.noteGrainOn(0,l,u):o._loop?g.bufferSource.start(0,l,86400):g.bufferSource.start(0,l,u),h!==1/0&&(i._endTimers[o._id]=setTimeout(i._ended.bind(i,o),h)),n||setTimeout(function(){i._emit("play",o._id),i._loadQueue()},0)};"running"===t.state?m():(i._playLock=!0,i.once("resume",m),i._clearTimer(o._id))}else{var v=function(){g.currentTime=l,g.muted=o._muted||i._muted||t._muted||g.muted,g.volume=o._volume*t.volume(),g.playbackRate=o._rate;try{var r=g.play();if(r&&"undefined"!=typeof Promise&&(r instanceof Promise||"function"==typeof r.then)?(i._playLock=!0,p(),r.then(function(){i._playLock=!1,g._unlocked=!0,n||(i._emit("play",o._id),i._loadQueue())}).catch(function(){i._playLock=!1,i._emit("playerror",o._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),o._ended=!0,o._paused=!0})):n||(i._playLock=!1,p(),i._emit("play",o._id),i._loadQueue()),g.playbackRate=o._rate,g.paused)return void i._emit("playerror",o._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||o._loop?i._endTimers[o._id]=setTimeout(i._ended.bind(i,o),h):(i._endTimers[o._id]=function(){i._ended(o),g.removeEventListener("ended",i._endTimers[o._id],!1)},g.addEventListener("ended",i._endTimers[o._id],!1))}catch(e){i._emit("playerror",o._id,e)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===g.src&&(g.src=i._src,g.load());var b=window&&window.ejecta||!g.readyState&&t._navigator.isCocoonJS;if(g.readyState>=3||b)v();else{i._playLock=!0;var y=function(){v(),g.removeEventListener(t._canPlayEvent,y,!1)};g.addEventListener(t._canPlayEvent,y,!1),i._clearTimer(o._id)}}return o._id}i._ended(o)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),i=0;i<n.length;i++){t._clearTimer(n[i]);var r=t._soundById(n[i]);if(r&&!r._paused&&(r._seek=t.seek(n[i]),r._rateSeek=0,r._paused=!0,t._stopFade(n[i]),r._node))if(t._webAudio){if(!r._node.bufferSource)continue;void 0===r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),t._cleanBuffer(r._node)}else isNaN(r._node.duration)&&r._node.duration!==1/0||r._node.pause();arguments[1]||t._emit("pause",r?r._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var i=n._getSoundIds(e),r=0;r<i.length;r++){n._clearTimer(i[r]);var s=n._soundById(i[r]);s&&(s._seek=s._start||0,s._rateSeek=0,s._paused=!0,s._ended=!0,n._stopFade(i[r]),s._node&&(n._webAudio?s._node.bufferSource&&(void 0===s._node.bufferSource.stop?s._node.bufferSource.noteOff(0):s._node.bufferSource.stop(0),n._cleanBuffer(s._node)):isNaN(s._node.duration)&&s._node.duration!==1/0||(s._node.currentTime=s._start||0,s._node.pause(),s._node.duration===1/0&&n._clearSound(s._node))),t||n._emit("stop",s._id))}return n},mute:function(e,n){var i=this;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"mute",action:function(){i.mute(e,n)}}),i;if(void 0===n){if("boolean"!=typeof e)return i._muted;i._muted=e}for(var r=i._getSoundIds(n),s=0;s<r.length;s++){var a=i._soundById(r[s]);a&&(a._muted=e,a._interval&&i._stopFade(a._id),i._webAudio&&a._node?a._node.gain.setValueAtTime(e?0:a._volume,t.ctx.currentTime):a._node&&(a._node.muted=!!t._muted||e),i._emit("mute",a._id))}return i},volume:function(){var e,n,i,r=this,s=arguments;if(0===s.length)return r._volume;if(1===s.length||2===s.length&&void 0===s[1]?r._getSoundIds().indexOf(s[0])>=0?n=parseInt(s[0],10):e=parseFloat(s[0]):s.length>=2&&(e=parseFloat(s[0]),n=parseInt(s[1],10)),!(void 0!==e&&e>=0&&e<=1))return(i=n?r._soundById(n):r._sounds[0])?i._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,s)}}),r;void 0===n&&(r._volume=e),n=r._getSoundIds(n);for(var a=0;a<n.length;a++)(i=r._soundById(n[a]))&&(i._volume=e,s[2]||r._stopFade(n[a]),r._webAudio&&i._node&&!i._muted?i._node.gain.setValueAtTime(e,t.ctx.currentTime):i._node&&!i._muted&&(i._node.volume=e*t.volume()),r._emit("volume",i._id));return r},fade:function(e,n,i,r){var s=this;if("loaded"!==s._state||s._playLock)return s._queue.push({event:"fade",action:function(){s.fade(e,n,i,r)}}),s;e=parseFloat(e),n=parseFloat(n),i=parseFloat(i),s.volume(e,r);for(var a=s._getSoundIds(r),o=0;o<a.length;o++){var c=s._soundById(a[o]);if(c){if(r||s._stopFade(a[o]),s._webAudio&&!c._muted){var l=t.ctx.currentTime,u=l+i/1e3;c._volume=e,c._node.gain.setValueAtTime(e,l),c._node.gain.linearRampToValueAtTime(n,u)}s._startFadeInterval(c,e,n,i,a[o],void 0===r)}}return s},_startFadeInterval:function(e,t,n,i,r,s){var a=this,o=t,c=n-t,l=Math.abs(c/.01),u=Math.max(4,l>0?i/l:i),h=Date.now();e._fadeTo=n,e._interval=setInterval(function(){var r=(Date.now()-h)/i;h=Date.now(),o+=c*r,o=Math.max(0,o),o=Math.min(1,o),o=Math.round(100*o)/100,a._webAudio?e._volume=o:a.volume(o,e._id,!0),s&&(a._volume=o),(n<t&&o<=n||n>t&&o>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,a.volume(n,e._id),a._emit("fade",e._id))},u)},_stopFade:function(e){var n=this,i=n._soundById(e);return i&&i._interval&&(n._webAudio&&i._node.gain.cancelScheduledValues(t.ctx.currentTime),clearInterval(i._interval),i._interval=null,n.volume(i._fadeTo,e),i._fadeTo=null,n._emit("fade",e)),n},loop:function(){var e,t,n,i=this,r=arguments;if(0===r.length)return i._loop;if(1===r.length){if("boolean"!=typeof r[0])return!!(n=i._soundById(parseInt(r[0],10)))&&n._loop;e=r[0],i._loop=e}else 2===r.length&&(e=r[0],t=parseInt(r[1],10));for(var s=i._getSoundIds(t),a=0;a<s.length;a++)(n=i._soundById(s[a]))&&(n._loop=e,i._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop)));return i},rate:function(){var e,n,i,r=this,s=arguments;if(0===s.length)n=r._sounds[0]._id;else if(1===s.length){r._getSoundIds().indexOf(s[0])>=0?n=parseInt(s[0],10):e=parseFloat(s[0])}else 2===s.length&&(e=parseFloat(s[0]),n=parseInt(s[1],10));if("number"!=typeof e)return(i=r._soundById(n))?i._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,s)}}),r;void 0===n&&(r._rate=e),n=r._getSoundIds(n);for(var a=0;a<n.length;a++)if(i=r._soundById(n[a])){r.playing(n[a])&&(i._rateSeek=r.seek(n[a]),i._playStart=r._webAudio?t.ctx.currentTime:i._playStart),i._rate=e,r._webAudio&&i._node&&i._node.bufferSource?i._node.bufferSource.playbackRate.setValueAtTime(e,t.ctx.currentTime):i._node&&(i._node.playbackRate=e);var o=r.seek(n[a]),c=1e3*((r._sprite[i._sprite][0]+r._sprite[i._sprite][1])/1e3-o)/Math.abs(i._rate);!r._endTimers[n[a]]&&i._paused||(r._clearTimer(n[a]),r._endTimers[n[a]]=setTimeout(r._ended.bind(r,i),c)),r._emit("rate",i._id)}return r},seek:function(){var e,n,i=this,r=arguments;if(0===r.length)n=i._sounds[0]._id;else if(1===r.length){i._getSoundIds().indexOf(r[0])>=0?n=parseInt(r[0],10):i._sounds.length&&(n=i._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),n=parseInt(r[1],10));if(void 0===n)return i;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"seek",action:function(){i.seek.apply(i,r)}}),i;var s=i._soundById(n);if(s){if(!("number"==typeof e&&e>=0)){if(i._webAudio){var a=i.playing(n)?t.ctx.currentTime-s._playStart:0,o=s._rateSeek?s._rateSeek-s._seek:0;return s._seek+(o+a*Math.abs(s._rate))}return s._node.currentTime}var c=i.playing(n);c&&i.pause(n,!0),s._seek=e,s._ended=!1,i._clearTimer(n),i._webAudio||!s._node||isNaN(s._node.duration)||(s._node.currentTime=e);var l=function(){i._emit("seek",n),c&&i.play(n,!0)};if(c&&!i._webAudio){var u=function(){i._playLock?setTimeout(u,0):l()};setTimeout(u,0)}else l()}return i},playing:function(e){var t=this;if("number"==typeof e){var n=t._soundById(e);return!!n&&!n._paused}for(var i=0;i<t._sounds.length;i++)if(!t._sounds[i]._paused)return!0;return!1},duration:function(e){var t=this,n=t._duration,i=t._soundById(e);return i&&(n=t._sprite[i._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var e=this,n=e._sounds,i=0;i<n.length;i++)n[i]._paused||e.stop(n[i]._id),e._webAudio||(e._clearSound(n[i]._node),n[i]._node.removeEventListener("error",n[i]._errorFn,!1),n[i]._node.removeEventListener(t._canPlayEvent,n[i]._loadFn,!1),t._releaseHtml5Audio(n[i]._node)),delete n[i]._node,e._clearTimer(n[i]._id);var s=t._howls.indexOf(e);s>=0&&t._howls.splice(s,1);var a=!0;for(i=0;i<t._howls.length;i++)if(t._howls[i]._src===e._src||e._src.indexOf(t._howls[i]._src)>=0){a=!1;break}return r&&a&&delete r[e._src],t.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,i){var r=this["_on"+e];return"function"==typeof t&&r.push(i?{id:n,fn:t,once:i}:{id:n,fn:t}),this},off:function(e,t,n){var i=this,r=i["_on"+e],s=0;if("number"==typeof t&&(n=t,t=null),t||n)for(s=0;s<r.length;s++){var a=n===r[s].id;if(t===r[s].fn&&a||!t&&a){r.splice(s,1);break}}else if(e)i["_on"+e]=[];else{var o=Object.keys(i);for(s=0;s<o.length;s++)0===o[s].indexOf("_on")&&Array.isArray(i[o[s]])&&(i[o[s]]=[])}return i},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var i=this,r=i["_on"+e],s=r.length-1;s>=0;s--)r[s].id&&r[s].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(i,r[s].fn),0),r[s].once&&i.off(e,r[s].fn,r[s].id));return i._loadQueue(e),i},_loadQueue:function(e){var t=this;if(t._queue.length>0){var n=t._queue[0];n.event===e&&(t._queue.shift(),t._loadQueue()),e||n.action()}return t},_ended:function(e){var n=this,i=e._sprite;if(!n._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(n._ended.bind(n,e),100),n;var r=!(!e._loop&&!n._sprite[i][2]);if(n._emit("end",e._id),!n._webAudio&&r&&n.stop(e._id,!0).play(e._id),n._webAudio&&r){n._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=t.ctx.currentTime;var s=1e3*(e._stop-e._start)/Math.abs(e._rate);n._endTimers[e._id]=setTimeout(n._ended.bind(n,e),s)}return n._webAudio&&!r&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,n._clearTimer(e._id),n._cleanBuffer(e._node),t._autoSuspend()),n._webAudio||r||n.stop(e._id,!0),n},_clearTimer:function(e){var t=this;if(t._endTimers[e]){if("function"!=typeof t._endTimers[e])clearTimeout(t._endTimers[e]);else{var n=t._soundById(e);n&&n._node&&n._node.removeEventListener("ended",t._endTimers[e],!1)}delete t._endTimers[e]}return t},_soundById:function(e){for(var t=this,n=0;n<t._sounds.length;n++)if(e===t._sounds[n]._id)return t._sounds[n];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new i(e)},_drain:function(){var e=this,t=e._pool,n=0,i=0;if(!(e._sounds.length<t)){for(i=0;i<e._sounds.length;i++)e._sounds[i]._ended&&n++;for(i=e._sounds.length-1;i>=0;i--){if(n<=t)return;e._sounds[i]._ended&&(e._webAudio&&e._sounds[i]._node&&e._sounds[i]._node.disconnect(0),e._sounds.splice(i,1),n--)}}},_getSoundIds:function(e){if(void 0===e){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=t.ctx.createBufferSource(),e._node.bufferSource.buffer=r[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,t.ctx.currentTime),this},_cleanBuffer:function(e){var n=t._navigator&&t._navigator.vendor.indexOf("Apple")>=0;if(t._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),n))try{e.bufferSource.buffer=t._scratchBuffer}catch(e){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(t._navigator&&t._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(e){this._parent=e,this.init()};i.prototype={init:function(){var e=this,n=e._parent;return e._muted=n._muted,e._loop=n._loop,e._volume=n._volume,e._rate=n._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++t._counter,n._sounds.push(e),e.create(),e},create:function(){var e=this,n=e._parent,i=t._muted||e._muted||e._parent._muted?0:e._volume;return n._webAudio?(e._node=void 0===t.ctx.createGain?t.ctx.createGainNode():t.ctx.createGain(),e._node.gain.setValueAtTime(i,t.ctx.currentTime),e._node.paused=!0,e._node.connect(t.masterGain)):(e._node=t._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(t._canPlayEvent,e._loadFn,!1),e._node.src=n._src,e._node.preload="auto",e._node.volume=i*t.volume(),e._node.load()),e},reset:function(){var e=this,n=e._parent;return e._muted=n._muted,e._loop=n._loop,e._volume=n._volume,e._rate=n._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++t._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,n=e._parent;n._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(n._sprite).length&&(n._sprite={__default:[0,1e3*n._duration]}),"loaded"!==n._state&&(n._state="loaded",n._emit("load"),n._loadQueue()),e._node.removeEventListener(t._canPlayEvent,e._loadFn,!1)}};var r={},s=function(e){var t=e._src;if(r[t])return e._duration=r[t].duration,void c(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),i=new Uint8Array(n.length),s=0;s<n.length;++s)i[s]=n.charCodeAt(s);o(i.buffer,e)}else{var l=new XMLHttpRequest;l.open("GET",t,!0),l.withCredentials=e._xhrWithCredentials,l.responseType="arraybuffer",l.onload=function(){var t=(l.status+"")[0];"0"===t||"2"===t||"3"===t?o(l.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+l.status+".")},l.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete r[t],e.load())},a(l)}},a=function(e){try{e.send()}catch(t){e.onerror()}},o=function(e,n){var i=function(){n._emit("loaderror",null,"Decoding audio data failed.")},s=function(e){e&&n._sounds.length>0?(r[n._src]=e,c(n,e)):i()};"undefined"!=typeof Promise&&1===t.ctx.decodeAudioData.length?t.ctx.decodeAudioData(e).then(s).catch(i):t.ctx.decodeAudioData(e,s,i)},c=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},l=function(){if(t.usingWebAudio){try{"undefined"!=typeof AudioContext?t.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?t.ctx=new webkitAudioContext:t.usingWebAudio=!1}catch(e){t.usingWebAudio=!1}t.ctx||(t.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(t._navigator&&t._navigator.platform),n=t._navigator&&t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),i=n?parseInt(n[1],10):null;if(e&&i&&i<9){var r=/safari/.test(t._navigator&&t._navigator.userAgent.toLowerCase());(t._navigator&&t._navigator.standalone&&!r||t._navigator&&!t._navigator.standalone&&!r)&&(t.usingWebAudio=!1)}t.usingWebAudio&&(t.masterGain=void 0===t.ctx.createGain?t.ctx.createGainNode():t.ctx.createGain(),t.masterGain.gain.setValueAtTime(t._muted?0:1,t.ctx.currentTime),t.masterGain.connect(t.ctx.destination)),t._setup()}};"function"==typeof define&&define.amd&&define([],function(){return{Howler:t,Howl:n}}),"undefined"!=typeof exports&&(exports.Howler=t,exports.Howl=n),"undefined"!=typeof window?(window.HowlerGlobal=e,window.Howler=t,window.Howl=n,window.Sound=i):"undefined"!=typeof global&&(global.HowlerGlobal=e,global.Howler=t,global.Howl=n,global.Sound=i)}(),function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var t=this;if(!t.ctx||!t.ctx.listener)return t;for(var n=t._howls.length-1;n>=0;n--)t._howls[n].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,n){var i=this;return i.ctx&&i.ctx.listener?(t="number"!=typeof t?i._pos[1]:t,n="number"!=typeof n?i._pos[2]:n,"number"!=typeof e?i._pos:(i._pos=[e,t,n],void 0!==i.ctx.listener.positionX?(i.ctx.listener.positionX.setTargetAtTime(i._pos[0],Howler.ctx.currentTime,.1),i.ctx.listener.positionY.setTargetAtTime(i._pos[1],Howler.ctx.currentTime,.1),i.ctx.listener.positionZ.setTargetAtTime(i._pos[2],Howler.ctx.currentTime,.1)):i.ctx.listener.setPosition(i._pos[0],i._pos[1],i._pos[2]),i)):i},HowlerGlobal.prototype.orientation=function(e,t,n,i,r,s){var a=this;if(!a.ctx||!a.ctx.listener)return a;var o=a._orientation;return t="number"!=typeof t?o[1]:t,n="number"!=typeof n?o[2]:n,i="number"!=typeof i?o[3]:i,r="number"!=typeof r?o[4]:r,s="number"!=typeof s?o[5]:s,"number"!=typeof e?o:(a._orientation=[e,t,n,i,r,s],void 0!==a.ctx.listener.forwardX?(a.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),a.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),a.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),a.ctx.listener.upX.setTargetAtTime(e,Howler.ctx.currentTime,.1),a.ctx.listener.upY.setTargetAtTime(t,Howler.ctx.currentTime,.1),a.ctx.listener.upZ.setTargetAtTime(n,Howler.ctx.currentTime,.1)):a.ctx.listener.setOrientation(e,t,n,i,r,s),a)},Howl.prototype.init=function(e){return function(t){var n=this;return n._orientation=t.orientation||[1,0,0],n._stereo=t.stereo||null,n._pos=t.pos||null,n._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:0,distanceModel:void 0!==t.distanceModel?t.distanceModel:"inverse",maxDistance:void 0!==t.maxDistance?t.maxDistance:1e4,panningModel:void 0!==t.panningModel?t.panningModel:"HRTF",refDistance:void 0!==t.refDistance?t.refDistance:1,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:1},n._onstereo=t.onstereo?[{fn:t.onstereo}]:[],n._onpos=t.onpos?[{fn:t.onpos}]:[],n._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,n){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"stereo",action:function(){i.stereo(t,n)}}),i;var r=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof t)return i._stereo;i._stereo=t,i._pos=[t,0,0]}for(var s=i._getSoundIds(n),a=0;a<s.length;a++){var o=i._soundById(s[a]);if(o){if("number"!=typeof t)return o._stereo;o._stereo=t,o._pos=[t,0,0],o._node&&(o._pannerAttr.panningModel="equalpower",o._panner&&o._panner.pan||e(o,r),"spatial"===r?void 0!==o._panner.positionX?(o._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),o._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),o._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):o._panner.setPosition(t,0,0):o._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),i._emit("stereo",o._id)}}return i},Howl.prototype.pos=function(t,n,i,r){var s=this;if(!s._webAudio)return s;if("loaded"!==s._state)return s._queue.push({event:"pos",action:function(){s.pos(t,n,i,r)}}),s;if(n="number"!=typeof n?0:n,i="number"!=typeof i?-.5:i,void 0===r){if("number"!=typeof t)return s._pos;s._pos=[t,n,i]}for(var a=s._getSoundIds(r),o=0;o<a.length;o++){var c=s._soundById(a[o]);if(c){if("number"!=typeof t)return c._pos;c._pos=[t,n,i],c._node&&(c._panner&&!c._panner.pan||e(c,"spatial"),void 0!==c._panner.positionX?(c._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):c._panner.setPosition(t,n,i)),s._emit("pos",c._id)}}return s},Howl.prototype.orientation=function(t,n,i,r){var s=this;if(!s._webAudio)return s;if("loaded"!==s._state)return s._queue.push({event:"orientation",action:function(){s.orientation(t,n,i,r)}}),s;if(n="number"!=typeof n?s._orientation[1]:n,i="number"!=typeof i?s._orientation[2]:i,void 0===r){if("number"!=typeof t)return s._orientation;s._orientation=[t,n,i]}for(var a=s._getSoundIds(r),o=0;o<a.length;o++){var c=s._soundById(a[o]);if(c){if("number"!=typeof t)return c._orientation;c._orientation=[t,n,i],c._node&&(c._panner||(c._pos||(c._pos=s._pos||[0,0,-.5]),e(c,"spatial")),void 0!==c._panner.orientationX?(c._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),c._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),c._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):c._panner.setOrientation(t,n,i)),s._emit("orientation",c._id)}}return s},Howl.prototype.pannerAttr=function(){var t,n,i,r=this,s=arguments;if(!r._webAudio)return r;if(0===s.length)return r._pannerAttr;if(1===s.length){if("object"!=typeof s[0])return(i=r._soundById(parseInt(s[0],10)))?i._pannerAttr:r._pannerAttr;t=s[0],void 0===n&&(t.pannerAttr||(t.pannerAttr={coneInnerAngle:t.coneInnerAngle,coneOuterAngle:t.coneOuterAngle,coneOuterGain:t.coneOuterGain,distanceModel:t.distanceModel,maxDistance:t.maxDistance,refDistance:t.refDistance,rolloffFactor:t.rolloffFactor,panningModel:t.panningModel}),r._pannerAttr={coneInnerAngle:void 0!==t.pannerAttr.coneInnerAngle?t.pannerAttr.coneInnerAngle:r._coneInnerAngle,coneOuterAngle:void 0!==t.pannerAttr.coneOuterAngle?t.pannerAttr.coneOuterAngle:r._coneOuterAngle,coneOuterGain:void 0!==t.pannerAttr.coneOuterGain?t.pannerAttr.coneOuterGain:r._coneOuterGain,distanceModel:void 0!==t.pannerAttr.distanceModel?t.pannerAttr.distanceModel:r._distanceModel,maxDistance:void 0!==t.pannerAttr.maxDistance?t.pannerAttr.maxDistance:r._maxDistance,refDistance:void 0!==t.pannerAttr.refDistance?t.pannerAttr.refDistance:r._refDistance,rolloffFactor:void 0!==t.pannerAttr.rolloffFactor?t.pannerAttr.rolloffFactor:r._rolloffFactor,panningModel:void 0!==t.pannerAttr.panningModel?t.pannerAttr.panningModel:r._panningModel})}else 2===s.length&&(t=s[0],n=parseInt(s[1],10));for(var a=r._getSoundIds(n),o=0;o<a.length;o++)if(i=r._soundById(a[o])){var c=i._pannerAttr;c={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:c.coneInnerAngle,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:c.coneOuterAngle,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:c.coneOuterGain,distanceModel:void 0!==t.distanceModel?t.distanceModel:c.distanceModel,maxDistance:void 0!==t.maxDistance?t.maxDistance:c.maxDistance,refDistance:void 0!==t.refDistance?t.refDistance:c.refDistance,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:c.rolloffFactor,panningModel:void 0!==t.panningModel?t.panningModel:c.panningModel};var l=i._panner;l?(l.coneInnerAngle=c.coneInnerAngle,l.coneOuterAngle=c.coneOuterAngle,l.coneOuterGain=c.coneOuterGain,l.distanceModel=c.distanceModel,l.maxDistance=c.maxDistance,l.refDistance=c.refDistance,l.rolloffFactor=c.rolloffFactor,l.panningModel=c.panningModel):(i._pos||(i._pos=r._pos||[0,0,-.5]),e(i,"spatial"))}return r},Sound.prototype.init=function(e){return function(){var t=this,n=t._parent;t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this),t._stereo?n.stereo(t._stereo):t._pos&&n.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this,n=t._parent;return t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,t._stereo?n.stereo(t._stereo):t._pos?n.pos(t._pos[0],t._pos[1],t._pos[2],t._id):t._panner&&(t._panner.disconnect(0),t._panner=void 0,n._refreshBuffer(t)),e.call(this)}}(Sound.prototype.reset);var e=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}(),function(){"use strict";var e="undefined"!=typeof window&&void 0!==window.document?window.document:{},t="undefined"!=typeof module&&module.exports,n="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,i=function(){for(var t,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=0,r=n.length,s={};i<r;i++)if((t=n[i])&&t[1]in e){for(i=0;i<t.length;i++)s[n[0][i]]=t[i];return s}return!1}(),r={change:i.fullscreenchange,error:i.fullscreenerror},s={request:function(t){var r=i.requestFullscreen;t=t||e.documentElement,/5\.1[.\d]* Safari/.test(navigator.userAgent)?t[r]():t[r](n&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){e[i.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(t,n){var i=r[t];i&&e.addEventListener(i,n,!1)},off:function(t,n){var i=r[t];i&&e.removeEventListener(i,n,!1)},raw:i};i?(Object.defineProperties(s,{isFullscreen:{get:function(){return Boolean(e[i.fullscreenElement])}},element:{enumerable:!0,get:function(){return e[i.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(e[i.fullscreenEnabled])}}}),t?module.exports=s:window.screenfull=s):t?module.exports=!1:window.screenfull=!1}(),$(document).ready(function(){platform&&"iPhone"===platform.product&&!iosInIframe()&&(buildIOSFullscreenPanel(),buildIOSMeta())}),jQuery(window).resize(function(){platform&&"iPhone"===platform.product&&!iosInIframe()&&iosResize()}),function(){"use strict";var e={function:!0,object:!0},t=e[typeof window]&&window||this,n=e[typeof exports]&&exports,i=e[typeof module]&&module&&!module.nodeType&&module,r=n&&i&&"object"==typeof global&&global;!r||r.global!==r&&r.window!==r&&r.self!==r||(t=r);var s=Math.pow(2,53)-1,a=/\bOpera/,o=Object.prototype,c=o.hasOwnProperty,l=o.toString;function u(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function h(e){return e=g(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:u(e)}function d(e,t){for(var n in e)c.call(e,n)&&t(e[n],n,e)}function _(e){return null==e?u(e):l.call(e).slice(8,-1)}function f(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function p(e,t){var n=null;return function(e,t){var n=-1,i=e?e.length:0;if("number"==typeof i&&i>-1&&i<=s)for(;++n<i;)t(e[n],n,e);else d(e,t)}(e,function(i,r){n=t(n,i,r,e)}),n}function g(e){return String(e).replace(/^ +| +$/g,"")}var m=function e(n){var i=t,r=n&&"object"==typeof n&&"String"!=_(n);r&&(i=n,n=null);var s=i.navigator||{},o=s.userAgent||"";n||(n=o);var c,u,m,v,b,y=r?!!s.likeChrome:/\bChrome\b/.test(n)&&!/internal|\n/i.test(l.toString()),x=r?"Object":"ScriptBridgingProxyObject",S=r?"Object":"Environment",w=r&&i.java?"JavaPackage":_(i.java),E=r?"Object":"RuntimeObject",T=/\bJava/.test(w)&&i.java,A=T&&_(i.environment)==S,C=T?"a":"Î±",I=T?"b":"Î²",O=i.document||{},L=i.operamini||i.opera,P=a.test(P=r&&L?L["[[Class]]"]:_(L))?P:L=null,R=n,j=[],N=null,H=n==o,D=H&&L&&"function"==typeof L.version&&L.version(),M=p([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],function(e,t){return e||RegExp("\\b"+(t.pattern||f(t))+"\\b","i").exec(n)&&(t.label||t)}),k=function(e){return p(e,function(e,t){return e||RegExp("\\b"+(t.pattern||f(t))+"\\b","i").exec(n)&&(t.label||t)})}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),F=G([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),B=function(e){return p(e,function(e,t,i){return e||(t[F]||t[/^[a-z]+(?: +[a-z]+\b)*/i.exec(F)]||RegExp("\\b"+f(i)+"(?:\\b|\\w*\\d)","i").exec(n))&&i})}({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}}),W=function(e){return p(e,function(e,t){var i=t.pattern||f(t);return!e&&(e=RegExp("\\b"+i+"(?:/[\\d.]+|[ \\w.]*)","i").exec(n))&&(e=function(e,t,n){var i={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(i=i[/[\d.]+$/.exec(e)])&&(e="Windows "+i),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),e=h(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,i,t.label||t)),e})}(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function G(e){return p(e,function(e,t){var i=t.pattern||f(t);return!e&&(e=RegExp("\\b"+i+" *\\d+[.\\w_]*","i").exec(n)||RegExp("\\b"+i+" *\\w+-[\\w]*","i").exec(n)||RegExp("\\b"+i+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(n))&&((e=String(t.label&&!RegExp(i,"i").test(t.label)?t.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),t=t.label||t,e=h(e[0].replace(RegExp(i,"i"),t).replace(RegExp("; *(?:"+t+"[_-])?","i")," ").replace(RegExp("("+t+")[-_.]?(\\w)","i"),"$1 $2"))),e})}if(M&&(M=[M]),B&&!F&&(F=G([B])),(c=/\bGoogle TV\b/.exec(F))&&(F=c[0]),/\bSimulator\b/i.test(n)&&(F=(F?F+" ":"")+"Simulator"),"Opera Mini"==k&&/\bOPiOS\b/.test(n)&&j.push("running in Turbo/Uncompressed mode"),"IE"==k&&/\blike iPhone OS\b/.test(n)?(B=(c=e(n.replace(/like iPhone OS/,""))).manufacturer,F=c.product):/^iP/.test(F)?(k||(k="Safari"),W="iOS"+((c=/ OS ([\d_]+)/i.exec(n))?" "+c[1].replace(/_/g,"."):"")):"Konqueror"!=k||/buntu/i.test(W)?B&&"Google"!=B&&(/Chrome/.test(k)&&!/\bMobile Safari\b/i.test(n)||/\bVita\b/.test(F))||/\bAndroid\b/.test(W)&&/^Chrome/.test(k)&&/\bVersion\//i.test(n)?(k="Android Browser",W=/\bAndroid\b/.test(W)?W:"Android"):"Silk"==k?(/\bMobi/i.test(n)||(W="Android",j.unshift("desktop mode")),/Accelerated *= *true/i.test(n)&&j.unshift("accelerated")):"PaleMoon"==k&&(c=/\bFirefox\/([\d.]+)\b/.exec(n))?j.push("identifying as Firefox "+c[1]):"Firefox"==k&&(c=/\b(Mobile|Tablet|TV)\b/i.exec(n))?(W||(W="Firefox OS"),F||(F=c[1])):!k||(c=!/\bMinefield\b/i.test(n)&&/\b(?:Firefox|Safari)\b/.exec(k))?(k&&!F&&/[\/,]|^[^(]+?\)/.test(n.slice(n.indexOf(c+"/")+8))&&(k=null),(c=F||B||W)&&(F||B||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(W))&&(k=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(W)?W:c)+" Browser")):"Electron"==k&&(c=(/\bChrome\/([\d.]+)\b/.exec(n)||0)[1])&&j.push("Chromium "+c):W="Kubuntu",D||(D=p(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",f(k),"(?:Firefox|Minefield|NetFront)"],function(e,t){return e||(RegExp(t+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(n)||0)[1]||null})),(c=("iCab"==M&&parseFloat(D)>3?"WebKit":/\bOpera\b/.test(k)&&(/\bOPR\b/.test(n)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(n)&&!/^(?:Trident|EdgeHTML)$/.test(M)&&"WebKit"||!M&&/\bMSIE\b/i.test(n)&&("Mac OS"==W?"Tasman":"Trident")||"WebKit"==M&&/\bPlayStation\b(?! Vita\b)/i.test(k)&&"NetFront")&&(M=[c]),"IE"==k&&(c=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(n)||0)[1])?(k+=" Mobile",W="Windows Phone "+(/\+$/.test(c)?c:c+".x"),j.unshift("desktop mode")):/\bWPDesktop\b/i.test(n)?(k="IE Mobile",W="Windows Phone 8.x",j.unshift("desktop mode"),D||(D=(/\brv:([\d.]+)/.exec(n)||0)[1])):"IE"!=k&&"Trident"==M&&(c=/\brv:([\d.]+)/.exec(n))&&(k&&j.push("identifying as "+k+(D?" "+D:"")),k="IE",D=c[1]),H){if(v="global",b=null!=(m=i)?typeof m[v]:"number",/^(?:boolean|number|string|undefined)$/.test(b)||"object"==b&&!m[v])_(c=i.runtime)==x?(k="Adobe AIR",W=c.flash.system.Capabilities.os):_(c=i.phantom)==E?(k="PhantomJS",D=(c=c.version||null)&&c.major+"."+c.minor+"."+c.patch):"number"==typeof O.documentMode&&(c=/\bTrident\/(\d+)/i.exec(n))?(D=[D,O.documentMode],(c=+c[1]+4)!=D[1]&&(j.push("IE "+D[1]+" mode"),M&&(M[1]=""),D[1]=c),D="IE"==k?String(D[1].toFixed(1)):D[0]):"number"==typeof O.documentMode&&/^(?:Chrome|Firefox)\b/.test(k)&&(j.push("masking as "+k+" "+D),k="IE",D="11.0",M=["Trident"],W="Windows");else if(T&&(R=(c=T.lang.System).getProperty("os.arch"),W=W||c.getProperty("os.name")+" "+c.getProperty("os.version")),A){try{D=i.require("ringo/engine").version.join("."),k="RingoJS"}catch(e){(c=i.system)&&c.global.system==i.system&&(k="Narwhal",W||(W=c[0].os||null))}k||(k="Rhino")}else"object"==typeof i.process&&!i.process.browser&&(c=i.process)&&("object"==typeof c.versions&&("string"==typeof c.versions.electron?(j.push("Node "+c.versions.node),k="Electron",D=c.versions.electron):"string"==typeof c.versions.nw&&(j.push("Chromium "+D,"Node "+c.versions.node),k="NW.js",D=c.versions.nw)),k||(k="Node.js",R=c.arch,W=c.platform,D=(D=/[\d.]+/.exec(c.version))?D[0]:null));W=W&&h(W)}if(D&&(c=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(D)||/(?:alpha|beta)(?: ?\d)?/i.exec(n+";"+(H&&s.appMinorVersion))||/\bMinefield\b/i.test(n)&&"a")&&(N=/b/i.test(c)?"beta":"alpha",D=D.replace(RegExp(c+"\\+?$"),"")+("beta"==N?I:C)+(/\d+\+?/.exec(c)||"")),"Fennec"==k||"Firefox"==k&&/\b(?:Android|Firefox OS)\b/.test(W))k="Firefox Mobile";else if("Maxthon"==k&&D)D=D.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(F))"Xbox 360"==F&&(W=null),"Xbox 360"==F&&/\bIEMobile\b/.test(n)&&j.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(k)&&(!k||F||/Browser|Mobi/.test(k))||"Windows CE"!=W&&!/Mobi/i.test(n))if("IE"==k&&H)try{null===i.external&&j.unshift("platform preview")}catch(e){j.unshift("embedded")}else(/\bBlackBerry\b/.test(F)||/\bBB10\b/.test(n))&&(c=(RegExp(F.replace(/ +/g," *")+"/([.\\d]+)","i").exec(n)||0)[1]||D)?(W=((c=[c,/BB10/.test(n)])[1]?(F=null,B="BlackBerry"):"Device Software")+" "+c[0],D=null):this!=d&&"Wii"!=F&&(H&&L||/Opera/.test(k)&&/\b(?:MSIE|Firefox)\b/i.test(n)||"Firefox"==k&&/\bOS X (?:\d+\.){2,}/.test(W)||"IE"==k&&(W&&!/^Win/.test(W)&&D>5.5||/\bWindows XP\b/.test(W)&&D>8||8==D&&!/\bTrident\b/.test(n)))&&!a.test(c=e.call(d,n.replace(a,"")+";"))&&c.name&&(c="ing as "+c.name+((c=c.version)?" "+c:""),a.test(k)?(/\bIE\b/.test(c)&&"Mac OS"==W&&(W=null),c="identify"+c):(c="mask"+c,k=P?h(P.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(c)&&(W=null),H||(D=null)),M=["Presto"],j.push(c));else k+=" Mobile";(c=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(n)||0)[1])&&(c=[parseFloat(c.replace(/\.(\d)$/,".0$1")),c],"Safari"==k&&"+"==c[1].slice(-1)?(k="WebKit Nightly",N="alpha",D=c[1].slice(0,-1)):D!=c[1]&&D!=(c[2]=(/\bSafari\/([\d.]+\+?)/i.exec(n)||0)[1])||(D=null),c[1]=(/\bChrome\/([\d.]+)/i.exec(n)||0)[1],537.36==c[0]&&537.36==c[2]&&parseFloat(c[1])>=28&&"WebKit"==M&&(M=["Blink"]),H&&(y||c[1])?(M&&(M[1]="like Chrome"),c=c[1]||((c=c[0])<530?1:c<532?2:c<532.05?3:c<533?4:c<534.03?5:c<534.07?6:c<534.1?7:c<534.13?8:c<534.16?9:c<534.24?10:c<534.3?11:c<535.01?12:c<535.02?"13+":c<535.07?15:c<535.11?16:c<535.19?17:c<536.05?18:c<536.1?19:c<537.01?20:c<537.11?"21+":c<537.13?23:c<537.18?24:c<537.24?25:c<537.36?26:"Blink"!=M?"27":"28")):(M&&(M[1]="like Safari"),c=(c=c[0])<400?1:c<500?2:c<526?3:c<533?4:c<534?"4+":c<535?5:c<537?6:c<538?7:c<601?8:"8"),M&&(M[1]+=" "+(c+="number"==typeof c?".x":/[.+]/.test(c)?"":"+")),"Safari"==k&&(!D||parseInt(D)>45)&&(D=c)),"Opera"==k&&(c=/\bzbov|zvav$/.exec(W))?(k+=" ",j.unshift("desktop mode"),"zvav"==c?(k+="Mini",D=null):k+="Mobile",W=W.replace(RegExp(" *"+c+"$"),"")):"Safari"==k&&/\bChrome\b/.exec(M&&M[1])&&(j.unshift("desktop mode"),k="Chrome Mobile",D=null,/\bOS X\b/.test(W)?(B="Apple",W="iOS 4.3+"):W=null),D&&0==D.indexOf(c=/[\d.]+$/.exec(W))&&n.indexOf("/"+c+"-")>-1&&(W=g(W.replace(c,""))),M&&!/\b(?:Avant|Nook)\b/.test(k)&&(/Browser|Lunascape|Maxthon/.test(k)||"Safari"!=k&&/^iOS/.test(W)&&/\bSafari\b/.test(M[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(k)&&M[1])&&(c=M[M.length-1])&&j.push(c),j.length&&(j=["("+j.join("; ")+")"]),B&&F&&F.indexOf(B)<0&&j.push("on "+B),F&&j.push((/^on /.test(j[j.length-1])?"":"on ")+F),W&&(c=/ ([\d.+]+)$/.exec(W),u=c&&"/"==W.charAt(W.length-c[0].length-1),W={architecture:32,family:c&&!u?W.replace(c[0],""):W,version:c?c[1]:null,toString:function(){var e=this.version;return this.family+(e&&!u?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(c=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(R))&&!/\bi686\b/i.test(R)?(W&&(W.architecture=64,W.family=W.family.replace(RegExp(" *"+c),"")),k&&(/\bWOW64\b/i.test(n)||H&&/\w(?:86|32)$/.test(s.cpuClass||s.platform)&&!/\bWin64; x64\b/i.test(n))&&j.unshift("32-bit")):W&&/^OS X/.test(W.family)&&"Chrome"==k&&parseFloat(D)>=39&&(W.architecture=64),n||(n=null);var U={};return U.description=n,U.layout=M&&M[0],U.manufacturer=B,U.name=k,U.prerelease=N,U.product=F,U.ua=n,U.version=k&&D,U.os=W||{architecture:null,family:null,version:null,toString:function(){return"null"}},U.parse=e,U.toString=function(){return this.description||""},U.version&&j.unshift(D),U.name&&j.unshift(k),W&&k&&(W!=String(W).split(" ")[0]||W!=k.split(" ")[0]&&!F)&&j.push(F?"("+W+")":"on "+W),j.length&&(U.description=j.join(" ")),U}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(t.platform=m,define(function(){return m})):n&&i?d(m,function(e,t){n[t]=e}):t.platform=m}.call(this),this.createjs=this.createjs||{},createjs.extend=function(e,t){"use strict";function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n},this.createjs=this.createjs||{},createjs.promote=function(e,t){"use strict";var n=e.prototype,i=Object.getPrototypeOf&&Object.getPrototypeOf(n)||n.__proto__;if(i)for(var r in n[(t+="_")+"constructor"]=i.constructor,i)n.hasOwnProperty(r)&&"function"==typeof i[r]&&(n[t+r]=i[r]);return e},this.createjs=this.createjs||{},createjs.indexOf=function(e,t){"use strict";for(var n=0,i=e.length;i>n;n++)if(t===e[n])return n;return-1},this.createjs=this.createjs||{},function(){"use strict";function e(e,t,n){this.type=e,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!t,this.cancelable=!!n,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var t=e.prototype;t.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},t.stopPropagation=function(){this.propagationStopped=!0},t.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},t.remove=function(){this.removed=!0},t.clone=function(){return new e(this.type,this.bubbles,this.cancelable)},t.set=function(e){for(var t in e)this[t]=e[t];return this},t.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this._listeners=null,this._captureListeners=null}var t=e.prototype;e.initialize=function(e){e.addEventListener=t.addEventListener,e.on=t.on,e.removeEventListener=e.off=t.removeEventListener,e.removeAllEventListeners=t.removeAllEventListeners,e.hasEventListener=t.hasEventListener,e.dispatchEvent=t.dispatchEvent,e._dispatchEvent=t._dispatchEvent,e.willTrigger=t.willTrigger},t.addEventListener=function(e,t,n){var i,r=(i=n?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{})[e];return r&&this.removeEventListener(e,t,n),(r=i[e])?r.push(t):i[e]=[t],t},t.on=function(e,t,n,i,r,s){return t.handleEvent&&(n=n||t,t=t.handleEvent),n=n||this,this.addEventListener(e,function(e){t.call(n,e,r),i&&e.remove()},s)},t.removeEventListener=function(e,t,n){var i=n?this._captureListeners:this._listeners;if(i){var r=i[e];if(r)for(var s=0,a=r.length;a>s;s++)if(r[s]==t){1==a?delete i[e]:r.splice(s,1);break}}},t.off=t.removeEventListener,t.removeAllEventListeners=function(e){e?(this._listeners&&delete this._listeners[e],this._captureListeners&&delete this._captureListeners[e]):this._listeners=this._captureListeners=null},t.dispatchEvent=function(e,t,n){if("string"==typeof e){var i=this._listeners;if(!(t||i&&i[e]))return!0;e=new createjs.Event(e,t,n)}else e.target&&e.clone&&(e=e.clone());try{e.target=this}catch(e){}if(e.bubbles&&this.parent){for(var r=this,s=[r];r.parent;)s.push(r=r.parent);var a,o=s.length;for(a=o-1;a>=0&&!e.propagationStopped;a--)s[a]._dispatchEvent(e,1+(0==a));for(a=1;o>a&&!e.propagationStopped;a++)s[a]._dispatchEvent(e,3)}else this._dispatchEvent(e,2);return!e.defaultPrevented},t.hasEventListener=function(e){var t=this._listeners,n=this._captureListeners;return!!(t&&t[e]||n&&n[e])},t.willTrigger=function(e){for(var t=this;t;){if(t.hasEventListener(e))return!0;t=t.parent}return!1},t.toString=function(){return"[EventDispatcher]"},t._dispatchEvent=function(e,t){var n,i=1==t?this._captureListeners:this._listeners;if(e&&i){var r=i[e.type];if(!r||!(n=r.length))return;try{e.currentTarget=this}catch(e){}try{e.eventPhase=t}catch(e){}e.removed=!1,r=r.slice();for(var s=0;n>s&&!e.immediatePropagationStopped;s++){var a=r[s];a.handleEvent?a.handleEvent(e):a(e),e.removed&&(this.off(e.type,a,1==t),e.removed=!1)}}},createjs.EventDispatcher=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"Ticker cannot be instantiated."}e.RAF_SYNCHED="synched",e.RAF="raf",e.TIMEOUT="timeout",e.useRAF=!1,e.timingMode=null,e.maxDelta=0,e.paused=!1,e.removeEventListener=null,e.removeAllEventListeners=null,e.dispatchEvent=null,e.hasEventListener=null,e._listeners=null,createjs.EventDispatcher.initialize(e),e._addEventListener=e.addEventListener,e.addEventListener=function(){return!e._inited&&e.init(),e._addEventListener.apply(e,arguments)},e._inited=!1,e._startTime=0,e._pausedTime=0,e._ticks=0,e._pausedTicks=0,e._interval=50,e._lastTime=0,e._times=null,e._tickTimes=null,e._timerId=null,e._raf=!0,e.setInterval=function(t){e._interval=t,e._inited&&e._setupTick()},e.getInterval=function(){return e._interval},e.setFPS=function(t){e.setInterval(1e3/t)},e.getFPS=function(){return 1e3/e._interval};try{Object.defineProperties(e,{interval:{get:e.getInterval,set:e.setInterval},framerate:{get:e.getFPS,set:e.setFPS}})}catch(e){console.log(e)}e.init=function(){e._inited||(e._inited=!0,e._times=[],e._tickTimes=[],e._startTime=e._getTime(),e._times.push(e._lastTime=0),e.interval=e._interval)},e.reset=function(){if(e._raf){var t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;t&&t(e._timerId)}else clearTimeout(e._timerId);e.removeAllEventListeners("tick"),e._timerId=e._times=e._tickTimes=null,e._startTime=e._lastTime=e._ticks=0,e._inited=!1},e.getMeasuredTickTime=function(t){var n=0,i=e._tickTimes;if(!i||i.length<1)return-1;t=Math.min(i.length,t||0|e.getFPS());for(var r=0;t>r;r++)n+=i[r];return n/t},e.getMeasuredFPS=function(t){var n=e._times;return!n||n.length<2?-1:(t=Math.min(n.length-1,t||0|e.getFPS()),1e3/((n[0]-n[t])/t))},e.setPaused=function(t){e.paused=t},e.getPaused=function(){return e.paused},e.getTime=function(t){return e._startTime?e._getTime()-(t?e._pausedTime:0):-1},e.getEventTime=function(t){return e._startTime?(e._lastTime||e._startTime)-(t?e._pausedTime:0):-1},e.getTicks=function(t){return e._ticks-(t?e._pausedTicks:0)},e._handleSynch=function(){e._timerId=null,e._setupTick(),e._getTime()-e._lastTime>=.97*(e._interval-1)&&e._tick()},e._handleRAF=function(){e._timerId=null,e._setupTick(),e._tick()},e._handleTimeout=function(){e._timerId=null,e._setupTick(),e._tick()},e._setupTick=function(){if(null==e._timerId){var t=e.timingMode||e.useRAF&&e.RAF_SYNCHED;if(t==e.RAF_SYNCHED||t==e.RAF){var n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(n)return e._timerId=n(t==e.RAF?e._handleRAF:e._handleSynch),void(e._raf=!0)}e._raf=!1,e._timerId=setTimeout(e._handleTimeout,e._interval)}},e._tick=function(){var t=e.paused,n=e._getTime(),i=n-e._lastTime;if(e._lastTime=n,e._ticks++,t&&(e._pausedTicks++,e._pausedTime+=i),e.hasEventListener("tick")){var r=new createjs.Event("tick"),s=e.maxDelta;r.delta=s&&i>s?s:i,r.paused=t,r.time=n,r.runTime=n-e._pausedTime,e.dispatchEvent(r)}for(e._tickTimes.unshift(e._getTime()-n);e._tickTimes.length>100;)e._tickTimes.pop();for(e._times.unshift(n);e._times.length>100;)e._times.pop()};var t=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);e._getTime=function(){return(t&&t.call(performance)||(new Date).getTime())-e._startTime},createjs.Ticker=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"UID cannot be instantiated"}e._nextID=0,e.get=function(){return e._nextID++},createjs.UID=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,n,i,r,s,a,o,c,l,u){this.Event_constructor(e,t,n),this.stageX=i,this.stageY=r,this.rawX=null==c?i:c,this.rawY=null==l?r:l,this.nativeEvent=s,this.pointerID=a,this.primary=!!o,this.relatedTarget=u}var t=createjs.extend(e,createjs.Event);t._get_localX=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).x},t._get_localY=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).y},t._get_isTouch=function(){return-1!==this.pointerID};try{Object.defineProperties(t,{localX:{get:t._get_localX},localY:{get:t._get_localY},isTouch:{get:t._get_isTouch}})}catch(e){}t.clone=function(){return new e(this.type,this.bubbles,this.cancelable,this.stageX,this.stageY,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)},t.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"},createjs.MouseEvent=createjs.promote(e,"Event")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,n,i,r,s){this.setValues(e,t,n,i,r,s)}var t=e.prototype;e.DEG_TO_RAD=Math.PI/180,e.identity=null,t.setValues=function(e,t,n,i,r,s){return this.a=null==e?1:e,this.b=t||0,this.c=n||0,this.d=null==i?1:i,this.tx=r||0,this.ty=s||0,this},t.append=function(e,t,n,i,r,s){var a=this.a,o=this.b,c=this.c,l=this.d;return(1!=e||0!=t||0!=n||1!=i)&&(this.a=a*e+c*t,this.b=o*e+l*t,this.c=a*n+c*i,this.d=o*n+l*i),this.tx=a*r+c*s+this.tx,this.ty=o*r+l*s+this.ty,this},t.prepend=function(e,t,n,i,r,s){var a=this.a,o=this.c,c=this.tx;return this.a=e*a+n*this.b,this.b=t*a+i*this.b,this.c=e*o+n*this.d,this.d=t*o+i*this.d,this.tx=e*c+n*this.ty+r,this.ty=t*c+i*this.ty+s,this},t.appendMatrix=function(e){return this.append(e.a,e.b,e.c,e.d,e.tx,e.ty)},t.prependMatrix=function(e){return this.prepend(e.a,e.b,e.c,e.d,e.tx,e.ty)},t.appendTransform=function(t,n,i,r,s,a,o,c,l){if(s%360)var u=s*e.DEG_TO_RAD,h=Math.cos(u),d=Math.sin(u);else h=1,d=0;return a||o?(a*=e.DEG_TO_RAD,o*=e.DEG_TO_RAD,this.append(Math.cos(o),Math.sin(o),-Math.sin(a),Math.cos(a),t,n),this.append(h*i,d*i,-d*r,h*r,0,0)):this.append(h*i,d*i,-d*r,h*r,t,n),(c||l)&&(this.tx-=c*this.a+l*this.c,this.ty-=c*this.b+l*this.d),this},t.prependTransform=function(t,n,i,r,s,a,o,c,l){if(s%360)var u=s*e.DEG_TO_RAD,h=Math.cos(u),d=Math.sin(u);else h=1,d=0;return(c||l)&&(this.tx-=c,this.ty-=l),a||o?(a*=e.DEG_TO_RAD,o*=e.DEG_TO_RAD,this.prepend(h*i,d*i,-d*r,h*r,0,0),this.prepend(Math.cos(o),Math.sin(o),-Math.sin(a),Math.cos(a),t,n)):this.prepend(h*i,d*i,-d*r,h*r,t,n),this},t.rotate=function(t){t*=e.DEG_TO_RAD;var n=Math.cos(t),i=Math.sin(t),r=this.a,s=this.b;return this.a=r*n+this.c*i,this.b=s*n+this.d*i,this.c=-r*i+this.c*n,this.d=-s*i+this.d*n,this},t.skew=function(t,n){return t*=e.DEG_TO_RAD,n*=e.DEG_TO_RAD,this.append(Math.cos(n),Math.sin(n),-Math.sin(t),Math.cos(t),0,0),this},t.scale=function(e,t){return this.a*=e,this.b*=e,this.c*=t,this.d*=t,this},t.translate=function(e,t){return this.tx+=this.a*e+this.c*t,this.ty+=this.b*e+this.d*t,this},t.identity=function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},t.invert=function(){var e=this.a,t=this.b,n=this.c,i=this.d,r=this.tx,s=e*i-t*n;return this.a=i/s,this.b=-t/s,this.c=-n/s,this.d=e/s,this.tx=(n*this.ty-i*r)/s,this.ty=-(e*this.ty-t*r)/s,this},t.isIdentity=function(){return 0===this.tx&&0===this.ty&&1===this.a&&0===this.b&&0===this.c&&1===this.d},t.equals=function(e){return this.tx===e.tx&&this.ty===e.ty&&this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d},t.transformPoint=function(e,t,n){return(n=n||{}).x=e*this.a+t*this.c+this.tx,n.y=e*this.b+t*this.d+this.ty,n},t.decompose=function(t){null==t&&(t={}),t.x=this.tx,t.y=this.ty,t.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),t.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var n=Math.atan2(-this.c,this.d),i=Math.atan2(this.b,this.a);return 1e-5>Math.abs(1-n/i)?(t.rotation=i/e.DEG_TO_RAD,this.a<0&&this.d>=0&&(t.rotation+=t.rotation<=0?180:-180),t.skewX=t.skewY=0):(t.skewX=n/e.DEG_TO_RAD,t.skewY=i/e.DEG_TO_RAD),t},t.copy=function(e){return this.setValues(e.a,e.b,e.c,e.d,e.tx,e.ty)},t.clone=function(){return new e(this.a,this.b,this.c,this.d,this.tx,this.ty)},t.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"},e.identity=new e,createjs.Matrix2D=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,n,i,r){this.setValues(e,t,n,i,r)}var t=e.prototype;t.setValues=function(e,t,n,i,r){return this.visible=null==e||!!e,this.alpha=null==t?1:t,this.shadow=n,this.compositeOperation=i,this.matrix=r||this.matrix&&this.matrix.identity()||new createjs.Matrix2D,this},t.append=function(e,t,n,i,r){return this.alpha*=t,this.shadow=n||this.shadow,this.compositeOperation=i||this.compositeOperation,this.visible=this.visible&&e,r&&this.matrix.appendMatrix(r),this},t.prepend=function(e,t,n,i,r){return this.alpha*=t,this.shadow=this.shadow||n,this.compositeOperation=this.compositeOperation||i,this.visible=this.visible&&e,r&&this.matrix.prependMatrix(r),this},t.identity=function(){return this.visible=!0,this.alpha=1,this.shadow=this.compositeOperation=null,this.matrix.identity(),this},t.clone=function(){return new e(this.alpha,this.shadow,this.compositeOperation,this.visible,this.matrix.clone())},createjs.DisplayProps=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.setValues(e,t)}var t=e.prototype;t.setValues=function(e,t){return this.x=e||0,this.y=t||0,this},t.copy=function(e){return this.x=e.x,this.y=e.y,this},t.clone=function(){return new e(this.x,this.y)},t.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"},createjs.Point=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,n,i){this.setValues(e,t,n,i)}var t=e.prototype;t.setValues=function(e,t,n,i){return this.x=e||0,this.y=t||0,this.width=n||0,this.height=i||0,this},t.extend=function(e,t,n,i){return n=n||0,i=i||0,e+n>this.x+this.width&&(this.width=e+n-this.x),t+i>this.y+this.height&&(this.height=t+i-this.y),e<this.x&&(this.width+=this.x-e,this.x=e),t<this.y&&(this.height+=this.y-t,this.y=t),this},t.pad=function(e,t,n,i){return this.x-=t,this.y-=e,this.width+=t+i,this.height+=e+n,this},t.copy=function(e){return this.setValues(e.x,e.y,e.width,e.height)},t.contains=function(e,t,n,i){return n=n||0,i=i||0,e>=this.x&&e+n<=this.x+this.width&&t>=this.y&&t+i<=this.y+this.height},t.union=function(e){return this.clone().extend(e.x,e.y,e.width,e.height)},t.intersection=function(t){var n=t.x,i=t.y,r=n+t.width,s=i+t.height;return this.x>n&&(n=this.x),this.y>i&&(i=this.y),this.x+this.width<r&&(r=this.x+this.width),this.y+this.height<s&&(s=this.y+this.height),n>=r||i>=s?null:new e(n,i,r-n,s-i)},t.intersects=function(e){return e.x<=this.x+this.width&&this.x<=e.x+e.width&&e.y<=this.y+this.height&&this.y<=e.y+e.height},t.isEmpty=function(){return this.width<=0||this.height<=0},t.clone=function(){return new e(this.x,this.y,this.width,this.height)},t.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"},createjs.Rectangle=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,n,i,r,s,a){e.addEventListener&&(this.target=e,this.overLabel=null==n?"over":n,this.outLabel=null==t?"out":t,this.downLabel=null==i?"down":i,this.play=r,this._isPressed=!1,this._isOver=!1,this._enabled=!1,e.mouseChildren=!1,this.enabled=!0,this.handleEvent({}),s&&(a&&(s.actionsEnabled=!1,s.gotoAndStop&&s.gotoAndStop(a)),e.hitArea=s))}var t=e.prototype;t.setEnabled=function(e){if(e!=this._enabled){var t=this.target;this._enabled=e,e?(t.cursor="pointer",t.addEventListener("rollover",this),t.addEventListener("rollout",this),t.addEventListener("mousedown",this),t.addEventListener("pressup",this),t._reset&&(t.__reset=t._reset,t._reset=this._reset)):(t.cursor=null,t.removeEventListener("rollover",this),t.removeEventListener("rollout",this),t.removeEventListener("mousedown",this),t.removeEventListener("pressup",this),t.__reset&&(t._reset=t.__reset,delete t.__reset))}},t.getEnabled=function(){return this._enabled};try{Object.defineProperties(t,{enabled:{get:t.getEnabled,set:t.setEnabled}})}catch(e){}t.toString=function(){return"[ButtonHelper]"},t.handleEvent=function(e){var t,n=this.target,i=e.type;"mousedown"==i?(this._isPressed=!0,t=this.downLabel):"pressup"==i?(this._isPressed=!1,t=this._isOver?this.overLabel:this.outLabel):"rollover"==i?(this._isOver=!0,t=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,t=this._isPressed?this.overLabel:this.outLabel),this.play?n.gotoAndPlay&&n.gotoAndPlay(t):n.gotoAndStop&&n.gotoAndStop(t)},t._reset=function(){var e=this.paused;this.__reset(),this.paused=e},createjs.ButtonHelper=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,n,i){this.color=e||"black",this.offsetX=t||0,this.offsetY=n||0,this.blur=i||0}var t=e.prototype;e.identity=new e("transparent",0,0,0),t.toString=function(){return"[Shadow]"},t.clone=function(){return new e(this.color,this.offsetX,this.offsetY,this.blur)},createjs.Shadow=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.EventDispatcher_constructor(),this.complete=!0,this.framerate=0,this._animations=null,this._frames=null,this._images=null,this._data=null,this._loadCount=0,this._frameHeight=0,this._frameWidth=0,this._numFrames=0,this._regX=0,this._regY=0,this._spacing=0,this._margin=0,this._parseData(e)}var t=createjs.extend(e,createjs.EventDispatcher);t.getAnimations=function(){return this._animations.slice()};try{Object.defineProperties(t,{animations:{get:t.getAnimations}})}catch(e){}t.getNumFrames=function(e){if(null==e)return this._frames?this._frames.length:this._numFrames||0;var t=this._data[e];return null==t?0:t.frames.length},t.getAnimation=function(e){return this._data[e]},t.getFrame=function(e){var t;return this._frames&&(t=this._frames[e])?t:null},t.getFrameBounds=function(e,t){var n=this.getFrame(e);return n?(t||new createjs.Rectangle).setValues(-n.regX,-n.regY,n.rect.width,n.rect.height):null},t.toString=function(){return"[SpriteSheet]"},t.clone=function(){throw"SpriteSheet cannot be cloned."},t._parseData=function(e){var t,n,i,r;if(null!=e){if(this.framerate=e.framerate||0,e.images&&(n=e.images.length)>0)for(r=this._images=[],t=0;n>t;t++){var s=e.images[t];if("string"==typeof s){var a=s;(s=document.createElement("img")).src=a}r.push(s),s.getContext||s.naturalWidth||(this._loadCount++,this.complete=!1,function(e,t){s.onload=function(){e._handleImageLoad(t)}}(this,a),function(e,t){s.onerror=function(){e._handleImageError(t)}}(this,a))}if(null==e.frames);else if(Array.isArray(e.frames))for(this._frames=[],t=0,n=(r=e.frames).length;n>t;t++){var o=r[t];this._frames.push({image:this._images[o[4]?o[4]:0],rect:new createjs.Rectangle(o[0],o[1],o[2],o[3]),regX:o[5]||0,regY:o[6]||0})}else i=e.frames,this._frameWidth=i.width,this._frameHeight=i.height,this._regX=i.regX||0,this._regY=i.regY||0,this._spacing=i.spacing||0,this._margin=i.margin||0,this._numFrames=i.count,0==this._loadCount&&this._calculateFrames();var c;if(this._animations=[],null!=(i=e.animations))for(c in this._data={},i){var l={name:c},u=i[c];if("number"==typeof u)r=l.frames=[u];else if(Array.isArray(u))if(1==u.length)l.frames=[u[0]];else for(l.speed=u[3],l.next=u[2],r=l.frames=[],t=u[0];t<=u[1];t++)r.push(t);else{l.speed=u.speed,l.next=u.next;var h=u.frames;r=l.frames="number"==typeof h?[h]:h.slice(0)}(!0===l.next||void 0===l.next)&&(l.next=c),(!1===l.next||r.length<2&&l.next==c)&&(l.next=null),l.speed||(l.speed=1),this._animations.push(c),this._data[c]=l}}},t._handleImageLoad=function(e){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,this.dispatchEvent("complete"))},t._handleImageError=function(e){var t=new createjs.Event("error");t.src=e,this.dispatchEvent(t),0==--this._loadCount&&this.dispatchEvent("complete")},t._calculateFrames=function(){if(!this._frames&&0!=this._frameWidth){this._frames=[];var e=this._numFrames||1e5,t=0,n=this._frameWidth,i=this._frameHeight,r=this._spacing,s=this._margin;e:for(var a=0,o=this._images;a<o.length;a++)for(var c=o[a],l=c.width,u=c.height,h=s;u-s-i>=h;){for(var d=s;l-s-n>=d;){if(t>=e)break e;t++,this._frames.push({image:c,rect:new createjs.Rectangle(d,h,n,i),regX:this._regX,regY:this._regY}),d+=n+r}h+=i+r}this._numFrames=t}},createjs.SpriteSheet=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this.command=null,this._stroke=null,this._strokeStyle=null,this._oldStrokeStyle=null,this._strokeDash=null,this._oldStrokeDash=null,this._strokeIgnoreScale=!1,this._fill=null,this._instructions=[],this._commitIndex=0,this._activeInstructions=[],this._dirty=!1,this._storeIndex=0,this.clear()}var t=e.prototype,n=e;e.getRGB=function(e,t,n,i){return null!=e&&null==n&&(i=t,n=255&e,t=e>>8&255,e=e>>16&255),null==i?"rgb("+e+","+t+","+n+")":"rgba("+e+","+t+","+n+","+i+")"},e.getHSL=function(e,t,n,i){return null==i?"hsl("+e%360+","+t+"%,"+n+"%)":"hsla("+e%360+","+t+"%,"+n+"%,"+i+")"},e.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63},e.STROKE_CAPS_MAP=["butt","round","square"],e.STROKE_JOINTS_MAP=["miter","round","bevel"];var i=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");i.getContext&&(e._ctx=i.getContext("2d"),i.width=i.height=1),t.getInstructions=function(){return this._updateInstructions(),this._instructions};try{Object.defineProperties(t,{instructions:{get:t.getInstructions}})}catch(e){}t.isEmpty=function(){return!(this._instructions.length||this._activeInstructions.length)},t.draw=function(e,t){this._updateInstructions();for(var n=this._instructions,i=this._storeIndex,r=n.length;r>i;i++)n[i].exec(e,t)},t.drawAsPath=function(e){this._updateInstructions();for(var t,n=this._instructions,i=this._storeIndex,r=n.length;r>i;i++)!1!==(t=n[i]).path&&t.exec(e)},t.moveTo=function(e,t){return this.append(new n.MoveTo(e,t),!0)},t.lineTo=function(e,t){return this.append(new n.LineTo(e,t))},t.arcTo=function(e,t,i,r,s){return this.append(new n.ArcTo(e,t,i,r,s))},t.arc=function(e,t,i,r,s,a){return this.append(new n.Arc(e,t,i,r,s,a))},t.quadraticCurveTo=function(e,t,i,r){return this.append(new n.QuadraticCurveTo(e,t,i,r))},t.bezierCurveTo=function(e,t,i,r,s,a){return this.append(new n.BezierCurveTo(e,t,i,r,s,a))},t.rect=function(e,t,i,r){return this.append(new n.Rect(e,t,i,r))},t.closePath=function(){return this._activeInstructions.length?this.append(new n.ClosePath):this},t.clear=function(){return this._instructions.length=this._activeInstructions.length=this._commitIndex=0,this._strokeStyle=this._oldStrokeStyle=this._stroke=this._fill=this._strokeDash=this._oldStrokeDash=null,this._dirty=this._strokeIgnoreScale=!1,this},t.beginFill=function(e){return this._setFill(e?new n.Fill(e):null)},t.beginLinearGradientFill=function(e,t,i,r,s,a){return this._setFill((new n.Fill).linearGradient(e,t,i,r,s,a))},t.beginRadialGradientFill=function(e,t,i,r,s,a,o,c){return this._setFill((new n.Fill).radialGradient(e,t,i,r,s,a,o,c))},t.beginBitmapFill=function(e,t,i){return this._setFill(new n.Fill(null,i).bitmap(e,t))},t.endFill=function(){return this.beginFill()},t.setStrokeStyle=function(e,t,i,r,s){return this._updateInstructions(!0),this._strokeStyle=this.command=new n.StrokeStyle(e,t,i,r,s),this._stroke&&(this._stroke.ignoreScale=s),this._strokeIgnoreScale=s,this},t.setStrokeDash=function(e,t){return this._updateInstructions(!0),this._strokeDash=this.command=new n.StrokeDash(e,t),this},t.beginStroke=function(e){return this._setStroke(e?new n.Stroke(e):null)},t.beginLinearGradientStroke=function(e,t,i,r,s,a){return this._setStroke((new n.Stroke).linearGradient(e,t,i,r,s,a))},t.beginRadialGradientStroke=function(e,t,i,r,s,a,o,c){return this._setStroke((new n.Stroke).radialGradient(e,t,i,r,s,a,o,c))},t.beginBitmapStroke=function(e,t){return this._setStroke((new n.Stroke).bitmap(e,t))},t.endStroke=function(){return this.beginStroke()},t.curveTo=t.quadraticCurveTo,t.drawRect=t.rect,t.drawRoundRect=function(e,t,n,i,r){return this.drawRoundRectComplex(e,t,n,i,r,r,r,r)},t.drawRoundRectComplex=function(e,t,i,r,s,a,o,c){return this.append(new n.RoundRect(e,t,i,r,s,a,o,c))},t.drawCircle=function(e,t,i){return this.append(new n.Circle(e,t,i))},t.drawEllipse=function(e,t,i,r){return this.append(new n.Ellipse(e,t,i,r))},t.drawPolyStar=function(e,t,i,r,s,a){return this.append(new n.PolyStar(e,t,i,r,s,a))},t.append=function(e,t){return this._activeInstructions.push(e),this.command=e,t||(this._dirty=!0),this},t.decodePath=function(t){for(var n=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],i=[2,2,4,6,0],r=0,s=t.length,a=[],o=0,c=0,l=e.BASE_64;s>r;){var u=t.charAt(r),h=l[u],d=h>>3,_=n[d];if(!_||3&h)throw"bad path data (@"+r+"): "+u;var f=i[d];d||(o=c=0),a.length=0,r++;for(var p=2+(h>>2&1),g=0;f>g;g++){var m=l[t.charAt(r)],v=m>>5?-1:1;m=(31&m)<<6|l[t.charAt(r+1)],3==p&&(m=m<<6|l[t.charAt(r+2)]),m=v*m/10,g%2?o=m+=o:c=m+=c,a[g]=m,r+=p}_.apply(this,a)}return this},t.store=function(){return this._updateInstructions(!0),this._storeIndex=this._instructions.length,this},t.unstore=function(){return this._storeIndex=0,this},t.clone=function(){var t=new e;return t.command=this.command,t._stroke=this._stroke,t._strokeStyle=this._strokeStyle,t._strokeDash=this._strokeDash,t._strokeIgnoreScale=this._strokeIgnoreScale,t._fill=this._fill,t._instructions=this._instructions.slice(),t._commitIndex=this._commitIndex,t._activeInstructions=this._activeInstructions.slice(),t._dirty=this._dirty,t._storeIndex=this._storeIndex,t},t.toString=function(){return"[Graphics]"},t.mt=t.moveTo,t.lt=t.lineTo,t.at=t.arcTo,t.bt=t.bezierCurveTo,t.qt=t.quadraticCurveTo,t.a=t.arc,t.r=t.rect,t.cp=t.closePath,t.c=t.clear,t.f=t.beginFill,t.lf=t.beginLinearGradientFill,t.rf=t.beginRadialGradientFill,t.bf=t.beginBitmapFill,t.ef=t.endFill,t.ss=t.setStrokeStyle,t.sd=t.setStrokeDash,t.s=t.beginStroke,t.ls=t.beginLinearGradientStroke,t.rs=t.beginRadialGradientStroke,t.bs=t.beginBitmapStroke,t.es=t.endStroke,t.dr=t.drawRect,t.rr=t.drawRoundRect,t.rc=t.drawRoundRectComplex,t.dc=t.drawCircle,t.de=t.drawEllipse,t.dp=t.drawPolyStar,t.p=t.decodePath,t._updateInstructions=function(t){var n=this._instructions,i=this._activeInstructions,r=this._commitIndex;if(this._dirty&&i.length){n.length=r,n.push(e.beginCmd);var s=i.length,a=n.length;n.length=a+s;for(var o=0;s>o;o++)n[o+a]=i[o];this._fill&&n.push(this._fill),this._stroke&&(this._strokeDash!==this._oldStrokeDash&&(this._oldStrokeDash=this._strokeDash,n.push(this._strokeDash)),this._strokeStyle!==this._oldStrokeStyle&&(this._oldStrokeStyle=this._strokeStyle,n.push(this._strokeStyle)),n.push(this._stroke)),this._dirty=!1}t&&(i.length=0,this._commitIndex=n.length)},t._setFill=function(e){return this._updateInstructions(!0),this.command=this._fill=e,this},t._setStroke=function(e){return this._updateInstructions(!0),(this.command=this._stroke=e)&&(e.ignoreScale=this._strokeIgnoreScale),this},(n.LineTo=function(e,t){this.x=e,this.y=t}).prototype.exec=function(e){e.lineTo(this.x,this.y)},(n.MoveTo=function(e,t){this.x=e,this.y=t}).prototype.exec=function(e){e.moveTo(this.x,this.y)},(n.ArcTo=function(e,t,n,i,r){this.x1=e,this.y1=t,this.x2=n,this.y2=i,this.radius=r}).prototype.exec=function(e){e.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)},(n.Arc=function(e,t,n,i,r,s){this.x=e,this.y=t,this.radius=n,this.startAngle=i,this.endAngle=r,this.anticlockwise=!!s}).prototype.exec=function(e){e.arc(this.x,this.y,this.radius,this.startAngle,this.endAngle,this.anticlockwise)},(n.QuadraticCurveTo=function(e,t,n,i){this.cpx=e,this.cpy=t,this.x=n,this.y=i}).prototype.exec=function(e){e.quadraticCurveTo(this.cpx,this.cpy,this.x,this.y)},(n.BezierCurveTo=function(e,t,n,i,r,s){this.cp1x=e,this.cp1y=t,this.cp2x=n,this.cp2y=i,this.x=r,this.y=s}).prototype.exec=function(e){e.bezierCurveTo(this.cp1x,this.cp1y,this.cp2x,this.cp2y,this.x,this.y)},(n.Rect=function(e,t,n,i){this.x=e,this.y=t,this.w=n,this.h=i}).prototype.exec=function(e){e.rect(this.x,this.y,this.w,this.h)},(n.ClosePath=function(){}).prototype.exec=function(e){e.closePath()},(n.BeginPath=function(){}).prototype.exec=function(e){e.beginPath()},(t=(n.Fill=function(e,t){this.style=e,this.matrix=t}).prototype).exec=function(e){if(this.style){e.fillStyle=this.style;var t=this.matrix;t&&(e.save(),e.transform(t.a,t.b,t.c,t.d,t.tx,t.ty)),e.fill(),t&&e.restore()}},t.linearGradient=function(t,n,i,r,s,a){for(var o=this.style=e._ctx.createLinearGradient(i,r,s,a),c=0,l=t.length;l>c;c++)o.addColorStop(n[c],t[c]);return o.props={colors:t,ratios:n,x0:i,y0:r,x1:s,y1:a,type:"linear"},this},t.radialGradient=function(t,n,i,r,s,a,o,c){for(var l=this.style=e._ctx.createRadialGradient(i,r,s,a,o,c),u=0,h=t.length;h>u;u++)l.addColorStop(n[u],t[u]);return l.props={colors:t,ratios:n,x0:i,y0:r,r0:s,x1:a,y1:o,r1:c,type:"radial"},this},t.bitmap=function(t,n){(t.naturalWidth||t.getContext||t.readyState>=2)&&((this.style=e._ctx.createPattern(t,n||"")).props={image:t,repetition:n,type:"bitmap"});return this},t.path=!1,(t=(n.Stroke=function(e,t){this.style=e,this.ignoreScale=t}).prototype).exec=function(e){this.style&&(e.strokeStyle=this.style,this.ignoreScale&&(e.save(),e.setTransform(1,0,0,1,0,0)),e.stroke(),this.ignoreScale&&e.restore())},t.linearGradient=n.Fill.prototype.linearGradient,t.radialGradient=n.Fill.prototype.radialGradient,t.bitmap=n.Fill.prototype.bitmap,t.path=!1,(t=(n.StrokeStyle=function(e,t,n,i,r){this.width=e,this.caps=t,this.joints=n,this.miterLimit=i,this.ignoreScale=r}).prototype).exec=function(t){t.lineWidth=null==this.width?"1":this.width,t.lineCap=null==this.caps?"butt":isNaN(this.caps)?this.caps:e.STROKE_CAPS_MAP[this.caps],t.lineJoin=null==this.joints?"miter":isNaN(this.joints)?this.joints:e.STROKE_JOINTS_MAP[this.joints],t.miterLimit=null==this.miterLimit?"10":this.miterLimit,t.ignoreScale=null!=this.ignoreScale&&this.ignoreScale},t.path=!1,(n.StrokeDash=function(e,t){this.segments=e,this.offset=t||0}).prototype.exec=function(e){e.setLineDash&&(e.setLineDash(this.segments||n.StrokeDash.EMPTY_SEGMENTS),e.lineDashOffset=this.offset||0)},n.StrokeDash.EMPTY_SEGMENTS=[],(n.RoundRect=function(e,t,n,i,r,s,a,o){this.x=e,this.y=t,this.w=n,this.h=i,this.radiusTL=r,this.radiusTR=s,this.radiusBR=a,this.radiusBL=o}).prototype.exec=function(e){var t=(l>c?c:l)/2,n=0,i=0,r=0,s=0,a=this.x,o=this.y,c=this.w,l=this.h,u=this.radiusTL,h=this.radiusTR,d=this.radiusBR,_=this.radiusBL;0>u&&(u*=n=-1),u>t&&(u=t),0>h&&(h*=i=-1),h>t&&(h=t),0>d&&(d*=r=-1),d>t&&(d=t),0>_&&(_*=s=-1),_>t&&(_=t),e.moveTo(a+c-h,o),e.arcTo(a+c+h*i,o-h*i,a+c,o+h,h),e.lineTo(a+c,o+l-d),e.arcTo(a+c+d*r,o+l+d*r,a+c-d,o+l,d),e.lineTo(a+_,o+l),e.arcTo(a-_*s,o+l+_*s,a,o+l-_,_),e.lineTo(a,o+u),e.arcTo(a-u*n,o-u*n,a+u,o,u),e.closePath()},(n.Circle=function(e,t,n){this.x=e,this.y=t,this.radius=n}).prototype.exec=function(e){e.arc(this.x,this.y,this.radius,0,2*Math.PI)},(n.Ellipse=function(e,t,n,i){this.x=e,this.y=t,this.w=n,this.h=i}).prototype.exec=function(e){var t=this.x,n=this.y,i=this.w,r=this.h,s=.5522848,a=i/2*s,o=r/2*s,c=t+i,l=n+r,u=t+i/2,h=n+r/2;e.moveTo(t,h),e.bezierCurveTo(t,h-o,u-a,n,u,n),e.bezierCurveTo(u+a,n,c,h-o,c,h),e.bezierCurveTo(c,h+o,u+a,l,u,l),e.bezierCurveTo(u-a,l,t,h+o,t,h)},(n.PolyStar=function(e,t,n,i,r,s){this.x=e,this.y=t,this.radius=n,this.sides=i,this.pointSize=r,this.angle=s}).prototype.exec=function(e){var t=this.x,n=this.y,i=this.radius,r=(this.angle||0)/180*Math.PI,s=this.sides,a=1-(this.pointSize||0),o=Math.PI/s;e.moveTo(t+Math.cos(r)*i,n+Math.sin(r)*i);for(var c=0;s>c;c++)r+=o,1!=a&&e.lineTo(t+Math.cos(r)*i*a,n+Math.sin(r)*i*a),r+=o,e.lineTo(t+Math.cos(r)*i,n+Math.sin(r)*i);e.closePath()},e.beginCmd=new n.BeginPath,createjs.Graphics=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this.EventDispatcher_constructor(),this.alpha=1,this.cacheCanvas=null,this.cacheID=0,this.id=createjs.UID.get(),this.mouseEnabled=!0,this.tickEnabled=!0,this.name=null,this.parent=null,this.regX=0,this.regY=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.skewX=0,this.skewY=0,this.shadow=null,this.visible=!0,this.x=0,this.y=0,this.transformMatrix=null,this.compositeOperation=null,this.snapToPixel=!0,this.filters=null,this.mask=null,this.hitArea=null,this.cursor=null,this._cacheOffsetX=0,this._cacheOffsetY=0,this._filterOffsetX=0,this._filterOffsetY=0,this._cacheScale=1,this._cacheDataURLID=0,this._cacheDataURL=null,this._props=new createjs.DisplayProps,this._rectangle=new createjs.Rectangle,this._bounds=null}var t=createjs.extend(e,createjs.EventDispatcher);e._MOUSE_EVENTS=["click","dblclick","mousedown","mouseout","mouseover","pressmove","pressup","rollout","rollover"],e.suppressCrossDomainErrors=!1,e._snapToPixelEnabled=!1;var n=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");n.getContext&&(e._hitTestCanvas=n,e._hitTestContext=n.getContext("2d"),n.width=n.height=1),e._nextCacheID=1,t.getStage=function(){for(var e=this,t=createjs.Stage;e.parent;)e=e.parent;return e instanceof t?e:null};try{Object.defineProperties(t,{stage:{get:t.getStage}})}catch(e){}t.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},t.draw=function(e,t){var n=this.cacheCanvas;if(t||!n)return!1;var i=this._cacheScale;return e.drawImage(n,this._cacheOffsetX+this._filterOffsetX,this._cacheOffsetY+this._filterOffsetY,n.width/i,n.height/i),!0},t.updateContext=function(t){var n=this,i=n.mask,r=n._props.matrix;i&&i.graphics&&!i.graphics.isEmpty()&&(i.getMatrix(r),t.transform(r.a,r.b,r.c,r.d,r.tx,r.ty),i.graphics.drawAsPath(t),t.clip(),r.invert(),t.transform(r.a,r.b,r.c,r.d,r.tx,r.ty)),this.getMatrix(r);var s=r.tx,a=r.ty;e._snapToPixelEnabled&&n.snapToPixel&&(s=s+(0>s?-.5:.5)|0,a=a+(0>a?-.5:.5)|0),t.transform(r.a,r.b,r.c,r.d,s,a),t.globalAlpha*=n.alpha,n.compositeOperation&&(t.globalCompositeOperation=n.compositeOperation),n.shadow&&this._applyShadow(t,n.shadow)},t.cache=function(e,t,n,i,r){r=r||1,this.cacheCanvas||(this.cacheCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")),this._cacheWidth=n,this._cacheHeight=i,this._cacheOffsetX=e,this._cacheOffsetY=t,this._cacheScale=r,this.updateCache()},t.updateCache=function(t){var n=this.cacheCanvas;if(!n)throw"cache() must be called before updateCache()";var i=this._cacheScale,r=this._cacheOffsetX*i,s=this._cacheOffsetY*i,a=this._cacheWidth,o=this._cacheHeight,c=n.getContext("2d"),l=this._getFilterBounds();r+=this._filterOffsetX=l.x,s+=this._filterOffsetY=l.y,a=Math.ceil(a*i)+l.width,o=Math.ceil(o*i)+l.height,a!=n.width||o!=n.height?(n.width=a,n.height=o):t||c.clearRect(0,0,a+1,o+1),c.save(),c.globalCompositeOperation=t,c.setTransform(i,0,0,i,-r,-s),this.draw(c,!0),this._applyFilters(),c.restore(),this.cacheID=e._nextCacheID++},t.uncache=function(){this._cacheDataURL=this.cacheCanvas=null,this.cacheID=this._cacheOffsetX=this._cacheOffsetY=this._filterOffsetX=this._filterOffsetY=0,this._cacheScale=1},t.getCacheDataURL=function(){return this.cacheCanvas?(this.cacheID!=this._cacheDataURLID&&(this._cacheDataURL=this.cacheCanvas.toDataURL()),this._cacheDataURL):null},t.localToGlobal=function(e,t,n){return this.getConcatenatedMatrix(this._props.matrix).transformPoint(e,t,n||new createjs.Point)},t.globalToLocal=function(e,t,n){return this.getConcatenatedMatrix(this._props.matrix).invert().transformPoint(e,t,n||new createjs.Point)},t.localToLocal=function(e,t,n,i){return i=this.localToGlobal(e,t,i),n.globalToLocal(i.x,i.y,i)},t.setTransform=function(e,t,n,i,r,s,a,o,c){return this.x=e||0,this.y=t||0,this.scaleX=null==n?1:n,this.scaleY=null==i?1:i,this.rotation=r||0,this.skewX=s||0,this.skewY=a||0,this.regX=o||0,this.regY=c||0,this},t.getMatrix=function(e){var t=this,n=e&&e.identity()||new createjs.Matrix2D;return t.transformMatrix?n.copy(t.transformMatrix):n.appendTransform(t.x,t.y,t.scaleX,t.scaleY,t.rotation,t.skewX,t.skewY,t.regX,t.regY)},t.getConcatenatedMatrix=function(e){for(var t=this,n=this.getMatrix(e);t=t.parent;)n.prependMatrix(t.getMatrix(t._props.matrix));return n},t.getConcatenatedDisplayProps=function(e){e=e?e.identity():new createjs.DisplayProps;var t=this,n=t.getMatrix(e.matrix);do{e.prepend(t.visible,t.alpha,t.shadow,t.compositeOperation),t!=this&&n.prependMatrix(t.getMatrix(t._props.matrix))}while(t=t.parent);return e},t.hitTest=function(t,n){var i=e._hitTestContext;i.setTransform(1,0,0,1,-t,-n),this.draw(i);var r=this._testHit(i);return i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,2,2),r},t.set=function(e){for(var t in e)this[t]=e[t];return this},t.getBounds=function(){if(this._bounds)return this._rectangle.copy(this._bounds);var e=this.cacheCanvas;if(e){var t=this._cacheScale;return this._rectangle.setValues(this._cacheOffsetX,this._cacheOffsetY,e.width/t,e.height/t)}return null},t.getTransformedBounds=function(){return this._getBounds()},t.setBounds=function(e,t,n,i){null==e&&(this._bounds=e),this._bounds=(this._bounds||new createjs.Rectangle).setValues(e,t,n,i)},t.clone=function(){return this._cloneProps(new e)},t.toString=function(){return"[DisplayObject (name="+this.name+")]"},t._cloneProps=function(e){return e.alpha=this.alpha,e.mouseEnabled=this.mouseEnabled,e.tickEnabled=this.tickEnabled,e.name=this.name,e.regX=this.regX,e.regY=this.regY,e.rotation=this.rotation,e.scaleX=this.scaleX,e.scaleY=this.scaleY,e.shadow=this.shadow,e.skewX=this.skewX,e.skewY=this.skewY,e.visible=this.visible,e.x=this.x,e.y=this.y,e.compositeOperation=this.compositeOperation,e.snapToPixel=this.snapToPixel,e.filters=null==this.filters?null:this.filters.slice(0),e.mask=this.mask,e.hitArea=this.hitArea,e.cursor=this.cursor,e._bounds=this._bounds,e},t._applyShadow=function(e,t){t=t||Shadow.identity,e.shadowColor=t.color,e.shadowOffsetX=t.offsetX,e.shadowOffsetY=t.offsetY,e.shadowBlur=t.blur},t._tick=function(e){var t=this._listeners;t&&t.tick&&(e.target=null,e.propagationStopped=e.immediatePropagationStopped=!1,this.dispatchEvent(e))},t._testHit=function(t){try{var n=t.getImageData(0,0,1,1).data[3]>1}catch(t){if(!e.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images."}return n},t._applyFilters=function(){if(this.filters&&0!=this.filters.length&&this.cacheCanvas)for(var e=this.filters.length,t=this.cacheCanvas.getContext("2d"),n=this.cacheCanvas.width,i=this.cacheCanvas.height,r=0;e>r;r++)this.filters[r].applyFilter(t,0,0,n,i)},t._getFilterBounds=function(e){var t,n=this.filters,i=this._rectangle.setValues(0,0,0,0);if(!n||!(t=n.length))return i;for(var r=0;t>r;r++){var s=this.filters[r];s.getBounds&&s.getBounds(i)}return i},t._getBounds=function(e,t){return this._transformBounds(this.getBounds(),e,t)},t._transformBounds=function(e,t,n){if(!e)return e;var i=e.x,r=e.y,s=e.width,a=e.height,o=this._props.matrix;o=n?o.identity():this.getMatrix(o),(i||r)&&o.appendTransform(0,0,1,1,0,0,0,-i,-r),t&&o.prependMatrix(t);var c=s*o.a,l=s*o.b,u=a*o.c,h=a*o.d,d=o.tx,_=o.ty,f=d,p=d,g=_,m=_;return(i=c+d)<f?f=i:i>p&&(p=i),(i=c+u+d)<f?f=i:i>p&&(p=i),(i=u+d)<f?f=i:i>p&&(p=i),(r=l+_)<g?g=r:r>m&&(m=r),(r=l+h+_)<g?g=r:r>m&&(m=r),(r=h+_)<g?g=r:r>m&&(m=r),e.setValues(f,g,p-f,m-g)},t._hasMouseEventListener=function(){for(var t=e._MOUSE_EVENTS,n=0,i=t.length;i>n;n++)if(this.hasEventListener(t[n]))return!0;return!!this.cursor},createjs.DisplayObject=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this.DisplayObject_constructor(),this.children=[],this.mouseChildren=!0,this.tickChildren=!0}var t=createjs.extend(e,createjs.DisplayObject);t.getNumChildren=function(){return this.children.length};try{Object.defineProperties(t,{numChildren:{get:t.getNumChildren}})}catch(e){}t.initialize=e,t.isVisible=function(){var e=this.cacheCanvas||this.children.length;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&e)},t.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;for(var n=this.children.slice(),i=0,r=n.length;r>i;i++){var s=n[i];s.isVisible()&&(e.save(),s.updateContext(e),s.draw(e),e.restore())}return!0},t.addChild=function(e){if(null==e)return e;var t=arguments.length;if(t>1){for(var n=0;t>n;n++)this.addChild(arguments[n]);return arguments[t-1]}return e.parent&&e.parent.removeChild(e),e.parent=this,this.children.push(e),e.dispatchEvent("added"),e},t.addChildAt=function(e,t){var n=arguments.length,i=arguments[n-1];if(0>i||i>this.children.length)return arguments[n-2];if(n>2){for(var r=0;n-1>r;r++)this.addChildAt(arguments[r],i+r);return arguments[n-2]}return e.parent&&e.parent.removeChild(e),e.parent=this,this.children.splice(t,0,e),e.dispatchEvent("added"),e},t.removeChild=function(e){var t=arguments.length;if(t>1){for(var n=!0,i=0;t>i;i++)n=n&&this.removeChild(arguments[i]);return n}return this.removeChildAt(createjs.indexOf(this.children,e))},t.removeChildAt=function(e){var t=arguments.length;if(t>1){for(var n=[],i=0;t>i;i++)n[i]=arguments[i];n.sort(function(e,t){return t-e});var r=!0;for(i=0;t>i;i++)r=r&&this.removeChildAt(n[i]);return r}if(0>e||e>this.children.length-1)return!1;var s=this.children[e];return s&&(s.parent=null),this.children.splice(e,1),s.dispatchEvent("removed"),!0},t.removeAllChildren=function(){for(var e=this.children;e.length;)this.removeChildAt(0)},t.getChildAt=function(e){return this.children[e]},t.getChildByName=function(e){for(var t=this.children,n=0,i=t.length;i>n;n++)if(t[n].name==e)return t[n];return null},t.sortChildren=function(e){this.children.sort(e)},t.getChildIndex=function(e){return createjs.indexOf(this.children,e)},t.swapChildrenAt=function(e,t){var n=this.children,i=n[e],r=n[t];i&&r&&(n[e]=r,n[t]=i)},t.swapChildren=function(e,t){for(var n,i,r=this.children,s=0,a=r.length;a>s&&(r[s]==e&&(n=s),r[s]==t&&(i=s),null==n||null==i);s++);s!=a&&(r[n]=t,r[i]=e)},t.setChildIndex=function(e,t){var n=this.children,i=n.length;if(!(e.parent!=this||0>t||t>=i)){for(var r=0;i>r&&n[r]!=e;r++);r!=i&&r!=t&&(n.splice(r,1),n.splice(t,0,e))}},t.contains=function(e){for(;e;){if(e==this)return!0;e=e.parent}return!1},t.hitTest=function(e,t){return null!=this.getObjectUnderPoint(e,t)},t.getObjectsUnderPoint=function(e,t,n){var i=[],r=this.localToGlobal(e,t);return this._getObjectsUnderPoint(r.x,r.y,i,n>0,1==n),i},t.getObjectUnderPoint=function(e,t,n){var i=this.localToGlobal(e,t);return this._getObjectsUnderPoint(i.x,i.y,null,n>0,1==n)},t.getBounds=function(){return this._getBounds(null,!0)},t.getTransformedBounds=function(){return this._getBounds()},t.clone=function(t){var n=this._cloneProps(new e);return t&&this._cloneChildren(n),n},t.toString=function(){return"[Container (name="+this.name+")]"},t._tick=function(e){if(this.tickChildren)for(var t=this.children.length-1;t>=0;t--){var n=this.children[t];n.tickEnabled&&n._tick&&n._tick(e)}this.DisplayObject__tick(e)},t._cloneChildren=function(e){e.children.length&&e.removeAllChildren();for(var t=e.children,n=0,i=this.children.length;i>n;n++){var r=this.children[n].clone(!0);r.parent=e,t.push(r)}},t._getObjectsUnderPoint=function(t,n,i,r,s,a){if(!(a=a||0)&&!this._testMask(this,t,n))return null;var o,c=createjs.DisplayObject._hitTestContext;s=s||r&&this._hasMouseEventListener();for(var l=this.children,u=l.length-1;u>=0;u--){var h=l[u],d=h.hitArea;if(h.visible&&(d||h.isVisible())&&(!r||h.mouseEnabled)&&(d||this._testMask(h,t,n)))if(!d&&h instanceof e){var _=h._getObjectsUnderPoint(t,n,i,r,s,a+1);if(!i&&_)return r&&!this.mouseChildren?this:_}else{if(r&&!s&&!h._hasMouseEventListener())continue;var f=h.getConcatenatedDisplayProps(h._props);if(o=f.matrix,d&&(o.appendMatrix(d.getMatrix(d._props.matrix)),f.alpha=d.alpha),c.globalAlpha=f.alpha,c.setTransform(o.a,o.b,o.c,o.d,o.tx-t,o.ty-n),(d||h).draw(c),!this._testHit(c))continue;if(c.setTransform(1,0,0,1,0,0),c.clearRect(0,0,2,2),!i)return r&&!this.mouseChildren?this:h;i.push(h)}}return null},t._testMask=function(e,t,n){var i=e.mask;if(!i||!i.graphics||i.graphics.isEmpty())return!0;var r=this._props.matrix,s=e.parent;r=s?s.getConcatenatedMatrix(r):r.identity(),r=i.getMatrix(i._props.matrix).prependMatrix(r);var a=createjs.DisplayObject._hitTestContext;return a.setTransform(r.a,r.b,r.c,r.d,r.tx-t,r.ty-n),i.graphics.drawAsPath(a),a.fillStyle="#000",a.fill(),!!this._testHit(a)&&(a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,2,2),!0)},t._getBounds=function(e,t){var n=this.DisplayObject_getBounds();if(n)return this._transformBounds(n,e,t);var i=this._props.matrix;i=t?i.identity():this.getMatrix(i),e&&i.prependMatrix(e);for(var r=this.children.length,s=null,a=0;r>a;a++){var o=this.children[a];o.visible&&(n=o._getBounds(i))&&(s?s.extend(n.x,n.y,n.width,n.height):s=n.clone())}return s},createjs.Container=createjs.promote(e,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.Container_constructor(),this.autoClear=!0,this.canvas="string"==typeof e?document.getElementById(e):e,this.mouseX=0,this.mouseY=0,this.drawRect=null,this.snapToPixelEnabled=!1,this.mouseInBounds=!1,this.tickOnUpdate=!0,this.mouseMoveOutside=!1,this.preventSelection=!0,this._pointerData={},this._pointerCount=0,this._primaryPointerID=null,this._mouseOverIntervalID=null,this._nextStage=null,this._prevStage=null,this.enableDOMEvents(!0)}var t=createjs.extend(e,createjs.Container);t._get_nextStage=function(){return this._nextStage},t._set_nextStage=function(e){this._nextStage&&(this._nextStage._prevStage=null),e&&(e._prevStage=this),this._nextStage=e};try{Object.defineProperties(t,{nextStage:{get:t._get_nextStage,set:t._set_nextStage}})}catch(e){}t.update=function(e){if(this.canvas&&(this.tickOnUpdate&&this.tick(e),!1!==this.dispatchEvent("drawstart",!1,!0))){createjs.DisplayObject._snapToPixelEnabled=this.snapToPixelEnabled;var t=this.drawRect,n=this.canvas.getContext("2d");n.setTransform(1,0,0,1,0,0),this.autoClear&&(t?n.clearRect(t.x,t.y,t.width,t.height):n.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)),n.save(),this.drawRect&&(n.beginPath(),n.rect(t.x,t.y,t.width,t.height),n.clip()),this.updateContext(n),this.draw(n,!1),n.restore(),this.dispatchEvent("drawend")}},t.tick=function(e){if(this.tickEnabled&&!1!==this.dispatchEvent("tickstart",!1,!0)){var t=new createjs.Event("tick");if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);this._tick(t),this.dispatchEvent("tickend")}},t.handleEvent=function(e){"tick"==e.type&&this.update(e)},t.clear=function(){if(this.canvas){var e=this.canvas.getContext("2d");e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}},t.toDataURL=function(e,t){var n,i=this.canvas.getContext("2d"),r=this.canvas.width,s=this.canvas.height;if(e){n=i.getImageData(0,0,r,s);var a=i.globalCompositeOperation;i.globalCompositeOperation="destination-over",i.fillStyle=e,i.fillRect(0,0,r,s)}var o=this.canvas.toDataURL(t||"image/png");return e&&(i.putImageData(n,0,0),i.globalCompositeOperation=a),o},t.enableMouseOver=function(e){if(this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null,0==e&&this._testMouseOver(!0)),null==e)e=20;else if(0>=e)return;var t=this;this._mouseOverIntervalID=setInterval(function(){t._testMouseOver()},1e3/Math.min(50,e))},t.enableDOMEvents=function(e){null==e&&(e=!0);var t,n,i=this._eventListeners;if(!e&&i){for(t in i)(n=i[t]).t.removeEventListener(t,n.f,!1);this._eventListeners=null}else if(e&&!i&&this.canvas){var r=window.addEventListener?window:document,s=this;for(t in(i=this._eventListeners={}).mouseup={t:r,f:function(e){s._handleMouseUp(e)}},i.mousemove={t:r,f:function(e){s._handleMouseMove(e)}},i.dblclick={t:this.canvas,f:function(e){s._handleDoubleClick(e)}},i.mousedown={t:this.canvas,f:function(e){s._handleMouseDown(e)}},i)(n=i[t]).t.addEventListener(t,n.f,!1)}},t.clone=function(){throw"Stage cannot be cloned."},t.toString=function(){return"[Stage (name="+this.name+")]"},t._getElementRect=function(e){var t;try{t=e.getBoundingClientRect()}catch(n){t={top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}}var n=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),i=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0),r=window.getComputedStyle?getComputedStyle(e,null):e.currentStyle,s=parseInt(r.paddingLeft)+parseInt(r.borderLeftWidth),a=parseInt(r.paddingTop)+parseInt(r.borderTopWidth),o=parseInt(r.paddingRight)+parseInt(r.borderRightWidth),c=parseInt(r.paddingBottom)+parseInt(r.borderBottomWidth);return{left:t.left+n+s,right:t.right+n-o,top:t.top+i+a,bottom:t.bottom+i-c}},t._getPointerData=function(e){var t=this._pointerData[e];return t||(t=this._pointerData[e]={x:0,y:0}),t},t._handleMouseMove=function(e){e||(e=window.event),this._handlePointerMove(-1,e,e.pageX,e.pageY)},t._handlePointerMove=function(e,t,n,i,r){if((!this._prevStage||void 0!==r)&&this.canvas){var s=this._nextStage,a=this._getPointerData(e),o=a.inBounds;this._updatePointerPosition(e,t,n,i),(o||a.inBounds||this.mouseMoveOutside)&&(-1===e&&a.inBounds==!o&&this._dispatchMouseEvent(this,o?"mouseleave":"mouseenter",!1,e,a,t),this._dispatchMouseEvent(this,"stagemousemove",!1,e,a,t),this._dispatchMouseEvent(a.target,"pressmove",!0,e,a,t)),s&&s._handlePointerMove(e,t,n,i,null)}},t._updatePointerPosition=function(e,t,n,i){var r=this._getElementRect(this.canvas);n-=r.left,i-=r.top;var s=this.canvas.width,a=this.canvas.height;n/=(r.right-r.left)/s,i/=(r.bottom-r.top)/a;var o=this._getPointerData(e);(o.inBounds=n>=0&&i>=0&&s-1>=n&&a-1>=i)?(o.x=n,o.y=i):this.mouseMoveOutside&&(o.x=0>n?0:n>s-1?s-1:n,o.y=0>i?0:i>a-1?a-1:i),o.posEvtObj=t,o.rawX=n,o.rawY=i,(e===this._primaryPointerID||-1===e)&&(this.mouseX=o.x,this.mouseY=o.y,this.mouseInBounds=o.inBounds)},t._handleMouseUp=function(e){this._handlePointerUp(-1,e,!1)},t._handlePointerUp=function(e,t,n,i){var r=this._nextStage,s=this._getPointerData(e);if(!this._prevStage||void 0!==i){var a=null,o=s.target;i||!o&&!r||(a=this._getObjectsUnderPoint(s.x,s.y,null,!0)),s.down&&(this._dispatchMouseEvent(this,"stagemouseup",!1,e,s,t,a),s.down=!1),a==o&&this._dispatchMouseEvent(o,"click",!0,e,s,t),this._dispatchMouseEvent(o,"pressup",!0,e,s,t),n?(e==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[e]):s.target=null,r&&r._handlePointerUp(e,t,n,i||a&&this)}},t._handleMouseDown=function(e){this._handlePointerDown(-1,e,e.pageX,e.pageY)},t._handlePointerDown=function(e,t,n,i,r){this.preventSelection&&t.preventDefault(),(null==this._primaryPointerID||-1===e)&&(this._primaryPointerID=e),null!=i&&this._updatePointerPosition(e,t,n,i);var s=null,a=this._nextStage,o=this._getPointerData(e);r||(s=o.target=this._getObjectsUnderPoint(o.x,o.y,null,!0)),o.inBounds&&(this._dispatchMouseEvent(this,"stagemousedown",!1,e,o,t,s),o.down=!0),this._dispatchMouseEvent(s,"mousedown",!0,e,o,t),a&&a._handlePointerDown(e,t,n,i,r||s&&this)},t._testMouseOver=function(e,t,n){if(!this._prevStage||void 0!==t){var i=this._nextStage;if(!this._mouseOverIntervalID)return void(i&&i._testMouseOver(e,t,n));var r=this._getPointerData(-1);if(r&&(e||this.mouseX!=this._mouseOverX||this.mouseY!=this._mouseOverY||!this.mouseInBounds)){var s,a,o,c=r.posEvtObj,l=n||c&&c.target==this.canvas,u=null,h=-1,d="";!t&&(e||this.mouseInBounds&&l)&&(u=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,!0),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);var _=this._mouseOverTarget||[],f=_[_.length-1],p=this._mouseOverTarget=[];for(s=u;s;)p.unshift(s),d||(d=s.cursor),s=s.parent;for(this.canvas.style.cursor=d,!t&&n&&(n.canvas.style.cursor=d),a=0,o=p.length;o>a&&p[a]==_[a];a++)h=a;for(f!=u&&this._dispatchMouseEvent(f,"mouseout",!0,-1,r,c,u),a=_.length-1;a>h;a--)this._dispatchMouseEvent(_[a],"rollout",!1,-1,r,c,u);for(a=p.length-1;a>h;a--)this._dispatchMouseEvent(p[a],"rollover",!1,-1,r,c,f);f!=u&&this._dispatchMouseEvent(u,"mouseover",!0,-1,r,c,f),i&&i._testMouseOver(e,t||u&&this,n||l&&this)}}},t._handleDoubleClick=function(e,t){var n=null,i=this._nextStage,r=this._getPointerData(-1);t||(n=this._getObjectsUnderPoint(r.x,r.y,null,!0),this._dispatchMouseEvent(n,"dblclick",!0,-1,r,e)),i&&i._handleDoubleClick(e,t||n&&this)},t._dispatchMouseEvent=function(e,t,n,i,r,s,a){if(e&&(n||e.hasEventListener(t))){var o=new createjs.MouseEvent(t,n,!1,r.x,r.y,s,i,i===this._primaryPointerID||-1===i,r.rawX,r.rawY,a);e.dispatchEvent(o)}},createjs.Stage=createjs.promote(e,"Container")}(),this.createjs=this.createjs||{},function(){function e(e){this.DisplayObject_constructor(),"string"==typeof e?(this.image=document.createElement("img"),this.image.src=e):this.image=e,this.sourceRect=null}var t=createjs.extend(e,createjs.DisplayObject);t.initialize=e,t.isVisible=function(){var e=this.image,t=this.cacheCanvas||e&&(e.naturalWidth||e.getContext||e.readyState>=2);return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},t.draw=function(e,t){if(this.DisplayObject_draw(e,t)||!this.image)return!0;var n=this.image,i=this.sourceRect;if(i){var r=i.x,s=i.y,a=r+i.width,o=s+i.height,c=0,l=0,u=n.width,h=n.height;0>r&&(c-=r,r=0),a>u&&(a=u),0>s&&(l-=s,s=0),o>h&&(o=h),e.drawImage(n,r,s,a-r,o-s,c,l,a-r,o-s)}else e.drawImage(n,0,0);return!0},t.getBounds=function(){var e=this.DisplayObject_getBounds();if(e)return e;var t=this.image,n=this.sourceRect||t;return t&&(t.naturalWidth||t.getContext||t.readyState>=2)?this._rectangle.setValues(0,0,n.width,n.height):null},t.clone=function(){var t=new e(this.image);return this.sourceRect&&(t.sourceRect=this.sourceRect.clone()),this._cloneProps(t),t},t.toString=function(){return"[Bitmap (name="+this.name+")]"},createjs.Bitmap=createjs.promote(e,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.DisplayObject_constructor(),this.currentFrame=0,this.currentAnimation=null,this.paused=!0,this.spriteSheet=e,this.currentAnimationFrame=0,this.framerate=0,this._animation=null,this._currentFrame=null,this._skipAdvance=!1,null!=t&&this.gotoAndPlay(t)}var t=createjs.extend(e,createjs.DisplayObject);t.initialize=e,t.isVisible=function(){var e=this.cacheCanvas||this.spriteSheet.complete;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&e)},t.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;this._normalizeFrame();var n=this.spriteSheet.getFrame(0|this._currentFrame);if(!n)return!1;var i=n.rect;return i.width&&i.height&&e.drawImage(n.image,i.x,i.y,i.width,i.height,-n.regX,-n.regY,i.width,i.height),!0},t.play=function(){this.paused=!1},t.stop=function(){this.paused=!0},t.gotoAndPlay=function(e){this.paused=!1,this._skipAdvance=!0,this._goto(e)},t.gotoAndStop=function(e){this.paused=!0,this._goto(e)},t.advance=function(e){var t=this.framerate||this.spriteSheet.framerate,n=t&&null!=e?e/(1e3/t):1;this._normalizeFrame(n)},t.getBounds=function(){return this.DisplayObject_getBounds()||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)},t.clone=function(){return this._cloneProps(new e(this.spriteSheet))},t.toString=function(){return"[Sprite (name="+this.name+")]"},t._cloneProps=function(e){return this.DisplayObject__cloneProps(e),e.currentFrame=this.currentFrame,e.currentAnimation=this.currentAnimation,e.paused=this.paused,e.currentAnimationFrame=this.currentAnimationFrame,e.framerate=this.framerate,e._animation=this._animation,e._currentFrame=this._currentFrame,e._skipAdvance=this._skipAdvance,e},t._tick=function(e){this.paused||(this._skipAdvance||this.advance(e&&e.delta),this._skipAdvance=!1),this.DisplayObject__tick(e)},t._normalizeFrame=function(e){e=e||0;var t,n=this._animation,i=this.paused,r=this._currentFrame;if(n){var s=n.speed||1,a=this.currentAnimationFrame;if(a+e*s>=(t=n.frames.length)){var o=n.next;if(this._dispatchAnimationEnd(n,r,i,o,t-1))return;if(o)return this._goto(o,e-(t-a)/s);this.paused=!0,a=n.frames.length-1}else a+=e*s;this.currentAnimationFrame=a,this._currentFrame=n.frames[0|a]}else if((r=this._currentFrame+=e)>=(t=this.spriteSheet.getNumFrames())&&t>0&&!this._dispatchAnimationEnd(n,r,i,t-1)&&(this._currentFrame-=t)>=t)return this._normalizeFrame();r=0|this._currentFrame,this.currentFrame!=r&&(this.currentFrame=r,this.dispatchEvent("change"))},t._dispatchAnimationEnd=function(e,t,n,i,r){var s=e?e.name:null;if(this.hasEventListener("animationend")){var a=new createjs.Event("animationend");a.name=s,a.next=i,this.dispatchEvent(a)}var o=this._animation!=e||this._currentFrame!=t;return o||n||!this.paused||(this.currentAnimationFrame=r,o=!0),o},t._goto=function(e,t){if(this.currentAnimationFrame=0,isNaN(e)){var n=this.spriteSheet.getAnimation(e);n&&(this._animation=n,this.currentAnimation=e,this._normalizeFrame(t))}else this.currentAnimation=this._animation=null,this._currentFrame=e,this._normalizeFrame()},createjs.Sprite=createjs.promote(e,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.DisplayObject_constructor(),this.graphics=e||new createjs.Graphics}var t=createjs.extend(e,createjs.DisplayObject);t.isVisible=function(){var e=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&e)},t.draw=function(e,t){return!!this.DisplayObject_draw(e,t)||(this.graphics.draw(e,this),!0)},t.clone=function(t){var n=t&&this.graphics?this.graphics.clone():this.graphics;return this._cloneProps(new e(n))},t.toString=function(){return"[Shape (name="+this.name+")]"},createjs.Shape=createjs.promote(e,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,n){this.DisplayObject_constructor(),this.text=e,this.font=t,this.color=n,this.textAlign="left",this.textBaseline="top",this.maxWidth=null,this.outline=0,this.lineHeight=0,this.lineWidth=null}var t=createjs.extend(e,createjs.DisplayObject),n=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");n.getContext&&(e._workingContext=n.getContext("2d"),n.width=n.height=1),e.H_OFFSETS={start:0,left:0,center:-.5,end:-1,right:-1},e.V_OFFSETS={top:0,hanging:-.01,middle:-.4,alphabetic:-.8,ideographic:-.85,bottom:-1},t.isVisible=function(){var e=this.cacheCanvas||null!=this.text&&""!==this.text;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&e)},t.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;var n=this.color||"#000";return this.outline?(e.strokeStyle=n,e.lineWidth=1*this.outline):e.fillStyle=n,this._drawText(this._prepContext(e)),!0},t.getMeasuredWidth=function(){return this._getMeasuredWidth(this.text)},t.getMeasuredLineHeight=function(){return 1.2*this._getMeasuredWidth("M")},t.getMeasuredHeight=function(){return this._drawText(null,{}).height},t.getBounds=function(){var t=this.DisplayObject_getBounds();if(t)return t;if(null==this.text||""===this.text)return null;var n=this._drawText(null,{}),i=this.maxWidth&&this.maxWidth<n.width?this.maxWidth:n.width,r=i*e.H_OFFSETS[this.textAlign||"left"],s=(this.lineHeight||this.getMeasuredLineHeight())*e.V_OFFSETS[this.textBaseline||"top"];return this._rectangle.setValues(r,s,i,n.height)},t.getMetrics=function(){var t={lines:[]};return t.lineHeight=this.lineHeight||this.getMeasuredLineHeight(),t.vOffset=t.lineHeight*e.V_OFFSETS[this.textBaseline||"top"],this._drawText(null,t,t.lines)},t.clone=function(){return this._cloneProps(new e(this.text,this.font,this.color))},t.toString=function(){return"[Text (text="+(this.text.length>20?this.text.substr(0,17)+"...":this.text)+")]"},t._cloneProps=function(e){return this.DisplayObject__cloneProps(e),e.textAlign=this.textAlign,e.textBaseline=this.textBaseline,e.maxWidth=this.maxWidth,e.outline=this.outline,e.lineHeight=this.lineHeight,e.lineWidth=this.lineWidth,e},t._prepContext=function(e){return e.font=this.font||"10px sans-serif",e.textAlign=this.textAlign||"left",e.textBaseline=this.textBaseline||"top",e},t._drawText=function(t,n,i){var r=!!t;r||((t=e._workingContext).save(),this._prepContext(t));for(var s=this.lineHeight||this.getMeasuredLineHeight(),a=0,o=0,c=String(this.text).split(/(?:\r\n|\r|\n)/),l=0,u=c.length;u>l;l++){var h=c[l],d=null;if(null!=this.lineWidth&&(d=t.measureText(h).width)>this.lineWidth){var _=h.split(/(\s)/);h=_[0],d=t.measureText(h).width;for(var f=1,p=_.length;p>f;f+=2){var g=t.measureText(_[f]+_[f+1]).width;d+g>this.lineWidth?(r&&this._drawTextLine(t,h,o*s),i&&i.push(h),d>a&&(a=d),h=_[f+1],d=t.measureText(h).width,o++):(h+=_[f]+_[f+1],d+=g)}}r&&this._drawTextLine(t,h,o*s),i&&i.push(h),n&&null==d&&(d=t.measureText(h).width),d>a&&(a=d),o++}return n&&(n.width=a,n.height=o*s),r||t.restore(),n},t._drawTextLine=function(e,t,n){this.outline?e.strokeText(t,0,n,this.maxWidth||65535):e.fillText(t,0,n,this.maxWidth||65535)},t._getMeasuredWidth=function(t){var n=e._workingContext;n.save();var i=this._prepContext(n).measureText(t).width;return n.restore(),i},createjs.Text=createjs.promote(e,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.Container_constructor(),this.text=e||"",this.spriteSheet=t,this.lineHeight=0,this.letterSpacing=0,this.spaceWidth=0,this._oldProps={text:0,spriteSheet:0,lineHeight:0,letterSpacing:0,spaceWidth:0}}var t=createjs.extend(e,createjs.Container);e.maxPoolSize=100,e._spritePool=[],t.draw=function(e,t){this.DisplayObject_draw(e,t)||(this._updateText(),this.Container_draw(e,t))},t.getBounds=function(){return this._updateText(),this.Container_getBounds()},t.isVisible=function(){var e=this.cacheCanvas||this.spriteSheet&&this.spriteSheet.complete&&this.text;return!!(this.visible&&this.alpha>0&&0!==this.scaleX&&0!==this.scaleY&&e)},t.clone=function(){return this._cloneProps(new e(this.text,this.spriteSheet))},t.addChild=t.addChildAt=t.removeChild=t.removeChildAt=t.removeAllChildren=function(){},t._cloneProps=function(e){return this.Container__cloneProps(e),e.lineHeight=this.lineHeight,e.letterSpacing=this.letterSpacing,e.spaceWidth=this.spaceWidth,e},t._getFrameIndex=function(e,t){var n,i=t.getAnimation(e);return i||(e!=(n=e.toUpperCase())||e!=(n=e.toLowerCase())||(n=null),n&&(i=t.getAnimation(n))),i&&i.frames[0]},t._getFrame=function(e,t){var n=this._getFrameIndex(e,t);return null==n?n:t.getFrame(n)},t._getLineHeight=function(e){var t=this._getFrame("1",e)||this._getFrame("T",e)||this._getFrame("L",e)||e.getFrame(0);return t?t.rect.height:1},t._getSpaceWidth=function(e){var t=this._getFrame("1",e)||this._getFrame("l",e)||this._getFrame("e",e)||this._getFrame("a",e)||e.getFrame(0);return t?t.rect.width:1},t._updateText=function(){var t,n=0,i=0,r=this._oldProps,s=!1,a=this.spaceWidth,o=this.lineHeight,c=this.spriteSheet,l=e._spritePool,u=this.children,h=0,d=u.length;for(var _ in r)r[_]!=this[_]&&(r[_]=this[_],s=!0);if(s){var f=!!this._getFrame(" ",c);f||a||(a=this._getSpaceWidth(c)),o||(o=this._getLineHeight(c));for(var p=0,g=this.text.length;g>p;p++){var m=this.text.charAt(p);if(" "!=m||f)if("\n"!=m&&"\r"!=m){var v=this._getFrameIndex(m,c);null!=v&&(d>h?t=u[h]:(u.push(t=l.length?l.pop():new createjs.Sprite),t.parent=this,d++),t.spriteSheet=c,t.gotoAndStop(v),t.x=n,t.y=i,h++,n+=t.getBounds().width+this.letterSpacing)}else"\r"==m&&"\n"==this.text.charAt(p+1)&&p++,n=0,i+=o;else n+=a}for(;d>h;)l.push(t=u.pop()),t.parent=null,d--;l.length>e.maxPoolSize&&(l.length=e.maxPoolSize)}},createjs.BitmapText=createjs.promote(e,"Container")}(),this.createjs=this.createjs||{},function(){"use strict";function e(t,n,i,r){this.Container_constructor(),!e.inited&&e.init(),this.mode=t||e.INDEPENDENT,this.startPosition=n||0,this.loop=i,this.currentFrame=0,this.timeline=new createjs.Timeline(null,r,{paused:!0,position:n,useTicks:!0}),this.paused=!1,this.actionsEnabled=!0,this.autoReset=!0,this.frameBounds=this.frameBounds||null,this.framerate=null,this._synchOffset=0,this._prevPos=-1,this._prevPosition=0,this._t=0,this._managed={}}function t(){throw"MovieClipPlugin cannot be instantiated."}var n=createjs.extend(e,createjs.Container);e.INDEPENDENT="independent",e.SINGLE_FRAME="single",e.SYNCHED="synched",e.inited=!1,e.init=function(){e.inited||(t.install(),e.inited=!0)},n.getLabels=function(){return this.timeline.getLabels()},n.getCurrentLabel=function(){return this._updateTimeline(),this.timeline.getCurrentLabel()},n.getDuration=function(){return this.timeline.duration};try{Object.defineProperties(n,{labels:{get:n.getLabels},currentLabel:{get:n.getCurrentLabel},totalFrames:{get:n.getDuration},duration:{get:n.getDuration}})}catch(e){}n.initialize=e,n.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},n.draw=function(e,t){return!!this.DisplayObject_draw(e,t)||(this._updateTimeline(),this.Container_draw(e,t),!0)},n.play=function(){this.paused=!1},n.stop=function(){this.paused=!0},n.gotoAndPlay=function(e){this.paused=!1,this._goto(e)},n.gotoAndStop=function(e){this.paused=!0,this._goto(e)},n.advance=function(t){var n=e.INDEPENDENT;if(this.mode==n){for(var i=this,r=i.framerate;(i=i.parent)&&null==r;)i.mode==n&&(r=i._framerate);this._framerate=r;var s=null!=r&&-1!=r&&null!=t?t/(1e3/r)+this._t:1,a=0|s;for(this._t=s-a;!this.paused&&a--;)this._prevPosition=this._prevPos<0?0:this._prevPosition+1,this._updateTimeline()}},n.clone=function(){throw"MovieClip cannot be cloned."},n.toString=function(){return"[MovieClip (name="+this.name+")]"},n._tick=function(e){this.advance(e&&e.delta),this.Container__tick(e)},n._goto=function(e){var t=this.timeline.resolve(e);null!=t&&(-1==this._prevPos&&(this._prevPos=NaN),this._prevPosition=t,this._t=0,this._updateTimeline())},n._reset=function(){this._prevPos=-1,this._t=this.currentFrame=0,this.paused=!1},n._updateTimeline=function(){var t=this.timeline,n=this.mode!=e.INDEPENDENT;t.loop=null==this.loop||this.loop;var i=n?this.startPosition+(this.mode==e.SINGLE_FRAME?0:this._synchOffset):this._prevPos<0?0:this._prevPosition,r=n||!this.actionsEnabled?createjs.Tween.NONE:null;if(this.currentFrame=t._calcPosition(i),t.setPosition(i,r),this._prevPosition=t._prevPosition,this._prevPos!=t._prevPos){for(var s in this.currentFrame=this._prevPos=t._prevPos,this._managed)this._managed[s]=1;for(var a=t._tweens,o=0,c=a.length;c>o;o++){var l=a[o],u=l._target;if(u!=this&&!l.passive){var h=l._stepPosition;u instanceof createjs.DisplayObject?this._addManagedChild(u,h):this._setState(u.state,h)}}var d=this.children;for(o=d.length-1;o>=0;o--){var _=d[o].id;1==this._managed[_]&&(this.removeChildAt(o),delete this._managed[_])}}},n._setState=function(e,t){if(e)for(var n=e.length-1;n>=0;n--){var i=e[n],r=i.t,s=i.p;for(var a in s)r[a]=s[a];this._addManagedChild(r,t)}},n._addManagedChild=function(t,n){t._off||(this.addChildAt(t,0),t instanceof e&&(t._synchOffset=n,t.mode==e.INDEPENDENT&&t.autoReset&&!this._managed[t.id]&&t._reset()),this._managed[t.id]=2)},n._getBounds=function(e,t){var n=this.DisplayObject_getBounds();return n||(this._updateTimeline(),this.frameBounds&&(n=this._rectangle.copy(this.frameBounds[this.currentFrame]))),n?this._transformBounds(n,e,t):this.Container__getBounds(e,t)},createjs.MovieClip=createjs.promote(e,"Container"),t.priority=100,t.install=function(){createjs.Tween.installPlugin(t,["startPosition"])},t.init=function(e,t,n){return n},t.step=function(){},t.tween=function(t,n,i,r,s,a,o,c){return t.target instanceof e?1==a?s[n]:r[n]:i}}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"SpriteSheetUtils cannot be instantiated"}var t=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");t.getContext&&(e._workingCanvas=t,e._workingContext=t.getContext("2d"),t.width=t.height=1),e.addFlippedFrames=function(t,n,i,r){if(n||i||r){var s=0;n&&e._flip(t,++s,!0,!1),i&&e._flip(t,++s,!1,!0),r&&e._flip(t,++s,!0,!0)}},e.extractFrame=function(t,n){isNaN(n)&&(n=t.getAnimation(n).frames[0]);var i=t.getFrame(n);if(!i)return null;var r=i.rect,s=e._workingCanvas;s.width=r.width,s.height=r.height,e._workingContext.drawImage(i.image,r.x,r.y,r.width,r.height,0,0,r.width,r.height);var a=document.createElement("img");return a.src=s.toDataURL("image/png"),a},e.mergeAlpha=function(e,t,n){n||(n=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")),n.width=Math.max(t.width,e.width),n.height=Math.max(t.height,e.height);var i=n.getContext("2d");return i.save(),i.drawImage(e,0,0),i.globalCompositeOperation="destination-in",i.drawImage(t,0,0),i.restore(),n},e._flip=function(t,n,i,r){for(var s=t._images,a=e._workingCanvas,o=e._workingContext,c=s.length/n,l=0;c>l;l++){var u=s[l];u.__tmp=l,o.setTransform(1,0,0,1,0,0),o.clearRect(0,0,a.width+1,a.height+1),a.width=u.width,a.height=u.height,o.setTransform(i?-1:1,0,0,r?-1:1,i?u.width:0,r?u.height:0),o.drawImage(u,0,0);var h=document.createElement("img");h.src=a.toDataURL("image/png"),h.width=u.width,h.height=u.height,s.push(h)}var d=t._frames,_=d.length/n;for(l=0;_>l;l++){var f=(u=d[l]).rect.clone(),p={image:h=s[u.image.__tmp+c*n],rect:f,regX:u.regX,regY:u.regY};i&&(f.x=h.width-f.x-f.width,p.regX=f.width-u.regX),r&&(f.y=h.height-f.y-f.height,p.regY=f.height-u.regY),d.push(p)}var g="_"+(i?"h":"")+(r?"v":""),m=t._animations,v=t._data,b=m.length/n;for(l=0;b>l;l++){var y=m[l],x={name:y+g,speed:(u=v[y]).speed,next:u.next,frames:[]};u.next&&(x.next+=g);for(var S=0,w=(d=u.frames).length;w>S;S++)x.frames.push(d[S]+_*n);v[x.name]=x,m.push(x.name)}},createjs.SpriteSheetUtils=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.EventDispatcher_constructor(),this.maxWidth=2048,this.maxHeight=2048,this.spriteSheet=null,this.scale=1,this.padding=1,this.timeSlice=.3,this.progress=-1,this.framerate=e||0,this._frames=[],this._animations={},this._data=null,this._nextFrameIndex=0,this._index=0,this._timerID=null,this._scale=1}var t=createjs.extend(e,createjs.EventDispatcher);e.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions",e.ERR_RUNNING="a build is already running",t.addFrame=function(t,n,i,r,s){if(this._data)throw e.ERR_RUNNING;var a=n||t.bounds||t.nominalBounds;return!a&&t.getBounds&&(a=t.getBounds()),a?(i=i||1,this._frames.push({source:t,sourceRect:a,scale:i,funct:r,data:s,index:this._frames.length,height:a.height*i})-1):null},t.addAnimation=function(t,n,i,r){if(this._data)throw e.ERR_RUNNING;this._animations[t]={frames:n,next:i,speed:r}},t.addMovieClip=function(t,n,i,r,s,a){if(this._data)throw e.ERR_RUNNING;var o=t.frameBounds,c=n||t.bounds||t.nominalBounds;if(!c&&t.getBounds&&(c=t.getBounds()),c||o){var l,u,h=this._frames.length,d=t.timeline.duration;for(l=0;d>l;l++){var _=o&&o[l]?o[l]:c;this.addFrame(t,_,i,this._setupMovieClipFrame,{i:l,f:r,d:s})}var f=t.timeline._labels,p=[];for(var g in f)p.push({index:f[g],label:g});if(p.length)for(p.sort(function(e,t){return e.index-t.index}),l=0,u=p.length;u>l;l++){for(var m=p[l].label,v=h+p[l].index,b=h+(l==u-1?d:p[l+1].index),y=[],x=v;b>x;x++)y.push(x);(!a||(m=a(m,t,v,b)))&&this.addAnimation(m,y,!0)}}},t.build=function(){if(this._data)throw e.ERR_RUNNING;for(this._startBuild();this._drawNext(););return this._endBuild(),this.spriteSheet},t.buildAsync=function(t){if(this._data)throw e.ERR_RUNNING;this.timeSlice=t,this._startBuild();var n=this;this._timerID=setTimeout(function(){n._run()},50-50*Math.max(.01,Math.min(.99,this.timeSlice||.3)))},t.stopAsync=function(){clearTimeout(this._timerID),this._data=null},t.clone=function(){throw"SpriteSheetBuilder cannot be cloned."},t.toString=function(){return"[SpriteSheetBuilder]"},t._startBuild=function(){var t=this.padding||0;this.progress=0,this.spriteSheet=null,this._index=0,this._scale=this.scale;var n=[];this._data={images:[],frames:n,framerate:this.framerate,animations:this._animations};var i=this._frames.slice();if(i.sort(function(e,t){return e.height<=t.height?-1:1}),i[i.length-1].height+2*t>this.maxHeight)throw e.ERR_DIMENSIONS;for(var r=0,s=0,a=0;i.length;){var o=this._fillRow(i,r,a,n,t);if(o.w>s&&(s=o.w),r+=o.h,!o.h||!i.length){var c=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");c.width=this._getSize(s,this.maxWidth),c.height=this._getSize(r,this.maxHeight),this._data.images[a]=c,o.h||(s=r=0,a++)}}},t._setupMovieClipFrame=function(e,t){var n=e.actionsEnabled;e.actionsEnabled=!1,e.gotoAndStop(t.i),e.actionsEnabled=n,t.f&&t.f(e,t.d,t.i)},t._getSize=function(e,t){for(var n=4;Math.pow(2,++n)<e;);return Math.min(t,Math.pow(2,n))},t._fillRow=function(t,n,i,r,s){for(var a=this.maxWidth,o=this.maxHeight-(n+=s),c=s,l=0,u=t.length-1;u>=0;u--){var h=t[u],d=this._scale*h.scale,_=h.sourceRect,f=h.source,p=Math.floor(d*_.x-s),g=Math.floor(d*_.y-s),m=Math.ceil(d*_.height+2*s),v=Math.ceil(d*_.width+2*s);if(v>a)throw e.ERR_DIMENSIONS;m>o||c+v>a||(h.img=i,h.rect=new createjs.Rectangle(c,n,v,m),l=l||m,t.splice(u,1),r[h.index]=[c,n,v,m,i,Math.round(-p+d*f.regX-s),Math.round(-g+d*f.regY-s)],c+=v)}return{w:c,h:l}},t._endBuild=function(){this.spriteSheet=new createjs.SpriteSheet(this._data),this._data=null,this.progress=1,this.dispatchEvent("complete")},t._run=function(){for(var e=50*Math.max(.01,Math.min(.99,this.timeSlice||.3)),t=(new Date).getTime()+e,n=!1;t>(new Date).getTime();)if(!this._drawNext()){n=!0;break}if(n)this._endBuild();else{var i=this;this._timerID=setTimeout(function(){i._run()},50-e)}var r=this.progress=this._index/this._frames.length;if(this.hasEventListener("progress")){var s=new createjs.Event("progress");s.progress=r,this.dispatchEvent(s)}},t._drawNext=function(){var e=this._frames[this._index],t=e.scale*this._scale,n=e.rect,i=e.sourceRect,r=this._data.images[e.img].getContext("2d");return e.funct&&e.funct(e.source,e.data),r.save(),r.beginPath(),r.rect(n.x,n.y,n.width,n.height),r.clip(),r.translate(Math.ceil(n.x-i.x*t),Math.ceil(n.y-i.y*t)),r.scale(t,t),e.source.draw(r),r.restore(),++this._index<this._frames.length},createjs.SpriteSheetBuilder=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.DisplayObject_constructor(),"string"==typeof e&&(e=document.getElementById(e)),this.mouseEnabled=!1;var t=e.style;t.position="absolute",t.transformOrigin=t.WebkitTransformOrigin=t.msTransformOrigin=t.MozTransformOrigin=t.OTransformOrigin="0% 0%",this.htmlElement=e,this._oldProps=null}var t=createjs.extend(e,createjs.DisplayObject);t.isVisible=function(){return null!=this.htmlElement},t.draw=function(e,t){return!0},t.cache=function(){},t.uncache=function(){},t.updateCache=function(){},t.hitTest=function(){},t.localToGlobal=function(){},t.globalToLocal=function(){},t.localToLocal=function(){},t.clone=function(){throw"DOMElement cannot be cloned."},t.toString=function(){return"[DOMElement (name="+this.name+")]"},t._tick=function(e){var t=this.getStage();t&&t.on("drawend",this._handleDrawEnd,this,!0),this.DisplayObject__tick(e)},t._handleDrawEnd=function(e){var t=this.htmlElement;if(t){var n=t.style,i=this.getConcatenatedDisplayProps(this._props),r=i.matrix,s=i.visible?"visible":"hidden";if(s!=n.visibility&&(n.visibility=s),i.visible){var a=this._oldProps,o=a&&a.matrix,c=1e4;if(!o||!o.equals(r)){var l="matrix("+(r.a*c|0)/c+","+(r.b*c|0)/c+","+(r.c*c|0)/c+","+(r.d*c|0)/c+","+(r.tx+.5|0);n.transform=n.WebkitTransform=n.OTransform=n.msTransform=l+","+(r.ty+.5|0)+")",n.MozTransform=l+"px,"+(r.ty+.5|0)+"px)",a||(a=this._oldProps=new createjs.DisplayProps(!0,NaN)),a.matrix.copy(r)}a.alpha!=i.alpha&&(n.opacity=""+(i.alpha*c|0)/c,a.alpha=i.alpha)}}},createjs.DOMElement=createjs.promote(e,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){}var t=e.prototype;t.getBounds=function(e){return e},t.applyFilter=function(e,t,n,i,r,s,a,o){s=s||e,null==a&&(a=t),null==o&&(o=n);try{var c=e.getImageData(t,n,i,r)}catch(e){return!1}return!!this._applyFilter(c)&&(s.putImageData(c,a,o),!0)},t.toString=function(){return"[Filter]"},t.clone=function(){return new e},t._applyFilter=function(e){return!0},createjs.Filter=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,n){(isNaN(e)||0>e)&&(e=0),(isNaN(t)||0>t)&&(t=0),(isNaN(n)||1>n)&&(n=1),this.blurX=0|e,this.blurY=0|t,this.quality=0|n}var t=createjs.extend(e,createjs.Filter);e.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],e.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],t.getBounds=function(e){var t=0|this.blurX,n=0|this.blurY;if(0>=t&&0>=n)return e;var i=Math.pow(this.quality,.2);return(e||new createjs.Rectangle).pad(t*i+1,n*i+1,t*i+1,n*i+1)},t.clone=function(){return new e(this.blurX,this.blurY,this.quality)},t.toString=function(){return"[BlurFilter]"},t._applyFilter=function(t){var n=this.blurX>>1;if(isNaN(n)||0>n)return!1;var i=this.blurY>>1;if(isNaN(i)||0>i)return!1;if(0==n&&0==i)return!1;var r=this.quality;(isNaN(r)||1>r)&&(r=1),(r|=0)>3&&(r=3),1>r&&(r=1);var s=t.data,a=0,o=0,c=0,l=0,u=0,h=0,d=0,_=0,f=0,p=0,g=0,m=0,v=0,b=0,y=0,x=n+n+1|0,S=i+i+1|0,w=0|t.width,E=0|t.height,T=w-1|0,A=E-1|0,C=n+1|0,I=i+1|0,O={r:0,b:0,g:0,a:0},L=O;for(c=1;x>c;c++)L=L.n={r:0,b:0,g:0,a:0};L.n=O;var P={r:0,b:0,g:0,a:0},R=P;for(c=1;S>c;c++)R=R.n={r:0,b:0,g:0,a:0};R.n=P;for(var j=null,N=0|e.MUL_TABLE[n],H=0|e.SHG_TABLE[n],D=0|e.MUL_TABLE[i],M=0|e.SHG_TABLE[i];r-- >0;){d=h=0;var k=N,F=H;for(o=E;--o>-1;){for(_=C*(m=s[0|h]),f=C*(v=s[h+1|0]),p=C*(b=s[h+2|0]),g=C*(y=s[h+3|0]),L=O,c=C;--c>-1;)L.r=m,L.g=v,L.b=b,L.a=y,L=L.n;for(c=1;C>c;c++)l=h+((c>T?T:c)<<2)|0,_+=L.r=s[l],f+=L.g=s[l+1],p+=L.b=s[l+2],g+=L.a=s[l+3],L=L.n;for(j=O,a=0;w>a;a++)s[h++]=_*k>>>F,s[h++]=f*k>>>F,s[h++]=p*k>>>F,s[h++]=g*k>>>F,l=d+((l=a+n+1)<T?l:T)<<2,_-=j.r-(j.r=s[l]),f-=j.g-(j.g=s[l+1]),p-=j.b-(j.b=s[l+2]),g-=j.a-(j.a=s[l+3]),j=j.n;d+=w}for(k=D,F=M,a=0;w>a;a++){for(_=I*(m=s[h=a<<2|0])|0,f=I*(v=s[h+1|0])|0,p=I*(b=s[h+2|0])|0,g=I*(y=s[h+3|0])|0,R=P,c=0;I>c;c++)R.r=m,R.g=v,R.b=b,R.a=y,R=R.n;for(u=w,c=1;i>=c;c++)h=u+a<<2,_+=R.r=s[h],f+=R.g=s[h+1],p+=R.b=s[h+2],g+=R.a=s[h+3],R=R.n,A>c&&(u+=w);if(h=a,j=P,r>0)for(o=0;E>o;o++)s[(l=h<<2)+3]=y=g*k>>>F,y>0?(s[l]=_*k>>>F,s[l+1]=f*k>>>F,s[l+2]=p*k>>>F):s[l]=s[l+1]=s[l+2]=0,l=a+((l=o+I)<A?l:A)*w<<2,_-=j.r-(j.r=s[l]),f-=j.g-(j.g=s[l+1]),p-=j.b-(j.b=s[l+2]),g-=j.a-(j.a=s[l+3]),j=j.n,h+=w;else for(o=0;E>o;o++)s[(l=h<<2)+3]=y=g*k>>>F,y>0?(y=255/y,s[l]=(_*k>>>F)*y,s[l+1]=(f*k>>>F)*y,s[l+2]=(p*k>>>F)*y):s[l]=s[l+1]=s[l+2]=0,l=a+((l=o+I)<A?l:A)*w<<2,_-=j.r-(j.r=s[l]),f-=j.g-(j.g=s[l+1]),p-=j.b-(j.b=s[l+2]),g-=j.a-(j.a=s[l+3]),j=j.n,h+=w}}return!0},createjs.BlurFilter=createjs.promote(e,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.alphaMap=e,this._alphaMap=null,this._mapData=null}var t=createjs.extend(e,createjs.Filter);t.clone=function(){var t=new e(this.alphaMap);return t._alphaMap=this._alphaMap,t._mapData=this._mapData,t},t.toString=function(){return"[AlphaMapFilter]"},t._applyFilter=function(e){if(!this.alphaMap)return!0;if(!this._prepAlphaMap())return!1;for(var t=e.data,n=this._mapData,i=0,r=t.length;r>i;i+=4)t[i+3]=n[i]||0;return!0},t._prepAlphaMap=function(){if(!this.alphaMap)return!1;if(this.alphaMap==this._alphaMap&&this._mapData)return!0;this._mapData=null;var e,t=this._alphaMap=this.alphaMap,n=t;t instanceof HTMLCanvasElement?e=n.getContext("2d"):((n=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")).width=t.width,n.height=t.height,(e=n.getContext("2d")).drawImage(t,0,0));try{var i=e.getImageData(0,0,t.width,t.height)}catch(e){return!1}return this._mapData=i.data,!0},createjs.AlphaMapFilter=createjs.promote(e,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.mask=e}var t=createjs.extend(e,createjs.Filter);t.applyFilter=function(e,t,n,i,r,s,a,o){return!this.mask||(s=s||e,null==a&&(a=t),null==o&&(o=n),s.save(),e==s&&(s.globalCompositeOperation="destination-in",s.drawImage(this.mask,a,o),s.restore(),!0))},t.clone=function(){return new e(this.mask)},t.toString=function(){return"[AlphaMaskFilter]"},createjs.AlphaMaskFilter=createjs.promote(e,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,n,i,r,s,a,o){this.redMultiplier=null!=e?e:1,this.greenMultiplier=null!=t?t:1,this.blueMultiplier=null!=n?n:1,this.alphaMultiplier=null!=i?i:1,this.redOffset=r||0,this.greenOffset=s||0,this.blueOffset=a||0,this.alphaOffset=o||0}var t=createjs.extend(e,createjs.Filter);t.toString=function(){return"[ColorFilter]"},t.clone=function(){return new e(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},t._applyFilter=function(e){for(var t=e.data,n=t.length,i=0;n>i;i+=4)t[i]=t[i]*this.redMultiplier+this.redOffset,t[i+1]=t[i+1]*this.greenMultiplier+this.greenOffset,t[i+2]=t[i+2]*this.blueMultiplier+this.blueOffset,t[i+3]=t[i+3]*this.alphaMultiplier+this.alphaOffset;return!0},createjs.ColorFilter=createjs.promote(e,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,n,i){this.setColor(e,t,n,i)}var t=e.prototype;e.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],e.IDENTITY_MATRIX=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],e.LENGTH=e.IDENTITY_MATRIX.length,t.setColor=function(e,t,n,i){return this.reset().adjustColor(e,t,n,i)},t.reset=function(){return this.copy(e.IDENTITY_MATRIX)},t.adjustColor=function(e,t,n,i){return this.adjustHue(i),this.adjustContrast(t),this.adjustBrightness(e),this.adjustSaturation(n)},t.adjustBrightness=function(e){return 0==e||isNaN(e)?this:(e=this._cleanValue(e,255),this._multiplyMatrix([1,0,0,0,e,0,1,0,0,e,0,0,1,0,e,0,0,0,1,0,0,0,0,0,1]),this)},t.adjustContrast=function(t){return 0==t||isNaN(t)?this:(0>(t=this._cleanValue(t,100))?n=127+t/100*127:n=127*(n=0==(n=t%1)?e.DELTA_INDEX[t]:e.DELTA_INDEX[t<<0]*(1-n)+e.DELTA_INDEX[1+(t<<0)]*n)+127,this._multiplyMatrix([n/127,0,0,0,.5*(127-n),0,n/127,0,0,.5*(127-n),0,0,n/127,0,.5*(127-n),0,0,0,1,0,0,0,0,0,1]),this);var n},t.adjustSaturation=function(e){if(0==e||isNaN(e))return this;var t=1+((e=this._cleanValue(e,100))>0?3*e/100:e/100),n=.3086,i=.6094,r=.082;return this._multiplyMatrix([n*(1-t)+t,i*(1-t),r*(1-t),0,0,n*(1-t),i*(1-t)+t,r*(1-t),0,0,n*(1-t),i*(1-t),r*(1-t)+t,0,0,0,0,0,1,0,0,0,0,0,1]),this},t.adjustHue=function(e){if(0==e||isNaN(e))return this;e=this._cleanValue(e,180)/180*Math.PI;var t=Math.cos(e),n=Math.sin(e),i=.213,r=.715,s=.072;return this._multiplyMatrix([i+t*(1-i)+n*-i,r+t*-r+n*-r,s+t*-s+n*(1-s),0,0,i+t*-i+.143*n,r+t*(1-r)+.14*n,s+t*-s+-.283*n,0,0,i+t*-i+-.787*n,r+t*-r+n*r,s+t*(1-s)+n*s,0,0,0,0,0,1,0,0,0,0,0,1]),this},t.concat=function(t){return(t=this._fixMatrix(t)).length!=e.LENGTH?this:(this._multiplyMatrix(t),this)},t.clone=function(){return(new e).copy(this)},t.toArray=function(){for(var t=[],n=0,i=e.LENGTH;i>n;n++)t[n]=this[n];return t},t.copy=function(t){for(var n=e.LENGTH,i=0;n>i;i++)this[i]=t[i];return this},t.toString=function(){return"[ColorMatrix]"},t._multiplyMatrix=function(e){var t,n,i,r=[];for(t=0;5>t;t++){for(n=0;5>n;n++)r[n]=this[n+5*t];for(n=0;5>n;n++){var s=0;for(i=0;5>i;i++)s+=e[n+5*i]*r[i];this[n+5*t]=s}}},t._cleanValue=function(e,t){return Math.min(t,Math.max(-t,e))},t._fixMatrix=function(t){return t instanceof e&&(t=t.toArray()),t.length<e.LENGTH?t=t.slice(0,t.length).concat(e.IDENTITY_MATRIX.slice(t.length,e.LENGTH)):t.length>e.LENGTH&&(t=t.slice(0,e.LENGTH)),t},createjs.ColorMatrix=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.matrix=e}var t=createjs.extend(e,createjs.Filter);t.toString=function(){return"[ColorMatrixFilter]"},t.clone=function(){return new e(this.matrix)},t._applyFilter=function(e){for(var t,n,i,r,s=e.data,a=s.length,o=this.matrix,c=o[0],l=o[1],u=o[2],h=o[3],d=o[4],_=o[5],f=o[6],p=o[7],g=o[8],m=o[9],v=o[10],b=o[11],y=o[12],x=o[13],S=o[14],w=o[15],E=o[16],T=o[17],A=o[18],C=o[19],I=0;a>I;I+=4)t=s[I],n=s[I+1],i=s[I+2],r=s[I+3],s[I]=t*c+n*l+i*u+r*h+d,s[I+1]=t*_+n*f+i*p+r*g+m,s[I+2]=t*v+n*b+i*y+r*x+S,s[I+3]=t*w+n*E+i*T+r*A+C;return!0},createjs.ColorMatrixFilter=createjs.promote(e,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"Touch cannot be instantiated"}e.isSupported=function(){return!!("ontouchstart"in window||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0)},e.enable=function(t,n,i){return!!(t&&t.canvas&&e.isSupported())&&(!!t.__touch||(t.__touch={pointers:{},multitouch:!n,preventDefault:!i,count:0},"ontouchstart"in window?e._IOS_enable(t):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&e._IE_enable(t),!0))},e.disable=function(t){t&&("ontouchstart"in window?e._IOS_disable(t):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&e._IE_disable(t),delete t.__touch)},e._IOS_enable=function(t){var n=t.canvas,i=t.__touch.f=function(n){e._IOS_handleEvent(t,n)};n.addEventListener("touchstart",i,!1),n.addEventListener("touchmove",i,!1),n.addEventListener("touchend",i,!1),n.addEventListener("touchcancel",i,!1)},e._IOS_disable=function(e){var t=e.canvas;if(t){var n=e.__touch.f;t.removeEventListener("touchstart",n,!1),t.removeEventListener("touchmove",n,!1),t.removeEventListener("touchend",n,!1),t.removeEventListener("touchcancel",n,!1)}},e._IOS_handleEvent=function(e,t){if(e){e.__touch.preventDefault&&t.preventDefault&&t.preventDefault();for(var n=t.changedTouches,i=t.type,r=0,s=n.length;s>r;r++){var a=n[r],o=a.identifier;a.target==e.canvas&&("touchstart"==i?this._handleStart(e,o,t,a.pageX,a.pageY):"touchmove"==i?this._handleMove(e,o,t,a.pageX,a.pageY):("touchend"==i||"touchcancel"==i)&&this._handleEnd(e,o,t))}}},e._IE_enable=function(t){var n=t.canvas,i=t.__touch.f=function(n){e._IE_handleEvent(t,n)};void 0===window.navigator.pointerEnabled?(n.addEventListener("MSPointerDown",i,!1),window.addEventListener("MSPointerMove",i,!1),window.addEventListener("MSPointerUp",i,!1),window.addEventListener("MSPointerCancel",i,!1),t.__touch.preventDefault&&(n.style.msTouchAction="none")):(n.addEventListener("pointerdown",i,!1),window.addEventListener("pointermove",i,!1),window.addEventListener("pointerup",i,!1),window.addEventListener("pointercancel",i,!1),t.__touch.preventDefault&&(n.style.touchAction="none")),t.__touch.activeIDs={}},e._IE_disable=function(e){var t=e.__touch.f;void 0===window.navigator.pointerEnabled?(window.removeEventListener("MSPointerMove",t,!1),window.removeEventListener("MSPointerUp",t,!1),window.removeEventListener("MSPointerCancel",t,!1),e.canvas&&e.canvas.removeEventListener("MSPointerDown",t,!1)):(window.removeEventListener("pointermove",t,!1),window.removeEventListener("pointerup",t,!1),window.removeEventListener("pointercancel",t,!1),e.canvas&&e.canvas.removeEventListener("pointerdown",t,!1))},e._IE_handleEvent=function(e,t){if(e){e.__touch.preventDefault&&t.preventDefault&&t.preventDefault();var n=t.type,i=t.pointerId,r=e.__touch.activeIDs;if("MSPointerDown"==n||"pointerdown"==n){if(t.srcElement!=e.canvas)return;r[i]=!0,this._handleStart(e,i,t,t.pageX,t.pageY)}else r[i]&&("MSPointerMove"==n||"pointermove"==n?this._handleMove(e,i,t,t.pageX,t.pageY):("MSPointerUp"==n||"MSPointerCancel"==n||"pointerup"==n||"pointercancel"==n)&&(delete r[i],this._handleEnd(e,i,t)))}},e._handleStart=function(e,t,n,i,r){var s=e.__touch;if(s.multitouch||!s.count){var a=s.pointers;a[t]||(a[t]=!0,s.count++,e._handlePointerDown(t,n,i,r))}},e._handleMove=function(e,t,n,i,r){e.__touch.pointers[t]&&e._handlePointerMove(t,n,i,r)},e._handleEnd=function(e,t,n){var i=e.__touch,r=i.pointers;r[t]&&(i.count--,e._handlePointerUp(t,n,!0),delete r[t])},createjs.Touch=e}(),this.createjs=this.createjs||{},function(){"use strict";var e=createjs.EaselJS=createjs.EaselJS||{};e.version="0.8.2",e.buildDate="Thu, 26 Nov 2015 20:44:34 GMT"}(),this.createjs=this.createjs||{},function(){"use strict";var e=createjs.PreloadJS=createjs.PreloadJS||{};e.version="0.6.2",e.buildDate="Thu, 26 Nov 2015 20:44:31 GMT"}(),this.createjs=this.createjs||{},function(){"use strict";createjs.proxy=function(e,t){var n=Array.prototype.slice.call(arguments,2);return function(){return e.apply(t,Array.prototype.slice.call(arguments,0).concat(n))}}}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,n){this.Event_constructor("error"),this.title=e,this.message=t,this.data=n}createjs.extend(e,createjs.Event).clone=function(){return new createjs.ErrorEvent(this.title,this.message,this.data)},createjs.ErrorEvent=createjs.promote(e,"Event")}(),this.createjs=this.createjs||{},function(e){"use strict";function t(e,t){this.Event_constructor("progress"),this.loaded=e,this.total=null==t?1:t,this.progress=0==t?0:this.loaded/this.total}createjs.extend(t,createjs.Event).clone=function(){return new createjs.ProgressEvent(this.loaded,this.total)},createjs.ProgressEvent=createjs.promote(t,"Event")}(window),function(){function e(t,i){function s(e){if(s[e]!==g)return s[e];var t;if("bug-string-char-index"==e)t="a"!="a"[0];else if("json"==e)t=s("json-stringify")&&s("json-parse");else{var n,r='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var c=i.stringify,u="function"==typeof c&&b;if(u){(n=function(){return 1}).toJSON=n;try{u="0"===c(0)&&"0"===c(new a)&&'""'==c(new o)&&c(v)===g&&c(g)===g&&c()===g&&"1"===c(n)&&"[1]"==c([n])&&"[null]"==c([g])&&"null"==c(null)&&"[null,null,null]"==c([g,v,null])&&c({a:[n,!0,!1,null,"\0\b\n\f\r\t"]})==r&&"1"===c(null,n)&&"[\n 1,\n 2\n]"==c([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==c(new l(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==c(new l(864e13))&&'"-000001-01-01T00:00:00.000Z"'==c(new l(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==c(new l(-1))}catch(e){u=!1}}t=u}if("json-parse"==e){var h=i.parse;if("function"==typeof h)try{if(0===h("0")&&!h(!1)){var d=5==(n=h(r)).a.length&&1===n.a[0];if(d){try{d=!h('"\t"')}catch(e){}if(d)try{d=1!==h("01")}catch(e){}if(d)try{d=1!==h("1.")}catch(e){}}}}catch(e){d=!1}t=d}}return s[e]=!!t}t||(t=r.Object()),i||(i=r.Object());var a=t.Number||r.Number,o=t.String||r.String,c=t.Object||r.Object,l=t.Date||r.Date,u=t.SyntaxError||r.SyntaxError,h=t.TypeError||r.TypeError,d=t.Math||r.Math,_=t.JSON||r.JSON;"object"==typeof _&&_&&(i.stringify=_.stringify,i.parse=_.parse);var f,p,g,m=c.prototype,v=m.toString,b=new l(-0xc782b5b800cec);try{b=-109252==b.getUTCFullYear()&&0===b.getUTCMonth()&&1===b.getUTCDate()&&10==b.getUTCHours()&&37==b.getUTCMinutes()&&6==b.getUTCSeconds()&&708==b.getUTCMilliseconds()}catch(e){}if(!s("json")){var y="[object Function]",x="[object Number]",S="[object String]",w="[object Array]",E=s("bug-string-char-index");if(!b)var T=d.floor,A=[0,31,59,90,120,151,181,212,243,273,304,334],C=function(e,t){return A[t]+365*(e-1970)+T((e-1969+(t=+(t>1)))/4)-T((e-1901+t)/100)+T((e-1601+t)/400)};if((f=m.hasOwnProperty)||(f=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=v?f=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,f=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,f.call(this,e)}),p=function(e,t){var i,r,s,a=0;for(s in(i=function(){this.valueOf=0}).prototype.valueOf=0,r=new i)f.call(r,s)&&a++;return i=r=null,a?p=2==a?function(e,t){var n,i={},r=v.call(e)==y;for(n in e)r&&"prototype"==n||f.call(i,n)||!(i[n]=1)||!f.call(e,n)||t(n)}:function(e,t){var n,i,r=v.call(e)==y;for(n in e)r&&"prototype"==n||!f.call(e,n)||(i="constructor"===n)||t(n);(i||f.call(e,n="constructor"))&&t(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],p=function(e,t){var i,s,a=v.call(e)==y,o=!a&&"function"!=typeof e.constructor&&n[typeof e.hasOwnProperty]&&e.hasOwnProperty||f;for(i in e)a&&"prototype"==i||!o.call(e,i)||t(i);for(s=r.length;i=r[--s];o.call(e,i)&&t(i));}),p(e,t)},!s("json-stringify")){var I={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},O=function(e,t){return("000000"+(t||0)).slice(-e)},L=function(e){for(var t='"',n=0,i=e.length,r=!E||i>10,s=r&&(E?e.split(""):e);i>n;n++){var a=e.charCodeAt(n);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=I[a];break;default:if(32>a){t+="\\u00"+O(2,a.toString(16));break}t+=r?s[n]:e.charAt(n)}}return t+'"'},P=function(e,t,n,i,r,s,a){var o,c,l,u,d,_,m,b,y,E,A,I,R,j,N,H;try{o=t[e]}catch(e){}if("object"==typeof o&&o)if("[object Date]"!=(c=v.call(o))||f.call(o,"toJSON"))"function"==typeof o.toJSON&&(c!=x&&c!=S&&c!=w||f.call(o,"toJSON"))&&(o=o.toJSON(e));else if(o>-1/0&&1/0>o){if(C){for(d=T(o/864e5),l=T(d/365.2425)+1970-1;C(l+1,0)<=d;l++);for(u=T((d-C(l,0))/30.42);C(l,u+1)<=d;u++);d=1+d-C(l,u),m=T((_=(o%864e5+864e5)%864e5)/36e5)%24,b=T(_/6e4)%60,y=T(_/1e3)%60,E=_%1e3}else l=o.getUTCFullYear(),u=o.getUTCMonth(),d=o.getUTCDate(),m=o.getUTCHours(),b=o.getUTCMinutes(),y=o.getUTCSeconds(),E=o.getUTCMilliseconds();o=(0>=l||l>=1e4?(0>l?"-":"+")+O(6,0>l?-l:l):O(4,l))+"-"+O(2,u+1)+"-"+O(2,d)+"T"+O(2,m)+":"+O(2,b)+":"+O(2,y)+"."+O(3,E)+"Z"}else o=null;if(n&&(o=n.call(t,e,o)),null===o)return"null";if("[object Boolean]"==(c=v.call(o)))return""+o;if(c==x)return o>-1/0&&1/0>o?""+o:"null";if(c==S)return L(""+o);if("object"==typeof o){for(j=a.length;j--;)if(a[j]===o)throw h();if(a.push(o),A=[],N=s,s+=r,c==w){for(R=0,j=o.length;j>R;R++)I=P(R,o,n,i,r,s,a),A.push(I===g?"null":I);H=A.length?r?"[\n"+s+A.join(",\n"+s)+"\n"+N+"]":"["+A.join(",")+"]":"[]"}else p(i||o,function(e){var t=P(e,o,n,i,r,s,a);t!==g&&A.push(L(e)+":"+(r?" ":"")+t)}),H=A.length?r?"{\n"+s+A.join(",\n"+s)+"\n"+N+"}":"{"+A.join(",")+"}":"{}";return a.pop(),H}};i.stringify=function(e,t,i){var r,s,a,o;if(n[typeof t]&&t)if((o=v.call(t))==y)s=t;else if(o==w){a={};for(var c,l=0,u=t.length;u>l;c=t[l++],((o=v.call(c))==S||o==x)&&(a[c]=1));}if(i)if((o=v.call(i))==x){if((i-=i%1)>0)for(r="",i>10&&(i=10);r.length<i;r+=" ");}else o==S&&(r=i.length<=10?i:i.slice(0,10));return P("",((c={})[""]=e,c),s,a,r,"",[])}}if(!s("json-parse")){var R,j,N=o.fromCharCode,H={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},D=function(){throw R=j=null,u()},M=function(){for(var e,t,n,i,r,s=j,a=s.length;a>R;)switch(r=s.charCodeAt(R)){case 9:case 10:case 13:case 32:R++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=E?s.charAt(R):s[R],R++,e;case 34:for(e="@",R++;a>R;)if(32>(r=s.charCodeAt(R)))D();else if(92==r)switch(r=s.charCodeAt(++R)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=H[r],R++;break;case 117:for(t=++R,n=R+4;n>R;R++)(r=s.charCodeAt(R))>=48&&57>=r||r>=97&&102>=r||r>=65&&70>=r||D();e+=N("0x"+s.slice(t,R));break;default:D()}else{if(34==r)break;for(r=s.charCodeAt(R),t=R;r>=32&&92!=r&&34!=r;)r=s.charCodeAt(++R);e+=s.slice(t,R)}if(34==s.charCodeAt(R))return R++,e;D();default:if(t=R,45==r&&(i=!0,r=s.charCodeAt(++R)),r>=48&&57>=r){for(48==r&&((r=s.charCodeAt(R+1))>=48&&57>=r)&&D(),i=!1;a>R&&((r=s.charCodeAt(R))>=48&&57>=r);R++);if(46==s.charCodeAt(R)){for(n=++R;a>n&&((r=s.charCodeAt(n))>=48&&57>=r);n++);n==R&&D(),R=n}if(101==(r=s.charCodeAt(R))||69==r){for((43==(r=s.charCodeAt(++R))||45==r)&&R++,n=R;a>n&&((r=s.charCodeAt(n))>=48&&57>=r);n++);n==R&&D(),R=n}return+s.slice(t,R)}if(i&&D(),"true"==s.slice(R,R+4))return R+=4,!0;if("false"==s.slice(R,R+5))return R+=5,!1;if("null"==s.slice(R,R+4))return R+=4,null;D()}return"$"},k=function(e){var t,n;if("$"==e&&D(),"string"==typeof e){if("@"==(E?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];"]"!=(e=M());n||(n=!0))n&&(","==e?"]"==(e=M())&&D():D()),","==e&&D(),t.push(k(e));return t}if("{"==e){for(t={};"}"!=(e=M());n||(n=!0))n&&(","==e?"}"==(e=M())&&D():D()),(","==e||"string"!=typeof e||"@"!=(E?e.charAt(0):e[0])||":"!=M())&&D(),t[e.slice(1)]=k(M());return t}D()}return e},F=function(e,t,n){var i=B(e,t,n);i===g?delete e[t]:e[t]=i},B=function(e,t,n){var i,r=e[t];if("object"==typeof r&&r)if(v.call(r)==w)for(i=r.length;i--;)F(r,i,n);else p(r,function(e){F(r,e,n)});return n.call(e,t,r)};i.parse=function(e,t){var n,i;return R=0,j=""+e,n=k(M()),"$"!=M()&&D(),R=j=null,t&&v.call(t)==y?B(((i={})[""]=n,i),"",t):n}}}return i.runInContext=e,i}var t="function"==typeof define&&define.amd,n={function:!0,object:!0},i=n[typeof exports]&&exports&&!exports.nodeType&&exports,r=n[typeof window]&&window||this,s=i&&n[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;if(!s||s.global!==s&&s.window!==s&&s.self!==s||(r=s),i&&!t)e(r,i);else{var a=r.JSON,o=r.JSON3,c=!1,l=e(r,r.JSON3={noConflict:function(){return c||(c=!0,r.JSON=a,r.JSON3=o,a=o=null),l}});r.JSON={parse:l.parse,stringify:l.stringify}}t&&define(function(){return l})}.call(this),function(){var e={appendToHead:function(t){e.getHead().appendChild(t)},getHead:function(){return document.head||document.getElementsByTagName("head")[0]},getBody:function(){return document.body||document.getElementsByTagName("body")[0]}};createjs.DomUtils=e}(),function(){var e={parseXML:function(e,t){var n=null;try{if(window.DOMParser)n=(new DOMParser).parseFromString(e,t)}catch(e){}if(!n)try{(n=new ActiveXObject("Microsoft.XMLDOM")).async=!1,n.loadXML(e)}catch(e){n=null}return n},parseJSON:function(e){if(null==e)return null;try{return JSON.parse(e)}catch(e){throw e}}};createjs.DataUtils=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this.src=null,this.type=null,this.id=null,this.maintainOrder=!1,this.callback=null,this.data=null,this.method=createjs.LoadItem.GET,this.values=null,this.headers=null,this.withCredentials=!1,this.mimeType=null,this.crossOrigin=null,this.loadTimeout=n.LOAD_TIMEOUT_DEFAULT}var t=e.prototype={},n=e;n.LOAD_TIMEOUT_DEFAULT=8e3,n.create=function(t){if("string"==typeof t){var i=new e;return i.src=t,i}if(t instanceof n)return t;if(t instanceof Object&&t.src)return null==t.loadTimeout&&(t.loadTimeout=n.LOAD_TIMEOUT_DEFAULT),t;throw new Error("Type not recognized.")},t.set=function(e){for(var t in e)this[t]=e[t];return this},createjs.LoadItem=n}(),function(){var e={ABSOLUTE_PATT:/^(?:\w+:)?\/{2}/i,RELATIVE_PATT:/^[.\/]*?\//i,EXTENSION_PATT:/\/?[^\/]+\.(\w{1,5})$/i,parseURI:function(t){var n={absolute:!1,relative:!1};if(null==t)return n;var i,r=t.indexOf("?");return r>-1&&(t=t.substr(0,r)),e.ABSOLUTE_PATT.test(t)?n.absolute=!0:e.RELATIVE_PATT.test(t)&&(n.relative=!0),(i=t.match(e.EXTENSION_PATT))&&(n.extension=i[1].toLowerCase()),n},formatQueryString:function(e,t){if(null==e)throw new Error("You must specify data.");var n=[];for(var i in e)n.push(i+"="+escape(e[i]));return t&&(n=n.concat(t)),n.join("&")},buildPath:function(e,t){if(null==t)return e;var n=[],i=e.indexOf("?");if(-1!=i){var r=e.slice(i+1);n=n.concat(r.split("&"))}return-1!=i?e.slice(0,i)+"?"+this.formatQueryString(t,n):e+"?"+this.formatQueryString(t,n)},isCrossDomain:function(e){var t=document.createElement("a");t.href=e.src;var n=document.createElement("a");return n.href=location.href,""!=t.hostname&&(t.port!=n.port||t.protocol!=n.protocol||t.hostname!=n.hostname)},isLocal:function(e){var t=document.createElement("a");return t.href=e.src,""==t.hostname&&"file:"==t.protocol},isBinary:function(e){switch(e){case createjs.AbstractLoader.IMAGE:case createjs.AbstractLoader.BINARY:return!0;default:return!1}},isImageTag:function(e){return e instanceof HTMLImageElement},isAudioTag:function(e){return!!window.HTMLAudioElement&&e instanceof HTMLAudioElement},isVideoTag:function(e){return!!window.HTMLVideoElement&&e instanceof HTMLVideoElement},isText:function(e){switch(e){case createjs.AbstractLoader.TEXT:case createjs.AbstractLoader.JSON:case createjs.AbstractLoader.MANIFEST:case createjs.AbstractLoader.XML:case createjs.AbstractLoader.CSS:case createjs.AbstractLoader.SVG:case createjs.AbstractLoader.JAVASCRIPT:case createjs.AbstractLoader.SPRITESHEET:return!0;default:return!1}},getTypeByExtension:function(e){if(null==e)return createjs.AbstractLoader.TEXT;switch(e.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return createjs.AbstractLoader.IMAGE;case"ogg":case"mp3":case"webm":return createjs.AbstractLoader.SOUND;case"mp4":case"webm":case"ts":return createjs.AbstractLoader.VIDEO;case"json":return createjs.AbstractLoader.JSON;case"xml":return createjs.AbstractLoader.XML;case"css":return createjs.AbstractLoader.CSS;case"js":return createjs.AbstractLoader.JAVASCRIPT;case"svg":return createjs.AbstractLoader.SVG;default:return createjs.AbstractLoader.TEXT}}};createjs.RequestUtils=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,n){this.EventDispatcher_constructor(),this.loaded=!1,this.canceled=!1,this.progress=0,this.type=n,this.resultFormatter=null,this._item=e?createjs.LoadItem.create(e):null,this._preferXHR=t,this._result=null,this._rawResult=null,this._loadedItems=null,this._tagSrcAttribute=null,this._tag=null}var t=createjs.extend(e,createjs.EventDispatcher),n=e;n.POST="POST",n.GET="GET",n.BINARY="binary",n.CSS="css",n.IMAGE="image",n.JAVASCRIPT="javascript",n.JSON="json",n.JSONP="jsonp",n.MANIFEST="manifest",n.SOUND="sound",n.VIDEO="video",n.SPRITESHEET="spritesheet",n.SVG="svg",n.TEXT="text",n.XML="xml",t.getItem=function(){return this._item},t.getResult=function(e){return e?this._rawResult:this._result},t.getTag=function(){return this._tag},t.setTag=function(e){this._tag=e},t.load=function(){this._createRequest(),this._request.on("complete",this,this),this._request.on("progress",this,this),this._request.on("loadStart",this,this),this._request.on("abort",this,this),this._request.on("timeout",this,this),this._request.on("error",this,this);var e=new createjs.Event("initialize");e.loader=this._request,this.dispatchEvent(e),this._request.load()},t.cancel=function(){this.canceled=!0,this.destroy()},t.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy()),this._request=null,this._item=null,this._rawResult=null,this._result=null,this._loadItems=null,this.removeAllEventListeners()},t.getLoadedItems=function(){return this._loadedItems},t._createRequest=function(){this._preferXHR?this._request=new createjs.XHRRequest(this._item):this._request=new createjs.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},t._createTag=function(e){return null},t._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")},t._sendProgress=function(e){if(!this._isCanceled()){var t=null;"number"==typeof e?(this.progress=e,t=new createjs.ProgressEvent(this.progress)):(t=e,this.progress=e.loaded/e.total,t.progress=this.progress,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0)),this.hasEventListener("progress")&&this.dispatchEvent(t)}},t._sendComplete=function(){if(!this._isCanceled()){this.loaded=!0;var e=new createjs.Event("complete");e.rawResult=this._rawResult,null!=this._result&&(e.result=this._result),this.dispatchEvent(e)}},t._sendError=function(e){!this._isCanceled()&&this.hasEventListener("error")&&(null==e&&(e=new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(e))},t._isCanceled=function(){return!(null!=window.createjs&&!this.canceled)},t.resultFormatter=null,t.handleEvent=function(e){switch(e.type){case"complete":this._rawResult=e.target._response;var t=this.resultFormatter&&this.resultFormatter(this);t instanceof Function?t.call(this,createjs.proxy(this._resultFormatSuccess,this),createjs.proxy(this._resultFormatFailed,this)):(this._result=t||this._rawResult,this._sendComplete());break;case"progress":this._sendProgress(e);break;case"error":this._sendError(e);break;case"loadstart":this._sendLoadStart();break;case"abort":case"timeout":this._isCanceled()||this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_"+e.type.toUpperCase()+"_ERROR"))}},t._resultFormatSuccess=function(e){this._result=e,this._sendComplete()},t._resultFormatFailed=function(e){this._sendError(e)},t.buildPath=function(e,t){return createjs.RequestUtils.buildPath(e,t)},t.toString=function(){return"[PreloadJS AbstractLoader]"},createjs.AbstractLoader=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,n){this.AbstractLoader_constructor(e,t,n),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.on("initialize",this._updateXHR,this)}var t=createjs.extend(e,createjs.AbstractLoader);t.load=function(){this._tag||(this._tag=this._createTag(this._item.src)),this._tag.preload="auto",this._tag.load(),this.AbstractLoader_load()},t._createTag=function(){},t._createRequest=function(){this._preferXHR?this._request=new createjs.XHRRequest(this._item):this._request=new createjs.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},t._updateXHR=function(e){e.loader.setResponseType&&e.loader.setResponseType("blob")},t._formatResult=function(e){if(this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR){var t=window.URL||window.webkitURL,n=e.getResult(!0);e.getTag().src=t.createObjectURL(n)}return e.getTag()},createjs.AbstractMediaLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";var e=function(e){this._item=e},t=createjs.extend(e,createjs.EventDispatcher);t.load=function(){},t.destroy=function(){},t.cancel=function(){},createjs.AbstractRequest=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,n){this.AbstractRequest_constructor(e),this._tag=t,this._tagSrcAttribute=n,this._loadedHandler=createjs.proxy(this._handleTagComplete,this),this._addedToDOM=!1,this._startTagVisibility=null}var t=createjs.extend(e,createjs.AbstractRequest);t.load=function(){this._tag.onload=createjs.proxy(this._handleTagComplete,this),this._tag.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this),this._tag.onerror=createjs.proxy(this._handleError,this);var e=new createjs.Event("initialize");e.loader=this._tag,this.dispatchEvent(e),this._hideTag(),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag[this._tagSrcAttribute]=this._item.src,null==this._tag.parentNode&&(window.document.body.appendChild(this._tag),this._addedToDOM=!0)},t.destroy=function(){this._clean(),this._tag=null,this.AbstractRequest_destroy()},t._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var e=this._tag;("loaded"==e.readyState||"complete"==e.readyState)&&this._handleTagComplete()},t._handleError=function(){this._clean(),this.dispatchEvent("error")},t._handleTagComplete=function(){this._rawResult=this._tag,this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult,this._clean(),this._showTag(),this.dispatchEvent("complete")},t._handleTimeout=function(){this._clean(),this.dispatchEvent(new createjs.Event("timeout"))},t._clean=function(){this._tag.onload=null,this._tag.onreadystatechange=null,this._tag.onerror=null,this._addedToDOM&&null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag),clearTimeout(this._loadTimeout)},t._hideTag=function(){this._startTagVisibility=this._tag.style.visibility,this._tag.style.visibility="hidden"},t._showTag=function(){this._tag.style.visibility=this._startTagVisibility},t._handleStalled=function(){},createjs.TagRequest=createjs.promote(e,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,n){this.AbstractRequest_constructor(e),this._tag=t,this._tagSrcAttribute=n,this._loadedHandler=createjs.proxy(this._handleTagComplete,this)}var t=createjs.extend(e,createjs.TagRequest);t.load=function(){var e=createjs.proxy(this._handleStalled,this);this._stalledCallback=e;var t=createjs.proxy(this._handleProgress,this);this._handleProgress=t,this._tag.addEventListener("stalled",e),this._tag.addEventListener("progress",t),this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",this._loadedHandler,!1),this.TagRequest_load()},t._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var e=this._tag;("loaded"==e.readyState||"complete"==e.readyState)&&this._handleTagComplete()},t._handleStalled=function(){},t._handleProgress=function(e){if(e&&!(e.loaded>0&&0==e.total)){var t=new createjs.ProgressEvent(e.loaded,e.total);this.dispatchEvent(t)}},t._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.removeEventListener("stalled",this._stalledCallback),this._tag.removeEventListener("progress",this._progressCallback),this.TagRequest__clean()},createjs.MediaTagRequest=createjs.promote(e,"TagRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractRequest_constructor(e),this._request=null,this._loadTimeout=null,this._xhrLevel=1,this._response=null,this._rawResponse=null,this._canceled=!1,this._handleLoadStartProxy=createjs.proxy(this._handleLoadStart,this),this._handleProgressProxy=createjs.proxy(this._handleProgress,this),this._handleAbortProxy=createjs.proxy(this._handleAbort,this),this._handleErrorProxy=createjs.proxy(this._handleError,this),this._handleTimeoutProxy=createjs.proxy(this._handleTimeout,this),this._handleLoadProxy=createjs.proxy(this._handleLoad,this),this._handleReadyStateChangeProxy=createjs.proxy(this._handleReadyStateChange,this),this._createXHR(e)}var t=createjs.extend(e,createjs.AbstractRequest);e.ACTIVEX_VERSIONS=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],t.getResult=function(e){return e&&this._rawResponse?this._rawResponse:this._response},t.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},t.load=function(){if(null!=this._request){null!=this._request.addEventListener?(this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1),this._request.addEventListener("progress",this._handleProgressProxy,!1),this._request.addEventListener("abort",this._handleAbortProxy,!1),this._request.addEventListener("error",this._handleErrorProxy,!1),this._request.addEventListener("timeout",this._handleTimeoutProxy,!1),this._request.addEventListener("load",this._handleLoadProxy,!1),this._request.addEventListener("readystatechange",this._handleReadyStateChangeProxy,!1)):(this._request.onloadstart=this._handleLoadStartProxy,this._request.onprogress=this._handleProgressProxy,this._request.onabort=this._handleAbortProxy,this._request.onerror=this._handleErrorProxy,this._request.ontimeout=this._handleTimeoutProxy,this._request.onload=this._handleLoadProxy,this._request.onreadystatechange=this._handleReadyStateChangeProxy),1==this._xhrLevel&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout));try{this._item.values&&this._item.method!=createjs.AbstractLoader.GET?this._item.method==createjs.AbstractLoader.POST&&this._request.send(createjs.RequestUtils.formatQueryString(this._item.values)):this._request.send()}catch(e){this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND",null,e))}}else this._handleError()},t.setResponseType=function(e){"blob"===e&&(e=window.URL?"blob":"arraybuffer",this._responseType=e),this._request.responseType=e},t.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},t.getResponseHeader=function(e){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(e):null},t._handleProgress=function(e){if(e&&!(e.loaded>0&&0==e.total)){var t=new createjs.ProgressEvent(e.loaded,e.total);this.dispatchEvent(t)}},t._handleLoadStart=function(e){clearTimeout(this._loadTimeout),this.dispatchEvent("loadstart")},t._handleAbort=function(e){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED",null,e))},t._handleError=function(e){this._clean(),this.dispatchEvent(new createjs.ErrorEvent(e.message))},t._handleReadyStateChange=function(e){4==this._request.readyState&&this._handleLoad()},t._handleLoad=function(e){if(!this.loaded){this.loaded=!0;var t=this._checkError();if(t)return void this._handleError(t);if(this._response=this._getResponse(),"arraybuffer"===this._responseType)try{this._response=new Blob([this._response])}catch(e){if(window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,"TypeError"===e.name&&window.BlobBuilder){var n=new BlobBuilder;n.append(this._response),this._response=n.getBlob()}}this._clean(),this.dispatchEvent(new createjs.Event("complete"))}},t._handleTimeout=function(e){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT",null,e))},t._checkError=function(){var e=parseInt(this._request.status);switch(e){case 404:case 0:return new Error(e)}return null},t._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(e){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(e){}return null},t._createXHR=function(e){var t=createjs.RequestUtils.isCrossDomain(e),n={},i=null;if(window.XMLHttpRequest)i=new XMLHttpRequest,t&&void 0===i.withCredentials&&window.XDomainRequest&&(i=new XDomainRequest);else{for(var r=0,a=s.ACTIVEX_VERSIONS.length;a>r;r++){var o=s.ACTIVEX_VERSIONS[r];try{i=new ActiveXObject(o);break}catch(e){}}if(null==i)return!1}null==e.mimeType&&createjs.RequestUtils.isText(e.type)&&(e.mimeType="text/plain; charset=utf-8"),e.mimeType&&i.overrideMimeType&&i.overrideMimeType(e.mimeType),this._xhrLevel="string"==typeof i.responseType?2:1;var c;if(c=e.method==createjs.AbstractLoader.GET?createjs.RequestUtils.buildPath(e.src,e.values):e.src,i.open(e.method||createjs.AbstractLoader.GET,c,!0),t&&i instanceof XMLHttpRequest&&1==this._xhrLevel&&(n.Origin=location.origin),e.values&&e.method==createjs.AbstractLoader.POST&&(n["Content-Type"]="application/x-www-form-urlencoded"),t||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),e.headers)for(var l in e.headers)n[l]=e.headers[l];for(l in n)i.setRequestHeader(l,n[l]);return i instanceof XMLHttpRequest&&void 0!==e.withCredentials&&(i.withCredentials=e.withCredentials),this._request=i,!0},t._clean=function(){clearTimeout(this._loadTimeout),null!=this._request.removeEventListener?(this._request.removeEventListener("loadstart",this._handleLoadStartProxy),this._request.removeEventListener("progress",this._handleProgressProxy),this._request.removeEventListener("abort",this._handleAbortProxy),this._request.removeEventListener("error",this._handleErrorProxy),this._request.removeEventListener("timeout",this._handleTimeoutProxy),this._request.removeEventListener("load",this._handleLoadProxy),this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)):(this._request.onloadstart=null,this._request.onprogress=null,this._request.onabort=null,this._request.onerror=null,this._request.ontimeout=null,this._request.onload=null,this._request.onreadystatechange=null)},t.toString=function(){return"[PreloadJS XHRRequest]"},createjs.XHRRequest=createjs.promote(e,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,n){this.AbstractLoader_constructor(),this._plugins=[],this._typeCallbacks={},this._extensionCallbacks={},this.next=null,this.maintainScriptOrder=!0,this.stopOnError=!1,this._maxConnections=1,this._availableLoaders=[createjs.ImageLoader,createjs.JavaScriptLoader,createjs.CSSLoader,createjs.JSONLoader,createjs.JSONPLoader,createjs.SoundLoader,createjs.ManifestLoader,createjs.SpriteSheetLoader,createjs.XMLLoader,createjs.SVGLoader,createjs.BinaryLoader,createjs.VideoLoader,createjs.TextLoader],this._defaultLoaderLength=this._availableLoaders.length,this.init(e,t,n)}var t=createjs.extend(e,createjs.AbstractLoader),n=e;t.init=function(e,t,n){this.useXHR=!0,this.preferXHR=!0,this._preferXHR=!0,this.setPreferXHR(e),this._paused=!1,this._basePath=t,this._crossOrigin=n,this._loadStartWasDispatched=!1,this._currentlyLoadingScript=null,this._currentLoads=[],this._loadQueue=[],this._loadQueueBackup=[],this._loadItemsById={},this._loadItemsBySrc={},this._loadedResults={},this._loadedRawResults={},this._numItems=0,this._numItemsLoaded=0,this._scriptOrder=[],this._loadedScripts=[],this._lastProgress=NaN},n.loadTimeout=8e3,n.LOAD_TIMEOUT=0,n.BINARY=createjs.AbstractLoader.BINARY,n.CSS=createjs.AbstractLoader.CSS,n.IMAGE=createjs.AbstractLoader.IMAGE,n.JAVASCRIPT=createjs.AbstractLoader.JAVASCRIPT,n.JSON=createjs.AbstractLoader.JSON,n.JSONP=createjs.AbstractLoader.JSONP,n.MANIFEST=createjs.AbstractLoader.MANIFEST,n.SOUND=createjs.AbstractLoader.SOUND,n.VIDEO=createjs.AbstractLoader.VIDEO,n.SVG=createjs.AbstractLoader.SVG,n.TEXT=createjs.AbstractLoader.TEXT,n.XML=createjs.AbstractLoader.XML,n.POST=createjs.AbstractLoader.POST,n.GET=createjs.AbstractLoader.GET,t.registerLoader=function(e){if(!e||!e.canLoadItem)throw new Error("loader is of an incorrect type.");if(-1!=this._availableLoaders.indexOf(e))throw new Error("loader already exists.");this._availableLoaders.unshift(e)},t.unregisterLoader=function(e){var t=this._availableLoaders.indexOf(e);-1!=t&&t<this._defaultLoaderLength-1&&this._availableLoaders.splice(t,1)},t.setUseXHR=function(e){return this.setPreferXHR(e)},t.setPreferXHR=function(e){return this.preferXHR=0!=e&&null!=window.XMLHttpRequest,this.preferXHR},t.removeAll=function(){this.remove()},t.remove=function(e){var t=null;if(e&&!Array.isArray(e))t=[e];else if(e)t=e;else if(arguments.length>0)return;var n=!1;if(t){for(;t.length;){var i=t.pop(),r=this.getResult(i);for(s=this._loadQueue.length-1;s>=0;s--)if((a=this._loadQueue[s].getItem()).id==i||a.src==i){this._loadQueue.splice(s,1)[0].cancel();break}for(s=this._loadQueueBackup.length-1;s>=0;s--)if((a=this._loadQueueBackup[s].getItem()).id==i||a.src==i){this._loadQueueBackup.splice(s,1)[0].cancel();break}if(r)this._disposeItem(this.getItem(i));else for(var s=this._currentLoads.length-1;s>=0;s--){var a=this._currentLoads[s].getItem();if(a.id==i||a.src==i){this._currentLoads.splice(s,1)[0].cancel(),n=!0;break}}}n&&this._loadNext()}else{for(var o in this.close(),this._loadItemsById)this._disposeItem(this._loadItemsById[o]);this.init(this.preferXHR,this._basePath)}},t.reset=function(){for(var e in this.close(),this._loadItemsById)this._disposeItem(this._loadItemsById[e]);for(var t=[],n=0,i=this._loadQueueBackup.length;i>n;n++)t.push(this._loadQueueBackup[n].getItem());this.loadManifest(t,!1)},t.installPlugin=function(e){if(null!=e&&null!=e.getPreloadHandlers){this._plugins.push(e);var t=e.getPreloadHandlers();if(t.scope=e,null!=t.types)for(var n=0,i=t.types.length;i>n;n++)this._typeCallbacks[t.types[n]]=t;if(null!=t.extensions)for(n=0,i=t.extensions.length;i>n;n++)this._extensionCallbacks[t.extensions[n]]=t}},t.setMaxConnections=function(e){this._maxConnections=e,!this._paused&&this._loadQueue.length>0&&this._loadNext()},t.loadFile=function(e,t,n){if(null!=e)this._addItem(e,null,n),!1!==t?this.setPaused(!1):this.setPaused(!0);else{var i=new createjs.ErrorEvent("PRELOAD_NO_FILE");this._sendError(i)}},t.loadManifest=function(e,t,i){var r=null,s=null;if(Array.isArray(e)){if(0==e.length){var a=new createjs.ErrorEvent("PRELOAD_MANIFEST_EMPTY");return void this._sendError(a)}r=e}else if("string"==typeof e)r=[{src:e,type:n.MANIFEST}];else{if("object"!=typeof e){a=new createjs.ErrorEvent("PRELOAD_MANIFEST_NULL");return void this._sendError(a)}if(void 0!==e.src){if(null==e.type)e.type=n.MANIFEST;else if(e.type!=n.MANIFEST){a=new createjs.ErrorEvent("PRELOAD_MANIFEST_TYPE");this._sendError(a)}r=[e]}else void 0!==e.manifest&&(r=e.manifest,s=e.path)}for(var o=0,c=r.length;c>o;o++)this._addItem(r[o],s,i);!1!==t?this.setPaused(!1):this.setPaused(!0)},t.load=function(){this.setPaused(!1)},t.getItem=function(e){return this._loadItemsById[e]||this._loadItemsBySrc[e]},t.getResult=function(e,t){var n=this._loadItemsById[e]||this._loadItemsBySrc[e];if(null==n)return null;var i=n.id;return t&&this._loadedRawResults[i]?this._loadedRawResults[i]:this._loadedResults[i]},t.getItems=function(e){var t=[];for(var n in this._loadItemsById){var i=this._loadItemsById[n],r=this.getResult(n);(!0!==e||null!=r)&&t.push({item:i,result:r,rawResult:this.getResult(n,!0)})}return t},t.setPaused=function(e){this._paused=e,this._paused||this._loadNext()},t.close=function(){for(;this._currentLoads.length;)this._currentLoads.pop().cancel();this._scriptOrder.length=0,this._loadedScripts.length=0,this.loadStartWasDispatched=!1,this._itemCount=0,this._lastProgress=NaN},t._addItem=function(e,t,n){var i=this._createLoadItem(e,t,n);if(null!=i){var r=this._createLoader(i);null!=r&&("plugins"in r&&(r.plugins=this._plugins),i._loader=r,this._loadQueue.push(r),this._loadQueueBackup.push(r),this._numItems++,this._updateProgress(),(this.maintainScriptOrder&&i.type==createjs.LoadQueue.JAVASCRIPT||!0===i.maintainOrder)&&(this._scriptOrder.push(i),this._loadedScripts.push(null)))}},t._createLoadItem=function(e,t,n){var i=createjs.LoadItem.create(e);if(null==i)return null;var r="",s=n||this._basePath;if(i.src instanceof Object){if(!i.type)return null;if(t){r=t;var a=createjs.RequestUtils.parseURI(t);null==s||a.absolute||a.relative||(r=s+r)}else null!=s&&(r=s)}else{var o=createjs.RequestUtils.parseURI(i.src);o.extension&&(i.ext=o.extension),null==i.type&&(i.type=createjs.RequestUtils.getTypeByExtension(i.ext));var c=i.src;if(!o.absolute&&!o.relative)if(t){r=t;a=createjs.RequestUtils.parseURI(t);c=t+c,null==s||a.absolute||a.relative||(r=s+r)}else null!=s&&(r=s);i.src=r+i.src}i.path=r,(void 0===i.id||null===i.id||""===i.id)&&(i.id=c);var l=this._typeCallbacks[i.type]||this._extensionCallbacks[i.ext];if(l){var u=l.callback.call(l.scope,i,this);if(!1===u)return null;!0===u||null!=u&&(i._loader=u),null!=(o=createjs.RequestUtils.parseURI(i.src)).extension&&(i.ext=o.extension)}return this._loadItemsById[i.id]=i,this._loadItemsBySrc[i.src]=i,null==i.crossOrigin&&(i.crossOrigin=this._crossOrigin),i},t._createLoader=function(e){if(null!=e._loader)return e._loader;for(var t=this.preferXHR,n=0;n<this._availableLoaders.length;n++){var i=this._availableLoaders[n];if(i&&i.canLoadItem(e))return new i(e,t)}return null},t._loadNext=function(){if(!this._paused){this._loadStartWasDispatched||(this._sendLoadStart(),this._loadStartWasDispatched=!0),this._numItems==this._numItemsLoaded?(this.loaded=!0,this._sendComplete(),this.next&&this.next.load&&this.next.load()):this.loaded=!1;for(var e=0;e<this._loadQueue.length&&!(this._currentLoads.length>=this._maxConnections);e++){var t=this._loadQueue[e];this._canStartLoad(t)&&(this._loadQueue.splice(e,1),e--,this._loadItem(t))}}},t._loadItem=function(e){e.on("fileload",this._handleFileLoad,this),e.on("progress",this._handleProgress,this),e.on("complete",this._handleFileComplete,this),e.on("error",this._handleError,this),e.on("fileerror",this._handleFileError,this),this._currentLoads.push(e),this._sendFileStart(e.getItem()),e.load()},t._handleFileLoad=function(e){e.target=null,this.dispatchEvent(e)},t._handleFileError=function(e){var t=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,e.item);this._sendError(t)},t._handleError=function(e){var t=e.target;this._numItemsLoaded++,this._finishOrderedItem(t,!0),this._updateProgress();var n=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,t.getItem());this._sendError(n),this.stopOnError?this.setPaused(!0):(this._removeLoadItem(t),this._cleanLoadItem(t),this._loadNext())},t._handleFileComplete=function(e){var t=e.target,n=t.getItem(),i=t.getResult();this._loadedResults[n.id]=i;var r=t.getResult(!0);null!=r&&r!==i&&(this._loadedRawResults[n.id]=r),this._saveLoadedItems(t),this._removeLoadItem(t),this._finishOrderedItem(t)||this._processFinishedLoad(n,t),this._cleanLoadItem(t)},t._saveLoadedItems=function(e){var t=e.getLoadedItems();if(null!==t)for(var n=0;n<t.length;n++){var i=t[n].item;this._loadItemsBySrc[i.src]=i,this._loadItemsById[i.id]=i,this._loadedResults[i.id]=t[n].result,this._loadedRawResults[i.id]=t[n].rawResult}},t._finishOrderedItem=function(e,t){var n=e.getItem();if(this.maintainScriptOrder&&n.type==createjs.LoadQueue.JAVASCRIPT||n.maintainOrder){e instanceof createjs.JavaScriptLoader&&(this._currentlyLoadingScript=!1);var i=createjs.indexOf(this._scriptOrder,n);return-1!=i&&(this._loadedScripts[i]=!0===t||n,this._checkScriptLoadOrder(),!0)}return!1},t._checkScriptLoadOrder=function(){for(var e=this._loadedScripts.length,t=0;e>t;t++){var n=this._loadedScripts[t];if(null===n)break;if(!0!==n){var i=this._loadedResults[n.id];n.type==createjs.LoadQueue.JAVASCRIPT&&createjs.DomUtils.appendToHead(i);var r=n._loader;this._processFinishedLoad(n,r),this._loadedScripts[t]=!0}}},t._processFinishedLoad=function(e,t){if(this._numItemsLoaded++,!this.maintainScriptOrder&&e.type==createjs.LoadQueue.JAVASCRIPT){var n=t.getTag();createjs.DomUtils.appendToHead(n)}this._updateProgress(),this._sendFileComplete(e,t),this._loadNext()},t._canStartLoad=function(e){if(!this.maintainScriptOrder||e.preferXHR)return!0;var t=e.getItem();if(t.type!=createjs.LoadQueue.JAVASCRIPT)return!0;if(this._currentlyLoadingScript)return!1;for(var n=this._scriptOrder.indexOf(t),i=0;n>i;){if(null==this._loadedScripts[i])return!1;i++}return this._currentlyLoadingScript=!0,!0},t._removeLoadItem=function(e){for(var t=this._currentLoads.length,n=0;t>n;n++)if(this._currentLoads[n]==e){this._currentLoads.splice(n,1);break}},t._cleanLoadItem=function(e){var t=e.getItem();t&&delete t._loader},t._handleProgress=function(e){var t=e.target;this._sendFileProgress(t.getItem(),t.progress),this._updateProgress()},t._updateProgress=function(){var e=this._numItemsLoaded/this._numItems,t=this._numItems-this._numItemsLoaded;if(t>0){for(var n=0,i=0,r=this._currentLoads.length;r>i;i++)n+=this._currentLoads[i].progress;e+=n/t*(t/this._numItems)}this._lastProgress!=e&&(this._sendProgress(e),this._lastProgress=e)},t._disposeItem=function(e){delete this._loadedResults[e.id],delete this._loadedRawResults[e.id],delete this._loadItemsById[e.id],delete this._loadItemsBySrc[e.src]},t._sendFileProgress=function(e,t){if(!this._isCanceled()&&!this._paused&&this.hasEventListener("fileprogress")){var n=new createjs.Event("fileprogress");n.progress=t,n.loaded=t,n.total=1,n.item=e,this.dispatchEvent(n)}},t._sendFileComplete=function(e,t){if(!this._isCanceled()&&!this._paused){var n=new createjs.Event("fileload");n.loader=t,n.item=e,n.result=this._loadedResults[e.id],n.rawResult=this._loadedRawResults[e.id],e.completeHandler&&e.completeHandler(n),this.hasEventListener("fileload")&&this.dispatchEvent(n)}},t._sendFileStart=function(e){var t=new createjs.Event("filestart");t.item=e,this.hasEventListener("filestart")&&this.dispatchEvent(t)},t.toString=function(){return"[PreloadJS LoadQueue]"},createjs.LoadQueue=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractLoader_constructor(e,!0,createjs.AbstractLoader.TEXT)}(createjs.extend(e,createjs.AbstractLoader),e).canLoadItem=function(e){return e.type==createjs.AbstractLoader.TEXT},createjs.TextLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractLoader_constructor(e,!0,createjs.AbstractLoader.BINARY),this.on("initialize",this._updateXHR,this)}var t=createjs.extend(e,createjs.AbstractLoader);e.canLoadItem=function(e){return e.type==createjs.AbstractLoader.BINARY},t._updateXHR=function(e){e.loader.setResponseType("arraybuffer")},createjs.BinaryLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.AbstractLoader_constructor(e,t,createjs.AbstractLoader.CSS),this.resultFormatter=this._formatResult,this._tagSrcAttribute="href",this._tag=t?document.createElement("style"):document.createElement("link"),this._tag.rel="stylesheet",this._tag.type="text/css"}var t=createjs.extend(e,createjs.AbstractLoader);e.canLoadItem=function(e){return e.type==createjs.AbstractLoader.CSS},t._formatResult=function(e){if(this._preferXHR){var t=e.getTag();if(t.styleSheet)t.styleSheet.cssText=e.getResult(!0);else{var n=document.createTextNode(e.getResult(!0));t.appendChild(n)}}else t=this._tag;return createjs.DomUtils.appendToHead(t),t},createjs.CSSLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.AbstractLoader_constructor(e,t,createjs.AbstractLoader.IMAGE),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",createjs.RequestUtils.isImageTag(e)?this._tag=e:createjs.RequestUtils.isImageTag(e.src)?this._tag=e.src:createjs.RequestUtils.isImageTag(e.tag)&&(this._tag=e.tag),null!=this._tag?this._preferXHR=!1:this._tag=document.createElement("img"),this.on("initialize",this._updateXHR,this)}var t=createjs.extend(e,createjs.AbstractLoader);e.canLoadItem=function(e){return e.type==createjs.AbstractLoader.IMAGE},t.load=function(){if(""!=this._tag.src&&this._tag.complete)this._sendComplete();else{var e=this._item.crossOrigin;1==e&&(e="Anonymous"),null==e||createjs.RequestUtils.isLocal(this._item.src)||(this._tag.crossOrigin=e),this.AbstractLoader_load()}},t._updateXHR=function(e){e.loader.mimeType="text/plain; charset=x-user-defined-binary",e.loader.setResponseType&&e.loader.setResponseType("blob")},t._formatResult=function(e){return this._formatImage},t._formatImage=function(e,t){var n=this._tag,i=window.URL||window.webkitURL;if(this._preferXHR)if(i){var r=i.createObjectURL(this.getResult(!0));n.src=r,n.addEventListener("load",this._cleanUpURL,!1),n.addEventListener("error",this._cleanUpURL,!1)}else n.src=this._item.src;n.complete?e(n):(n.onload=createjs.proxy(function(){e(this._tag)},this),n.onerror=createjs.proxy(function(){t(_this._tag)},this))},t._cleanUpURL=function(e){(window.URL||window.webkitURL).revokeObjectURL(e.target.src)},createjs.ImageLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.AbstractLoader_constructor(e,t,createjs.AbstractLoader.JAVASCRIPT),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.setTag(document.createElement("script"))}var t=createjs.extend(e,createjs.AbstractLoader);e.canLoadItem=function(e){return e.type==createjs.AbstractLoader.JAVASCRIPT},t._formatResult=function(e){var t=e.getTag();return this._preferXHR&&(t.text=e.getResult(!0)),t},createjs.JavaScriptLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractLoader_constructor(e,!0,createjs.AbstractLoader.JSON),this.resultFormatter=this._formatResult}var t=createjs.extend(e,createjs.AbstractLoader);e.canLoadItem=function(e){return e.type==createjs.AbstractLoader.JSON},t._formatResult=function(e){var t=null;try{t=createjs.DataUtils.parseJSON(e.getResult(!0))}catch(e){var n=new createjs.ErrorEvent("JSON_FORMAT",null,e);return this._sendError(n),e}return t},createjs.JSONLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractLoader_constructor(e,!1,createjs.AbstractLoader.JSONP),this.setTag(document.createElement("script")),this.getTag().type="text/javascript"}var t=createjs.extend(e,createjs.AbstractLoader);e.canLoadItem=function(e){return e.type==createjs.AbstractLoader.JSONP},t.cancel=function(){this.AbstractLoader_cancel(),this._dispose()},t.load=function(){if(null==this._item.callback)throw new Error("callback is required for loading JSONP requests.");if(null!=window[this._item.callback])throw new Error("JSONP callback '"+this._item.callback+"' already exists on window. You need to specify a different callback or re-name the current one.");window[this._item.callback]=createjs.proxy(this._handleLoad,this),window.document.body.appendChild(this._tag),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag.src=this._item.src},t._handleLoad=function(e){this._result=this._rawResult=e,this._sendComplete(),this._dispose()},t._handleTimeout=function(){this._dispose(),this.dispatchEvent(new createjs.ErrorEvent("timeout"))},t._dispose=function(){window.document.body.removeChild(this._tag),delete window[this._item.callback],clearTimeout(this._loadTimeout)},createjs.JSONPLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractLoader_constructor(e,null,createjs.AbstractLoader.MANIFEST),this.plugins=null,this._manifestQueue=null}var t=createjs.extend(e,createjs.AbstractLoader),n=e;n.MANIFEST_PROGRESS=.25,n.canLoadItem=function(e){return e.type==createjs.AbstractLoader.MANIFEST},t.load=function(){this.AbstractLoader_load()},t._createRequest=function(){var e=this._item.callback;this._request=null!=e?new createjs.JSONPLoader(this._item):new createjs.JSONLoader(this._item)},t.handleEvent=function(e){switch(e.type){case"complete":return this._rawResult=e.target.getResult(!0),this._result=e.target.getResult(),this._sendProgress(n.MANIFEST_PROGRESS),void this._loadManifest(this._result);case"progress":return e.loaded*=n.MANIFEST_PROGRESS,this.progress=e.loaded/e.total,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0),void this._sendProgress(e)}this.AbstractLoader_handleEvent(e)},t.destroy=function(){this.AbstractLoader_destroy(),this._manifestQueue.close()},t._loadManifest=function(e){if(e&&e.manifest){var t=this._manifestQueue=new createjs.LoadQueue;t.on("fileload",this._handleManifestFileLoad,this),t.on("progress",this._handleManifestProgress,this),t.on("complete",this._handleManifestComplete,this,!0),t.on("error",this._handleManifestError,this,!0);for(var n=0,i=this.plugins.length;i>n;n++)t.installPlugin(this.plugins[n]);t.loadManifest(e)}else this._sendComplete()},t._handleManifestFileLoad=function(e){e.target=null,this.dispatchEvent(e)},t._handleManifestComplete=function(e){this._loadedItems=this._manifestQueue.getItems(!0),this._sendComplete()},t._handleManifestProgress=function(e){this.progress=e.progress*(1-n.MANIFEST_PROGRESS)+n.MANIFEST_PROGRESS,this._sendProgress(this.progress)},t._handleManifestError=function(e){var t=new createjs.Event("fileerror");t.item=e.data,this.dispatchEvent(t)},createjs.ManifestLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.AbstractMediaLoader_constructor(e,t,createjs.AbstractLoader.SOUND),createjs.RequestUtils.isAudioTag(e)?this._tag=e:createjs.RequestUtils.isAudioTag(e.src)?this._tag=e:createjs.RequestUtils.isAudioTag(e.tag)&&(this._tag=createjs.RequestUtils.isAudioTag(e)?e:e.src),null!=this._tag&&(this._preferXHR=!1)}var t=createjs.extend(e,createjs.AbstractMediaLoader);e.canLoadItem=function(e){return e.type==createjs.AbstractLoader.SOUND},t._createTag=function(e){var t=document.createElement("audio");return t.autoplay=!1,t.preload="none",t.src=e,t},createjs.SoundLoader=createjs.promote(e,"AbstractMediaLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.AbstractMediaLoader_constructor(e,t,createjs.AbstractLoader.VIDEO),createjs.RequestUtils.isVideoTag(e)||createjs.RequestUtils.isVideoTag(e.src)?(this.setTag(createjs.RequestUtils.isVideoTag(e)?e:e.src),this._preferXHR=!1):this.setTag(this._createTag())}var t=e;createjs.extend(e,createjs.AbstractMediaLoader)._createTag=function(){return document.createElement("video")},t.canLoadItem=function(e){return e.type==createjs.AbstractLoader.VIDEO},createjs.VideoLoader=createjs.promote(e,"AbstractMediaLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.AbstractLoader_constructor(e,t,createjs.AbstractLoader.SPRITESHEET),this._manifestQueue=null}var t=createjs.extend(e,createjs.AbstractLoader),n=e;n.SPRITESHEET_PROGRESS=.25,n.canLoadItem=function(e){return e.type==createjs.AbstractLoader.SPRITESHEET},t.destroy=function(){this.AbstractLoader_destroy,this._manifestQueue.close()},t._createRequest=function(){var e=this._item.callback;this._request=null!=e?new createjs.JSONPLoader(this._item):new createjs.JSONLoader(this._item)},t.handleEvent=function(e){switch(e.type){case"complete":return this._rawResult=e.target.getResult(!0),this._result=e.target.getResult(),this._sendProgress(n.SPRITESHEET_PROGRESS),void this._loadManifest(this._result);case"progress":return e.loaded*=n.SPRITESHEET_PROGRESS,this.progress=e.loaded/e.total,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0),void this._sendProgress(e)}this.AbstractLoader_handleEvent(e)},t._loadManifest=function(e){if(e&&e.images){var t=this._manifestQueue=new createjs.LoadQueue(this._preferXHR,this._item.path,this._item.crossOrigin);t.on("complete",this._handleManifestComplete,this,!0),t.on("fileload",this._handleManifestFileLoad,this),t.on("progress",this._handleManifestProgress,this),t.on("error",this._handleManifestError,this,!0),t.loadManifest(e.images)}},t._handleManifestFileLoad=function(e){var t=e.result;if(null!=t){var n=this.getResult().images;n[n.indexOf(e.item.src)]=t}},t._handleManifestComplete=function(e){this._result=new createjs.SpriteSheet(this._result),this._loadedItems=this._manifestQueue.getItems(!0),this._sendComplete()},t._handleManifestProgress=function(e){this.progress=e.progress*(1-n.SPRITESHEET_PROGRESS)+n.SPRITESHEET_PROGRESS,this._sendProgress(this.progress)},t._handleManifestError=function(e){var t=new createjs.Event("fileerror");t.item=e.data,this.dispatchEvent(t)},createjs.SpriteSheetLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.AbstractLoader_constructor(e,t,createjs.AbstractLoader.SVG),this.resultFormatter=this._formatResult,this._tagSrcAttribute="data",t?this.setTag(document.createElement("svg")):(this.setTag(document.createElement("object")),this.getTag().type="image/svg+xml")}var t=createjs.extend(e,createjs.AbstractLoader);e.canLoadItem=function(e){return e.type==createjs.AbstractLoader.SVG},t._formatResult=function(e){var t=createjs.DataUtils.parseXML(e.getResult(!0),"text/xml"),n=e.getTag();return!this._preferXHR&&document.body.contains(n)&&document.body.removeChild(n),null!=t.documentElement?(n.appendChild(t.documentElement),n.style.visibility="visible",n):t},createjs.SVGLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractLoader_constructor(e,!0,createjs.AbstractLoader.XML),this.resultFormatter=this._formatResult}var t=createjs.extend(e,createjs.AbstractLoader);e.canLoadItem=function(e){return e.type==createjs.AbstractLoader.XML},t._formatResult=function(e){return createjs.DataUtils.parseXML(e.getResult(!0),"text/xml")},createjs.XMLLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){var e=createjs.SoundJS=createjs.SoundJS||{};e.version="0.6.2",e.buildDate="Thu, 26 Nov 2015 20:44:31 GMT"}(),this.createjs=this.createjs||{},createjs.indexOf=function(e,t){"use strict";for(var n=0,i=e.length;i>n;n++)if(t===e[n])return n;return-1},this.createjs=this.createjs||{},function(){"use strict";createjs.proxy=function(e,t){var n=Array.prototype.slice.call(arguments,2);return function(){return e.apply(t,Array.prototype.slice.call(arguments,0).concat(n))}}}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"BrowserDetect cannot be instantiated"}var t=e.agent=window.navigator.userAgent;e.isWindowPhone=t.indexOf("IEMobile")>-1||t.indexOf("Windows Phone")>-1,e.isFirefox=t.indexOf("Firefox")>-1,e.isOpera=null!=window.opera,e.isChrome=t.indexOf("Chrome")>-1,e.isIOS=(t.indexOf("iPod")>-1||t.indexOf("iPhone")>-1||t.indexOf("iPad")>-1)&&!e.isWindowPhone,e.isAndroid=t.indexOf("Android")>-1&&!e.isWindowPhone,e.isBlackberry=t.indexOf("Blackberry")>-1,createjs.BrowserDetect=e}(),this.createjs=this.createjs||{},function(){"use strict";var e=function(){this.interrupt=null,this.delay=null,this.offset=null,this.loop=null,this.volume=null,this.pan=null,this.startTime=null,this.duration=null},t=e.prototype={},n=e;n.create=function(e){if(e instanceof n||e instanceof Object){var t=new createjs.PlayPropsConfig;return t.set(e),t}throw new Error("Type not recognized.")},t.set=function(e){for(var t in e)this[t]=e[t];return this},t.toString=function(){return"[PlayPropsConfig]"},createjs.PlayPropsConfig=n}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"Sound cannot be instantiated"}function t(e,t){this.init(e,t)}var n=e;n.INTERRUPT_ANY="any",n.INTERRUPT_EARLY="early",n.INTERRUPT_LATE="late",n.INTERRUPT_NONE="none",n.PLAY_INITED="playInited",n.PLAY_SUCCEEDED="playSucceeded",n.PLAY_INTERRUPTED="playInterrupted",n.PLAY_FINISHED="playFinished",n.PLAY_FAILED="playFailed",n.SUPPORTED_EXTENSIONS=["mp3","ogg","opus","mpeg","wav","m4a","mp4","aiff","wma","mid"],n.EXTENSION_MAP={m4a:"mp4"},n.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([\/.]*?(?:[^?]+)?\/)?((?:[^\/?]+)\.(\w+))(?:\?(\S+)?)?$/,n.defaultInterruptBehavior=n.INTERRUPT_NONE,n.alternateExtensions=[],n.activePlugin=null,n._masterVolume=1,Object.defineProperty(n,"volume",{get:function(){return this._masterVolume},set:function(e){if(null==Number(e))return!1;if(e=Math.max(0,Math.min(1,e)),n._masterVolume=e,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(e))for(var t=this._instances,i=0,r=t.length;r>i;i++)t[i].setMasterVolume(e)}}),n._masterMute=!1,Object.defineProperty(n,"muted",{get:function(){return this._masterMute},set:function(e){if(null==e)return!1;if(this._masterMute=e,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(e))for(var t=this._instances,n=0,i=t.length;i>n;n++)t[n].setMasterMute(e);return!0}}),Object.defineProperty(n,"capabilities",{get:function(){return null==n.activePlugin?null:n.activePlugin._capabilities},set:function(e){return!1}}),n._pluginsRegistered=!1,n._lastID=0,n._instances=[],n._idHash={},n._preloadHash={},n._defaultPlayPropsHash={},n.addEventListener=null,n.removeEventListener=null,n.removeAllEventListeners=null,n.dispatchEvent=null,n.hasEventListener=null,n._listeners=null,createjs.EventDispatcher.initialize(n),n.getPreloadHandlers=function(){return{callback:createjs.proxy(n.initLoad,n),types:["sound"],extensions:n.SUPPORTED_EXTENSIONS}},n._handleLoadComplete=function(e){var t=e.target.getItem().src;if(n._preloadHash[t])for(var i=0,r=n._preloadHash[t].length;r>i;i++){var s=n._preloadHash[t][i];if(n._preloadHash[t][i]=!0,n.hasEventListener("fileload"))(e=new createjs.Event("fileload")).src=s.src,e.id=s.id,e.data=s.data,e.sprite=s.sprite,n.dispatchEvent(e)}},n._handleLoadError=function(e){var t=e.target.getItem().src;if(n._preloadHash[t])for(var i=0,r=n._preloadHash[t].length;r>i;i++){var s=n._preloadHash[t][i];if(n._preloadHash[t][i]=!1,n.hasEventListener("fileerror"))(e=new createjs.Event("fileerror")).src=s.src,e.id=s.id,e.data=s.data,e.sprite=s.sprite,n.dispatchEvent(e)}},n._registerPlugin=function(e){return!!e.isSupported()&&(n.activePlugin=new e,!0)},n.registerPlugins=function(e){n._pluginsRegistered=!0;for(var t=0,i=e.length;i>t;t++)if(n._registerPlugin(e[t]))return!0;return!1},n.initializeDefaultPlugins=function(){return null!=n.activePlugin||!n._pluginsRegistered&&!!n.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin])},n.isReady=function(){return null!=n.activePlugin},n.getCapabilities=function(){return null==n.activePlugin?null:n.activePlugin._capabilities},n.getCapability=function(e){return null==n.activePlugin?null:n.activePlugin._capabilities[e]},n.initLoad=function(e){return n._registerSound(e)},n._registerSound=function(e){if(!n.initializeDefaultPlugins())return!1;var i;if(e.src instanceof Object?(i=n._parseSrc(e.src)).src=e.path+i.src:i=n._parsePath(e.src),null==i)return!1;e.src=i.src,e.type="sound";var r=e.data,s=null;if(null!=r&&(isNaN(r.channels)?isNaN(r)||(s=parseInt(r)):s=parseInt(r.channels),r.audioSprite))for(var a,o=r.audioSprite.length;o--;)a=r.audioSprite[o],n._idHash[a.id]={src:e.src,startTime:parseInt(a.startTime),duration:parseInt(a.duration)},a.defaultPlayProps&&(n._defaultPlayPropsHash[a.id]=createjs.PlayPropsConfig.create(a.defaultPlayProps));null!=e.id&&(n._idHash[e.id]={src:e.src});var c=n.activePlugin.register(e);return t.create(e.src,s),null!=r&&isNaN(r)?e.data.channels=s||t.maxPerChannel():e.data=s||t.maxPerChannel(),c.type&&(e.type=c.type),e.defaultPlayProps&&(n._defaultPlayPropsHash[e.src]=createjs.PlayPropsConfig.create(e.defaultPlayProps)),c},n.registerSound=function(e,t,i,r,s){var a={src:e,id:t,data:i,defaultPlayProps:s};e instanceof Object&&e.src&&(r=t,a=e),(a=createjs.LoadItem.create(a)).path=r,null==r||a.src instanceof Object||(a.src=r+e);var o=n._registerSound(a);if(!o)return!1;if(n._preloadHash[a.src]||(n._preloadHash[a.src]=[]),n._preloadHash[a.src].push(a),1==n._preloadHash[a.src].length)o.on("complete",createjs.proxy(this._handleLoadComplete,this)),o.on("error",createjs.proxy(this._handleLoadError,this)),n.activePlugin.preload(o);else if(1==n._preloadHash[a.src][0])return!0;return a},n.registerSounds=function(e,t){var n=[];e.path&&(t?t+=e.path:t=e.path,e=e.manifest);for(var i=0,r=e.length;r>i;i++)n[i]=createjs.Sound.registerSound(e[i].src,e[i].id,e[i].data,t,e[i].defaultPlayProps);return n},n.removeSound=function(e,i){if(null==n.activePlugin)return!1;var r;if(e instanceof Object&&e.src&&(e=e.src),e instanceof Object?r=n._parseSrc(e):(e=n._getSrcById(e).src,r=n._parsePath(e)),null==r)return!1;for(var s in e=r.src,null!=i&&(e=i+e),n._idHash)n._idHash[s].src==e&&delete n._idHash[s];return t.removeSrc(e),delete n._preloadHash[e],n.activePlugin.removeSound(e),!0},n.removeSounds=function(e,t){var n=[];e.path&&(t?t+=e.path:t=e.path,e=e.manifest);for(var i=0,r=e.length;r>i;i++)n[i]=createjs.Sound.removeSound(e[i].src,t);return n},n.removeAllSounds=function(){n._idHash={},n._preloadHash={},t.removeAll(),n.activePlugin&&n.activePlugin.removeAllSounds()},n.loadComplete=function(e){if(!n.isReady())return!1;var t=n._parsePath(e);return e=t?n._getSrcById(t.src).src:n._getSrcById(e).src,void 0!=n._preloadHash[e]&&1==n._preloadHash[e][0]},n._parsePath=function(e){"string"!=typeof e&&(e=e.toString());var t=e.match(n.FILE_PATTERN);if(null==t)return!1;for(var i=t[4],r=t[5],s=n.capabilities,a=0;!s[r];)if(r=n.alternateExtensions[a++],a>n.alternateExtensions.length)return null;return{name:i,src:e=e.replace("."+t[5],"."+r),extension:r}},n._parseSrc=function(e){var t={name:void 0,src:void 0,extension:void 0},i=n.capabilities;for(var r in e)if(e.hasOwnProperty(r)&&i[r]){t.src=e[r],t.extension=r;break}if(!t.src)return!1;var s=t.src.lastIndexOf("/");return t.name=-1!=s?t.src.slice(s+1):t.src,t},n.play=function(e,t,i,r,s,a,o,c,l){var u;u=t instanceof Object||t instanceof createjs.PlayPropsConfig?createjs.PlayPropsConfig.create(t):createjs.PlayPropsConfig.create({interrupt:t,delay:i,offset:r,loop:s,volume:a,pan:o,startTime:c,duration:l});var h=n.createInstance(e,u.startTime,u.duration);return n._playInstance(h,u)||h._playFailed(),h},n.createInstance=function(e,i,r){if(!n.initializeDefaultPlugins())return new createjs.DefaultSoundInstance(e,i,r);var s=n._defaultPlayPropsHash[e];e=n._getSrcById(e);var a=n._parsePath(e.src),o=null;return null!=a&&null!=a.src?(t.create(a.src),null==i&&(i=e.startTime),o=n.activePlugin.create(a.src,i,r||e.duration),(s=s||n._defaultPlayPropsHash[a.src])&&o.applyPlayProps(s)):o=new createjs.DefaultSoundInstance(e,i,r),o.uniqueId=n._lastID++,o},n.stop=function(){for(var e=this._instances,t=e.length;t--;)e[t].stop()},n.setVolume=function(e){if(null==Number(e))return!1;if(e=Math.max(0,Math.min(1,e)),n._masterVolume=e,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(e))for(var t=this._instances,i=0,r=t.length;r>i;i++)t[i].setMasterVolume(e)},n.getVolume=function(){return this._masterVolume},n.setMute=function(e){if(null==e)return!1;if(this._masterMute=e,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(e))for(var t=this._instances,n=0,i=t.length;i>n;n++)t[n].setMasterMute(e);return!0},n.getMute=function(){return this._masterMute},n.setDefaultPlayProps=function(e,t){e=n._getSrcById(e),n._defaultPlayPropsHash[n._parsePath(e.src).src]=createjs.PlayPropsConfig.create(t)},n.getDefaultPlayProps=function(e){return e=n._getSrcById(e),n._defaultPlayPropsHash[n._parsePath(e.src).src]},n._playInstance=function(e,t){var i=n._defaultPlayPropsHash[e.src]||{};if(null==t.interrupt&&(t.interrupt=i.interrupt||n.defaultInterruptBehavior),null==t.delay&&(t.delay=i.delay||0),null==t.offset&&(t.offset=e.getPosition()),null==t.loop&&(t.loop=e.loop),null==t.volume&&(t.volume=e.volume),null==t.pan&&(t.pan=e.pan),0==t.delay){if(!n._beginPlaying(e,t))return!1}else{var r=setTimeout(function(){n._beginPlaying(e,t)},t.delay);e.delayTimeoutId=r}return this._instances.push(e),!0},n._beginPlaying=function(e,n){if(!t.add(e,n.interrupt))return!1;if(!e._beginPlaying(n)){var i=createjs.indexOf(this._instances,e);return i>-1&&this._instances.splice(i,1),!1}return!0},n._getSrcById=function(e){return n._idHash[e]||{src:e}},n._playFinished=function(e){t.remove(e);var n=createjs.indexOf(this._instances,e);n>-1&&this._instances.splice(n,1)},createjs.Sound=e,t.channels={},t.create=function(e,n){return null==t.get(e)&&(t.channels[e]=new t(e,n),!0)},t.removeSrc=function(e){var n=t.get(e);return null!=n&&(n._removeAll(),delete t.channels[e],!0)},t.removeAll=function(){for(var e in t.channels)t.channels[e]._removeAll();t.channels={}},t.add=function(e,n){var i=t.get(e.src);return null!=i&&i._add(e,n)},t.remove=function(e){var n=t.get(e.src);return null!=n&&(n._remove(e),!0)},t.maxPerChannel=function(){return i.maxDefault},t.get=function(e){return t.channels[e]};var i=t.prototype;i.constructor=t,i.src=null,i.max=null,i.maxDefault=100,i.length=0,i.init=function(e,t){this.src=e,this.max=t||this.maxDefault,-1==this.max&&(this.max=this.maxDefault),this._instances=[]},i._get=function(e){return this._instances[e]},i._add=function(e,t){return!!this._getSlot(t,e)&&(this._instances.push(e),this.length++,!0)},i._remove=function(e){var t=createjs.indexOf(this._instances,e);return-1!=t&&(this._instances.splice(t,1),this.length--,!0)},i._removeAll=function(){for(var e=this.length-1;e>=0;e--)this._instances[e].stop()},i._getSlot=function(t,n){var i,r;if(t!=e.INTERRUPT_NONE&&null==(r=this._get(0)))return!0;for(var s=0,a=this.max;a>s;s++){if(null==(i=this._get(s)))return!0;if(i.playState==e.PLAY_FINISHED||i.playState==e.PLAY_INTERRUPTED||i.playState==e.PLAY_FAILED){r=i;break}t!=e.INTERRUPT_NONE&&(t==e.INTERRUPT_EARLY&&i.getPosition()<r.getPosition()||t==e.INTERRUPT_LATE&&i.getPosition()>r.getPosition())&&(r=i)}return null!=r&&(r._interrupt(),this._remove(r),!0)},i.toString=function(){return"[Sound SoundChannel]"}}(),this.createjs=this.createjs||{},function(){"use strict";var e=function(e,t,n,i){this.EventDispatcher_constructor(),this.src=e,this.uniqueId=-1,this.playState=null,this.delayTimeoutId=null,this._volume=1,Object.defineProperty(this,"volume",{get:this.getVolume,set:this.setVolume}),this._pan=0,Object.defineProperty(this,"pan",{get:this.getPan,set:this.setPan}),this._startTime=Math.max(0,t||0),Object.defineProperty(this,"startTime",{get:this.getStartTime,set:this.setStartTime}),this._duration=Math.max(0,n||0),Object.defineProperty(this,"duration",{get:this.getDuration,set:this.setDuration}),this._playbackResource=null,Object.defineProperty(this,"playbackResource",{get:this.getPlaybackResource,set:this.setPlaybackResource}),!1!==i&&!0!==i&&this.setPlaybackResource(i),this._position=0,Object.defineProperty(this,"position",{get:this.getPosition,set:this.setPosition}),this._loop=0,Object.defineProperty(this,"loop",{get:this.getLoop,set:this.setLoop}),this._muted=!1,Object.defineProperty(this,"muted",{get:this.getMuted,set:this.setMuted}),this._paused=!1,Object.defineProperty(this,"paused",{get:this.getPaused,set:this.setPaused})},t=createjs.extend(e,createjs.EventDispatcher);t.play=function(e,t,n,i,r,s){var a;return a=e instanceof Object||e instanceof createjs.PlayPropsConfig?createjs.PlayPropsConfig.create(e):createjs.PlayPropsConfig.create({interrupt:e,delay:t,offset:n,loop:i,volume:r,pan:s}),this.playState==createjs.Sound.PLAY_SUCCEEDED?(this.applyPlayProps(a),void(this._paused&&this.setPaused(!1))):(this._cleanUp(),createjs.Sound._playInstance(this,a),this)},t.stop=function(){return this._position=0,this._paused=!1,this._handleStop(),this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,this},t.destroy=function(){this._cleanUp(),this.src=null,this.playbackResource=null,this.removeAllEventListeners()},t.applyPlayProps=function(e){return null!=e.offset&&this.setPosition(e.offset),null!=e.loop&&this.setLoop(e.loop),null!=e.volume&&this.setVolume(e.volume),null!=e.pan&&this.setPan(e.pan),null!=e.startTime&&(this.setStartTime(e.startTime),this.setDuration(e.duration)),this},t.toString=function(){return"[AbstractSoundInstance]"},t.getPaused=function(){return this._paused},t.setPaused=function(e){return!0!==e&&!1!==e||this._paused==e||1==e&&this.playState!=createjs.Sound.PLAY_SUCCEEDED?void 0:(this._paused=e,e?this._pause():this._resume(),clearTimeout(this.delayTimeoutId),this)},t.setVolume=function(e){return e==this._volume?this:(this._volume=Math.max(0,Math.min(1,e)),this._muted||this._updateVolume(),this)},t.getVolume=function(){return this._volume},t.setMuted=function(e){return!0===e||!1===e?(this._muted=e,this._updateVolume(),this):void 0},t.getMuted=function(){return this._muted},t.setPan=function(e){return e==this._pan?this:(this._pan=Math.max(-1,Math.min(1,e)),this._updatePan(),this)},t.getPan=function(){return this._pan},t.getPosition=function(){return this._paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED||(this._position=this._calculateCurrentPosition()),this._position},t.setPosition=function(e){return this._position=Math.max(0,e),this.playState==createjs.Sound.PLAY_SUCCEEDED&&this._updatePosition(),this},t.getStartTime=function(){return this._startTime},t.setStartTime=function(e){return e==this._startTime?this:(this._startTime=Math.max(0,e||0),this._updateStartTime(),this)},t.getDuration=function(){return this._duration},t.setDuration=function(e){return e==this._duration?this:(this._duration=Math.max(0,e||0),this._updateDuration(),this)},t.setPlaybackResource=function(e){return this._playbackResource=e,0==this._duration&&this._setDurationFromSource(),this},t.getPlaybackResource=function(){return this._playbackResource},t.getLoop=function(){return this._loop},t.setLoop=function(e){null!=this._playbackResource&&(0!=this._loop&&0==e?this._removeLooping(e):0==this._loop&&0!=e&&this._addLooping(e)),this._loop=e},t._sendEvent=function(e){var t=new createjs.Event(e);this.dispatchEvent(t)},t._cleanUp=function(){clearTimeout(this.delayTimeoutId),this._handleCleanUp(),this._paused=!1,createjs.Sound._playFinished(this)},t._interrupt=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_INTERRUPTED,this._sendEvent("interrupted")},t._beginPlaying=function(e){return this.setPosition(e.offset),this.setLoop(e.loop),this.setVolume(e.volume),this.setPan(e.pan),null!=e.startTime&&(this.setStartTime(e.startTime),this.setDuration(e.duration)),null!=this._playbackResource&&this._position<this._duration?(this._paused=!1,this._handleSoundReady(),this.playState=createjs.Sound.PLAY_SUCCEEDED,this._sendEvent("succeeded"),!0):(this._playFailed(),!1)},t._playFailed=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_FAILED,this._sendEvent("failed")},t._handleSoundComplete=function(e){return this._position=0,0!=this._loop?(this._loop--,this._handleLoop(),void this._sendEvent("loop")):(this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,void this._sendEvent("complete"))},t._handleSoundReady=function(){},t._updateVolume=function(){},t._updatePan=function(){},t._updateStartTime=function(){},t._updateDuration=function(){},t._setDurationFromSource=function(){},t._calculateCurrentPosition=function(){},t._updatePosition=function(){},t._removeLooping=function(e){},t._addLooping=function(e){},t._pause=function(){},t._resume=function(){},t._handleStop=function(){},t._handleCleanUp=function(){},t._handleLoop=function(){},createjs.AbstractSoundInstance=createjs.promote(e,"EventDispatcher"),createjs.DefaultSoundInstance=createjs.AbstractSoundInstance}(),this.createjs=this.createjs||{},function(){"use strict";var e=function(){this._capabilities=null,this._loaders={},this._audioSources={},this._soundInstances={},this._volume=1,this._loaderClass,this._soundInstanceClass},t=e.prototype;e._capabilities=null,e.isSupported=function(){return!0},t.register=function(e){var t=this._loaders[e.src];return t&&!t.canceled?this._loaders[e.src]:(this._audioSources[e.src]=!0,this._soundInstances[e.src]=[],(t=new this._loaderClass(e)).on("complete",this._handlePreloadComplete,this),this._loaders[e.src]=t,t)},t.preload=function(e){e.on("error",this._handlePreloadError,this),e.load()},t.isPreloadStarted=function(e){return null!=this._audioSources[e]},t.isPreloadComplete=function(e){return!(null==this._audioSources[e]||1==this._audioSources[e])},t.removeSound=function(e){if(this._soundInstances[e]){for(var t=this._soundInstances[e].length;t--;){this._soundInstances[e][t].destroy()}delete this._soundInstances[e],delete this._audioSources[e],this._loaders[e]&&this._loaders[e].destroy(),delete this._loaders[e]}},t.removeAllSounds=function(){for(var e in this._audioSources)this.removeSound(e)},t.create=function(e,t,n){this.isPreloadStarted(e)||this.preload(this.register(e));var i=new this._soundInstanceClass(e,t,n,this._audioSources[e]);return this._soundInstances[e].push(i),i},t.setVolume=function(e){return this._volume=e,this._updateVolume(),!0},t.getVolume=function(){return this._volume},t.setMute=function(e){return this._updateVolume(),!0},t.toString=function(){return"[AbstractPlugin]"},t._handlePreloadComplete=function(e){var t=e.target.getItem().src;this._audioSources[t]=e.result;for(var n=0,i=this._soundInstances[t].length;i>n;n++){this._soundInstances[t][n].setPlaybackResource(this._audioSources[t])}},t._handlePreloadError=function(e){},t._updateVolume=function(){},createjs.AbstractPlugin=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractLoader_constructor(e,!0,createjs.AbstractLoader.SOUND)}var t=createjs.extend(e,createjs.AbstractLoader);e.context=null,t.toString=function(){return"[WebAudioLoader]"},t._createRequest=function(){this._request=new createjs.XHRRequest(this._item,!1),this._request.setResponseType("arraybuffer")},t._sendComplete=function(t){e.context.decodeAudioData(this._rawResult,createjs.proxy(this._handleAudioDecoded,this),createjs.proxy(this._sendError,this))},t._handleAudioDecoded=function(e){this._result=e,this.AbstractLoader__sendComplete()},createjs.WebAudioLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i,r){this.AbstractSoundInstance_constructor(e,t,i,r),this.gainNode=n.context.createGain(),this.panNode=n.context.createPanner(),this.panNode.panningModel=n._panningModel,this.panNode.connect(this.gainNode),this._updatePan(),this.sourceNode=null,this._soundCompleteTimeout=null,this._sourceNodeNext=null,this._playbackStartTime=0,this._endedHandler=createjs.proxy(this._handleSoundComplete,this)}var t=createjs.extend(e,createjs.AbstractSoundInstance),n=e;n.context=null,n._scratchBuffer=null,n.destinationNode=null,n._panningModel="equalpower",t.destroy=function(){this.AbstractSoundInstance_destroy(),this.panNode.disconnect(0),this.panNode=null,this.gainNode.disconnect(0),this.gainNode=null},t.toString=function(){return"[WebAudioSoundInstance]"},t._updatePan=function(){this.panNode.setPosition(this._pan,0,-.5)},t._removeLooping=function(e){this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)},t._addLooping=function(e){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},t._setDurationFromSource=function(){this._duration=1e3*this.playbackResource.duration},t._handleCleanUp=function(){this.sourceNode&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout),this._playbackStartTime=0},t._cleanUpAudioNode=function(e){if(e){e.stop(0),e.disconnect(0);try{e.buffer=n._scratchBuffer}catch(e){}e=null}return e},t._handleSoundReady=function(e){this.gainNode.connect(n.destinationNode);var t=.001*this._duration,i=.001*this._position;i>t&&(i=t),this.sourceNode=this._createAndPlayAudioNode(n.context.currentTime-t,i),this._playbackStartTime=this.sourceNode.startTime-i,this._soundCompleteTimeout=setTimeout(this._endedHandler,1e3*(t-i)),0!=this._loop&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},t._createAndPlayAudioNode=function(e,t){var i=n.context.createBufferSource();i.buffer=this.playbackResource,i.connect(this.panNode);var r=.001*this._duration;return i.startTime=e+r,i.start(i.startTime,t+.001*this._startTime,r-t),i},t._pause=function(){this._position=1e3*(n.context.currentTime-this._playbackStartTime),this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout)},t._resume=function(){this._handleSoundReady()},t._updateVolume=function(){var e=this._muted?0:this._volume;e!=this.gainNode.gain.value&&(this.gainNode.gain.value=e)},t._calculateCurrentPosition=function(){return 1e3*(n.context.currentTime-this._playbackStartTime)},t._updatePosition=function(){this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),clearTimeout(this._soundCompleteTimeout),this._paused||this._handleSoundReady()},t._handleLoop=function(){this._cleanUpAudioNode(this.sourceNode),this.sourceNode=this._sourceNodeNext,this._playbackStartTime=this.sourceNode.startTime,this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0),this._soundCompleteTimeout=setTimeout(this._endedHandler,this._duration)},t._updateDuration=function(){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._pause(),this._resume())},createjs.WebAudioSoundInstance=createjs.promote(e,"AbstractSoundInstance")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this.AbstractPlugin_constructor(),this._panningModel=n._panningModel,this.context=n.context,this.dynamicsCompressorNode=this.context.createDynamicsCompressor(),this.dynamicsCompressorNode.connect(this.context.destination),this.gainNode=this.context.createGain(),this.gainNode.connect(this.dynamicsCompressorNode),createjs.WebAudioSoundInstance.destinationNode=this.gainNode,this._capabilities=n._capabilities,this._loaderClass=createjs.WebAudioLoader,this._soundInstanceClass=createjs.WebAudioSoundInstance,this._addPropsToClasses()}var t=createjs.extend(e,createjs.AbstractPlugin),n=e;n._capabilities=null,n._panningModel="equalpower",n.context=null,n._scratchBuffer=null,n._unlocked=!1,n.isSupported=function(){var e=createjs.BrowserDetect.isIOS||createjs.BrowserDetect.isAndroid||createjs.BrowserDetect.isBlackberry;return!("file:"==location.protocol&&!e&&!this._isFileXHRSupported())&&(n._generateCapabilities(),null!=n.context)},n.playEmptySound=function(){if(null!=n.context){var e=n.context.createBufferSource();e.buffer=n._scratchBuffer,e.connect(n.context.destination),e.start(0,0,0)}},n._isFileXHRSupported=function(){var e=!0,t=new XMLHttpRequest;try{t.open("GET","WebAudioPluginTest.fail",!1)}catch(t){return e=!1}t.onerror=function(){e=!1},t.onload=function(){e=404==this.status||200==this.status||0==this.status&&""!=this.response};try{t.send()}catch(t){e=!1}return e},n._generateCapabilities=function(){if(null==n._capabilities){var e=document.createElement("audio");if(null==e.canPlayType)return null;if(null==n.context)if(window.AudioContext)n.context=new AudioContext;else{if(!window.webkitAudioContext)return null;n.context=new webkitAudioContext}null==n._scratchBuffer&&(n._scratchBuffer=n.context.createBuffer(1,1,22050)),n._compatibilitySetUp(),"ontouchstart"in window&&"running"!=n.context.state&&(n._unlock(),document.addEventListener("mousedown",n._unlock,!0),document.addEventListener("touchend",n._unlock,!0)),n._capabilities={panning:!0,volume:!0,tracks:-1};for(var t=createjs.Sound.SUPPORTED_EXTENSIONS,i=createjs.Sound.EXTENSION_MAP,r=0,s=t.length;s>r;r++){var a=t[r],o=i[a]||a;n._capabilities[a]="no"!=e.canPlayType("audio/"+a)&&""!=e.canPlayType("audio/"+a)||"no"!=e.canPlayType("audio/"+o)&&""!=e.canPlayType("audio/"+o)}n.context.destination.numberOfChannels<2&&(n._capabilities.panning=!1)}},n._compatibilitySetUp=function(){if(n._panningModel="equalpower",!n.context.createGain){n.context.createGain=n.context.createGainNode;var e=n.context.createBufferSource();e.__proto__.start=e.__proto__.noteGrainOn,e.__proto__.stop=e.__proto__.noteOff,n._panningModel=0}},n._unlock=function(){n._unlocked||(n.playEmptySound(),"running"==n.context.state&&(document.removeEventListener("mousedown",n._unlock,!0),document.removeEventListener("touchend",n._unlock,!0),n._unlocked=!0))},t.toString=function(){return"[WebAudioPlugin]"},t._addPropsToClasses=function(){var e=this._soundInstanceClass;e.context=this.context,e._scratchBuffer=n._scratchBuffer,e.destinationNode=this.gainNode,e._panningModel=this._panningModel,this._loaderClass.context=this.context},t._updateVolume=function(){var e=createjs.Sound._masterMute?0:this._volume;e!=this.gainNode.gain.value&&(this.gainNode.gain.value=e)},createjs.WebAudioPlugin=createjs.promote(e,"AbstractPlugin")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"HTMLAudioTagPool cannot be instantiated"}function t(e){this._tags=[]}var n=e;n._tags={},n._tagPool=new t,n._tagUsed={},n.get=function(e){var t=n._tags[e];return null==t?(t=n._tags[e]=n._tagPool.get()).src=e:n._tagUsed[e]?(t=n._tagPool.get()).src=e:n._tagUsed[e]=!0,t},n.set=function(e,t){t==n._tags[e]?n._tagUsed[e]=!1:n._tagPool.set(t)},n.remove=function(e){var t=n._tags[e];return null!=t&&(n._tagPool.set(t),delete n._tags[e],delete n._tagUsed[e],!0)},n.getDuration=function(e){var t=n._tags[e];return null!=t&&t.duration?1e3*t.duration:0},createjs.HTMLAudioTagPool=e;var i=t.prototype;i.constructor=t,i.get=function(){var e;return null==(e=0==this._tags.length?this._createTag():this._tags.pop()).parentNode&&document.body.appendChild(e),e},i.set=function(e){-1==createjs.indexOf(this._tags,e)&&(this._tags.src=null,this._tags.push(e))},i.toString=function(){return"[TagPool]"},i._createTag=function(){var e=document.createElement("audio");return e.autoplay=!1,e.preload="none",e}}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,n,i){this.AbstractSoundInstance_constructor(e,t,n,i),this._audioSpriteStopTime=null,this._delayTimeoutId=null,this._endedHandler=createjs.proxy(this._handleSoundComplete,this),this._readyHandler=createjs.proxy(this._handleTagReady,this),this._stalledHandler=createjs.proxy(this._playFailed,this),this._audioSpriteEndHandler=createjs.proxy(this._handleAudioSpriteLoop,this),this._loopHandler=createjs.proxy(this._handleSoundComplete,this),n?this._audioSpriteStopTime=.001*(t+n):this._duration=createjs.HTMLAudioTagPool.getDuration(this.src)}var t=createjs.extend(e,createjs.AbstractSoundInstance);t.setMasterVolume=function(e){this._updateVolume()},t.setMasterMute=function(e){this._updateVolume()},t.toString=function(){return"[HTMLAudioSoundInstance]"},t._removeLooping=function(){null!=this._playbackResource&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},t._addLooping=function(){null==this._playbackResource||this._audioSpriteStopTime||(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)},t._handleCleanUp=function(){var e=this._playbackResource;if(null!=e){e.pause(),e.loop=!1,e.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),e.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),e.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),e.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),e.removeEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1);try{e.currentTime=this._startTime}catch(e){}createjs.HTMLAudioTagPool.set(this.src,e),this._playbackResource=null}},t._beginPlaying=function(e){return this._playbackResource=createjs.HTMLAudioTagPool.get(this.src),this.AbstractSoundInstance__beginPlaying(e)},t._handleSoundReady=function(e){if(4!==this._playbackResource.readyState){var t=this._playbackResource;return t.addEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),t.addEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),t.preload="auto",void t.load()}this._updateVolume(),this._playbackResource.currentTime=.001*(this._startTime+this._position),this._audioSpriteStopTime?this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1):(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),0!=this._loop&&(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)),this._playbackResource.play()},t._handleTagReady=function(e){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),this._handleSoundReady()},t._pause=function(){this._playbackResource.pause()},t._resume=function(){this._playbackResource.play()},t._updateVolume=function(){if(null!=this._playbackResource){var e=this._muted||createjs.Sound._masterMute?0:this._volume*createjs.Sound._masterVolume;e!=this._playbackResource.volume&&(this._playbackResource.volume=e)}},t._calculateCurrentPosition=function(){return 1e3*this._playbackResource.currentTime-this._startTime},t._updatePosition=function(){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1);try{this._playbackResource.currentTime=.001*(this._position+this._startTime)}catch(e){this._handleSetPositionSeek(null)}},t._handleSetPositionSeek=function(e){null!=this._playbackResource&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},t._handleAudioSpriteLoop=function(e){this._playbackResource.currentTime<=this._audioSpriteStopTime||(this._playbackResource.pause(),0==this._loop?this._handleSoundComplete(null):(this._position=0,this._loop--,this._playbackResource.currentTime=.001*this._startTime,this._paused||this._playbackResource.play(),this._sendEvent("loop")))},t._handleLoop=function(e){0==this._loop&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},t._updateStartTime=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},t._updateDuration=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},t._setDurationFromSource=function(){this._duration=createjs.HTMLAudioTagPool.getDuration(this.src),this._playbackResource=null},createjs.HTMLAudioSoundInstance=createjs.promote(e,"AbstractSoundInstance")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this.AbstractPlugin_constructor(),this.defaultNumChannels=2,this._capabilities=n._capabilities,this._loaderClass=createjs.SoundLoader,this._soundInstanceClass=createjs.HTMLAudioSoundInstance}var t=createjs.extend(e,createjs.AbstractPlugin),n=e;n.MAX_INSTANCES=30,n._AUDIO_READY="canplaythrough",n._AUDIO_ENDED="ended",n._AUDIO_SEEKED="seeked",n._AUDIO_STALLED="stalled",n._TIME_UPDATE="timeupdate",n._capabilities=null,n.isSupported=function(){return n._generateCapabilities(),null!=n._capabilities},n._generateCapabilities=function(){if(null==n._capabilities){var e=document.createElement("audio");if(null==e.canPlayType)return null;n._capabilities={panning:!1,volume:!0,tracks:-1};for(var t=createjs.Sound.SUPPORTED_EXTENSIONS,i=createjs.Sound.EXTENSION_MAP,r=0,s=t.length;s>r;r++){var a=t[r],o=i[a]||a;n._capabilities[a]="no"!=e.canPlayType("audio/"+a)&&""!=e.canPlayType("audio/"+a)||"no"!=e.canPlayType("audio/"+o)&&""!=e.canPlayType("audio/"+o)}}},t.register=function(e){var t=createjs.HTMLAudioTagPool.get(e.src),n=this.AbstractPlugin_register(e);return n.setTag(t),n},t.removeSound=function(e){this.AbstractPlugin_removeSound(e),createjs.HTMLAudioTagPool.remove(e)},t.create=function(e,t,n){var i=this.AbstractPlugin_create(e,t,n);return i.setPlaybackResource(null),i},t.toString=function(){return"[HTMLAudioPlugin]"},t.setVolume=t.getVolume=t.setMute=null,createjs.HTMLAudioPlugin=createjs.promote(e,"AbstractPlugin")}(),this.createjs=this.createjs||{},function(){"use strict";function e(t,n,i){this.ignoreGlobalPause=!1,this.loop=!1,this.duration=0,this.pluginData=i||{},this.target=t,this.position=null,this.passive=!1,this._paused=!1,this._curQueueProps={},this._initQueueProps={},this._steps=[],this._actions=[],this._prevPosition=0,this._stepPosition=0,this._prevPos=-1,this._target=t,this._useTicks=!1,this._inited=!1,this._registered=!1,n&&(this._useTicks=n.useTicks,this.ignoreGlobalPause=n.ignoreGlobalPause,this.loop=n.loop,n.onChange&&this.addEventListener("change",n.onChange),n.override&&e.removeTweens(t)),n&&n.paused?this._paused=!0:createjs.Tween._register(this,!0),n&&null!=n.position&&this.setPosition(n.position,e.NONE)}var t=createjs.extend(e,createjs.EventDispatcher);e.NONE=0,e.LOOP=1,e.REVERSE=2,e.IGNORE={},e._tweens=[],e._plugins={},e.get=function(t,n,i,r){return r&&e.removeTweens(t),new e(t,n,i)},e.tick=function(t,n){for(var i=e._tweens.slice(),r=i.length-1;r>=0;r--){var s=i[r];n&&!s.ignoreGlobalPause||s._paused||s.tick(s._useTicks?1:t)}},e.handleEvent=function(e){"tick"==e.type&&this.tick(e.delta,e.paused)},e.removeTweens=function(t){if(t.tweenjs_count){for(var n=e._tweens,i=n.length-1;i>=0;i--){var r=n[i];r._target==t&&(r._paused=!0,n.splice(i,1))}t.tweenjs_count=0}},e.removeAllTweens=function(){for(var t=e._tweens,n=0,i=t.length;i>n;n++){var r=t[n];r._paused=!0,r.target&&(r.target.tweenjs_count=0)}t.length=0},e.hasActiveTweens=function(t){return t?null!=t.tweenjs_count&&!!t.tweenjs_count:e._tweens&&!!e._tweens.length},e.installPlugin=function(t,n){var i=t.priority;null==i&&(t.priority=i=0);for(var r=0,s=n.length,a=e._plugins;s>r;r++){var o=n[r];if(a[o]){for(var c=a[o],l=0,u=c.length;u>l&&!(i<c[l].priority);l++);a[o].splice(l,0,t)}else a[o]=[t]}},e._register=function(t,n){var i=t._target,r=e._tweens;if(n&&!t._registered)i&&(i.tweenjs_count=i.tweenjs_count?i.tweenjs_count+1:1),r.push(t),!e._inited&&createjs.Ticker&&(createjs.Ticker.addEventListener("tick",e),e._inited=!0);else if(!n&&t._registered){i&&i.tweenjs_count--;for(var s=r.length;s--;)if(r[s]==t){r.splice(s,1);break}}t._registered=n},t.wait=function(e,t){if(null==e||0>=e)return this;var n=this._cloneProps(this._curQueueProps);return this._addStep({d:e,p0:n,e:this._linearEase,p1:n,v:t})},t.to=function(e,t,n){return(isNaN(t)||0>t)&&(t=0),this._addStep({d:t||0,p0:this._cloneProps(this._curQueueProps),e:n,p1:this._cloneProps(this._appendQueueProps(e))})},t.call=function(e,t,n){return this._addAction({f:e,p:t||[this],o:n||this._target})},t.set=function(e,t){return this._addAction({f:this._set,o:this,p:[e,t||this._target]})},t.play=function(e){return e||(e=this),this.call(e.setPaused,[!1],e)},t.pause=function(e){return e||(e=this),this.call(e.setPaused,[!0],e)},t.setPosition=function(e,t){0>e&&(e=0),null==t&&(t=1);var n=e,i=!1;if(n>=this.duration&&(this.loop?n%=this.duration:(n=this.duration,i=!0)),n==this._prevPos)return i;var r=this._prevPos;if(this.position=this._prevPos=n,this._prevPosition=e,this._target)if(i)this._updateTargetProps(null,1);else if(this._steps.length>0){for(var s=0,a=this._steps.length;a>s&&!(this._steps[s].t>n);s++);var o=this._steps[s-1];this._updateTargetProps(o,(this._stepPosition=n-o.t)/o.d)}return 0!=t&&this._actions.length>0&&(this._useTicks?this._runActions(n,n):1==t&&r>n?(r!=this.duration&&this._runActions(r,this.duration),this._runActions(0,n,!0)):this._runActions(r,n)),i&&this.setPaused(!0),this.dispatchEvent("change"),i},t.tick=function(e){this._paused||this.setPosition(this._prevPosition+e)},t.setPaused=function(t){return this._paused===!!t?this:(this._paused=!!t,e._register(this,!t),this)},t.w=t.wait,t.t=t.to,t.c=t.call,t.s=t.set,t.toString=function(){return"[Tween]"},t.clone=function(){throw"Tween can not be cloned."},t._updateTargetProps=function(t,n){var i,r,s,a,o,c;if(t||1!=n){if(this.passive=!!t.v,this.passive)return;t.e&&(n=t.e(n,0,1,1)),i=t.p0,r=t.p1}else this.passive=!1,i=r=this._curQueueProps;for(var l in this._initQueueProps){null==(a=i[l])&&(i[l]=a=this._initQueueProps[l]),null==(o=r[l])&&(r[l]=o=a),s=a==o||0==n||1==n||"number"!=typeof a?1==n?o:a:a+(o-a)*n;var u=!1;if(c=e._plugins[l])for(var h=0,d=c.length;d>h;h++){var _=c[h].tween(this,l,s,i,r,n,!!t&&i==r,!t);_==e.IGNORE?u=!0:s=_}u||(this._target[l]=s)}},t._runActions=function(e,t,n){var i=e,r=t,s=-1,a=this._actions.length,o=1;for(e>t&&(i=t,r=e,s=a,a=o=-1);(s+=o)!=a;){var c=this._actions[s],l=c.t;(l==r||l>i&&r>l||n&&l==e)&&c.f.apply(c.o,c.p)}},t._appendQueueProps=function(t){var n,i,r,s,a;for(var o in t)if(void 0===this._initQueueProps[o]){if(i=this._target[o],n=e._plugins[o])for(r=0,s=n.length;s>r;r++)i=n[r].init(this,o,i);this._initQueueProps[o]=this._curQueueProps[o]=void 0===i?null:i}else i=this._curQueueProps[o];for(var o in t){if(i=this._curQueueProps[o],n=e._plugins[o])for(a=a||{},r=0,s=n.length;s>r;r++)n[r].step&&n[r].step(this,o,i,t[o],a);this._curQueueProps[o]=t[o]}return a&&this._appendQueueProps(a),this._curQueueProps},t._cloneProps=function(e){var t={};for(var n in e)t[n]=e[n];return t},t._addStep=function(e){return e.d>0&&(this._steps.push(e),e.t=this.duration,this.duration+=e.d),this},t._addAction=function(e){return e.t=this.duration,this._actions.push(e),this},t._set=function(e,t){for(var n in e)t[n]=e[n]},createjs.Tween=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,n){this.EventDispatcher_constructor(),this.ignoreGlobalPause=!1,this.duration=0,this.loop=!1,this.position=null,this._paused=!1,this._tweens=[],this._labels=null,this._labelList=null,this._prevPosition=0,this._prevPos=-1,this._useTicks=!1,this._registered=!1,n&&(this._useTicks=n.useTicks,this.loop=n.loop,this.ignoreGlobalPause=n.ignoreGlobalPause,n.onChange&&this.addEventListener("change",n.onChange)),e&&this.addTween.apply(this,e),this.setLabels(t),n&&n.paused?this._paused=!0:createjs.Tween._register(this,!0),n&&null!=n.position&&this.setPosition(n.position,createjs.Tween.NONE)}var t=createjs.extend(e,createjs.EventDispatcher);t.addTween=function(e){var t=arguments.length;if(t>1){for(var n=0;t>n;n++)this.addTween(arguments[n]);return arguments[0]}return 0==t?null:(this.removeTween(e),this._tweens.push(e),e.setPaused(!0),e._paused=!1,e._useTicks=this._useTicks,e.duration>this.duration&&(this.duration=e.duration),this._prevPos>=0&&e.setPosition(this._prevPos,createjs.Tween.NONE),e)},t.removeTween=function(e){var t=arguments.length;if(t>1){for(var n=!0,i=0;t>i;i++)n=n&&this.removeTween(arguments[i]);return n}if(0==t)return!1;var r=this._tweens;for(i=r.length;i--;)if(r[i]==e)return r.splice(i,1),e.duration>=this.duration&&this.updateDuration(),!0;return!1},t.addLabel=function(e,t){this._labels[e]=t;var n=this._labelList;if(n){for(var i=0,r=n.length;r>i&&!(t<n[i].position);i++);n.splice(i,0,{label:e,position:t})}},t.setLabels=function(e){this._labels=e||{}},t.getLabels=function(){var e=this._labelList;if(!e){e=this._labelList=[];var t=this._labels;for(var n in t)e.push({label:n,position:t[n]});e.sort(function(e,t){return e.position-t.position})}return e},t.getCurrentLabel=function(){var e=this.getLabels(),t=this.position,n=e.length;if(n){for(var i=0;n>i&&!(t<e[i].position);i++);return 0==i?null:e[i-1].label}return null},t.gotoAndPlay=function(e){this.setPaused(!1),this._goto(e)},t.gotoAndStop=function(e){this.setPaused(!0),this._goto(e)},t.setPosition=function(e,t){var n=this._calcPosition(e),i=!this.loop&&e>=this.duration;if(n==this._prevPos)return i;this._prevPosition=e,this.position=this._prevPos=n;for(var r=0,s=this._tweens.length;s>r;r++)if(this._tweens[r].setPosition(n,t),n!=this._prevPos)return!1;return i&&this.setPaused(!0),this.dispatchEvent("change"),i},t.setPaused=function(e){this._paused=!!e,createjs.Tween._register(this,!e)},t.updateDuration=function(){this.duration=0;for(var e=0,t=this._tweens.length;t>e;e++){var n=this._tweens[e];n.duration>this.duration&&(this.duration=n.duration)}},t.tick=function(e){this.setPosition(this._prevPosition+e)},t.resolve=function(e){var t=Number(e);return isNaN(t)&&(t=this._labels[e]),t},t.toString=function(){return"[Timeline]"},t.clone=function(){throw"Timeline can not be cloned."},t._goto=function(e){var t=this.resolve(e);null!=t&&this.setPosition(t)},t._calcPosition=function(e){return 0>e?0:e<this.duration?e:this.loop?e%this.duration:this.duration},createjs.Timeline=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"Ease cannot be instantiated."}e.linear=function(e){return e},e.none=e.linear,e.get=function(e){return-1>e&&(e=-1),e>1&&(e=1),function(t){return 0==e?t:0>e?t*(t*-e+1+e):t*((2-t)*e+(1-e))}},e.getPowIn=function(e){return function(t){return Math.pow(t,e)}},e.getPowOut=function(e){return function(t){return 1-Math.pow(1-t,e)}},e.getPowInOut=function(e){return function(t){return(t*=2)<1?.5*Math.pow(t,e):1-.5*Math.abs(Math.pow(2-t,e))}},e.quadIn=e.getPowIn(2),e.quadOut=e.getPowOut(2),e.quadInOut=e.getPowInOut(2),e.cubicIn=e.getPowIn(3),e.cubicOut=e.getPowOut(3),e.cubicInOut=e.getPowInOut(3),e.quartIn=e.getPowIn(4),e.quartOut=e.getPowOut(4),e.quartInOut=e.getPowInOut(4),e.quintIn=e.getPowIn(5),e.quintOut=e.getPowOut(5),e.quintInOut=e.getPowInOut(5),e.sineIn=function(e){return 1-Math.cos(e*Math.PI/2)},e.sineOut=function(e){return Math.sin(e*Math.PI/2)},e.sineInOut=function(e){return-.5*(Math.cos(Math.PI*e)-1)},e.getBackIn=function(e){return function(t){return t*t*((e+1)*t-e)}},e.backIn=e.getBackIn(1.7),e.getBackOut=function(e){return function(t){return--t*t*((e+1)*t+e)+1}},e.backOut=e.getBackOut(1.7),e.getBackInOut=function(e){return e*=1.525,function(t){return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},e.backInOut=e.getBackInOut(1.7),e.circIn=function(e){return-(Math.sqrt(1-e*e)-1)},e.circOut=function(e){return Math.sqrt(1- --e*e)},e.circInOut=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},e.bounceIn=function(t){return 1-e.bounceOut(1-t)},e.bounceOut=function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},e.bounceInOut=function(t){return.5>t?.5*e.bounceIn(2*t):.5*e.bounceOut(2*t-1)+.5},e.getElasticIn=function(e,t){var n=2*Math.PI;return function(i){if(0==i||1==i)return i;var r=t/n*Math.asin(1/e);return-e*Math.pow(2,10*(i-=1))*Math.sin((i-r)*n/t)}},e.elasticIn=e.getElasticIn(1,.3),e.getElasticOut=function(e,t){var n=2*Math.PI;return function(i){if(0==i||1==i)return i;var r=t/n*Math.asin(1/e);return e*Math.pow(2,-10*i)*Math.sin((i-r)*n/t)+1}},e.elasticOut=e.getElasticOut(1,.3),e.getElasticInOut=function(e,t){var n=2*Math.PI;return function(i){var r=t/n*Math.asin(1/e);return(i*=2)<1?e*Math.pow(2,10*(i-=1))*Math.sin((i-r)*n/t)*-.5:e*Math.pow(2,-10*(i-=1))*Math.sin((i-r)*n/t)*.5+1}},e.elasticInOut=e.getElasticInOut(1,.3*1.5),createjs.Ease=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"MotionGuidePlugin cannot be instantiated."}e.priority=0,e._rotOffS,e._rotOffE,e._rotNormS,e._rotNormE,e.install=function(){return createjs.Tween.installPlugin(e,["guide","x","y","rotation"]),createjs.Tween.IGNORE},e.init=function(e,t,n){var i=e.target;return i.hasOwnProperty("x")||(i.x=0),i.hasOwnProperty("y")||(i.y=0),i.hasOwnProperty("rotation")||(i.rotation=0),"rotation"==t&&(e.__needsRot=!0),"guide"==t?null:n},e.step=function(t,n,i,r,s){if("rotation"==n&&(t.__rotGlobalS=i,t.__rotGlobalE=r,e.testRotData(t,s)),"guide"!=n)return r;var a,o=r;o.hasOwnProperty("path")||(o.path=[]);var c=o.path;if(o.hasOwnProperty("end")||(o.end=1),o.hasOwnProperty("start")||(o.start=i&&i.hasOwnProperty("end")&&i.path===c?i.end:0),o.hasOwnProperty("_segments")&&o._length)return r;var l=c.length;if(!(l>=6&&(l-2)%4==0))throw"invalid 'path' data, please see documentation for valid paths";o._segments=[],o._length=0;for(var u=2;l>u;u+=4){for(var h,d,_=c[u-2],f=c[u-1],p=c[u+0],g=c[u+1],m=c[u+2],v=c[u+3],b=_,y=f,x=0,S=[],w=1;10>=w;w++){var E=w/10,T=1-E;h=T*T*_+2*T*E*p+E*E*m,d=T*T*f+2*T*E*g+E*E*v,x+=S[S.push(Math.sqrt((a=h-b)*a+(a=d-y)*a))-1],b=h,y=d}o._segments.push(x),o._segments.push(S),o._length+=x}a=o.orient,o.orient=!0;var A={};return e.calc(o,o.start,A),t.__rotPathS=Number(A.rotation.toFixed(5)),e.calc(o,o.end,A),t.__rotPathE=Number(A.rotation.toFixed(5)),o.orient=!1,e.calc(o,o.end,s),o.orient=a,o.orient?(t.__guideData=o,e.testRotData(t,s),r):r},e.testRotData=function(e,t){if(void 0===e.__rotGlobalS||void 0===e.__rotGlobalE){if(e.__needsRot)return;void 0!==e._curQueueProps.rotation?e.__rotGlobalS=e.__rotGlobalE=e._curQueueProps.rotation:e.__rotGlobalS=e.__rotGlobalE=t.rotation=e.target.rotation||0}if(void 0!==e.__guideData){var n=e.__guideData,i=e.__rotGlobalE-e.__rotGlobalS,r=e.__rotPathE-e.__rotPathS,s=i-r;if("auto"==n.orient)s>180?s-=360:-180>s&&(s+=360);else if("cw"==n.orient){for(;0>s;)s+=360;0==s&&i>0&&180!=i&&(s+=360)}else if("ccw"==n.orient){for(s=i-(r>180?360-r:r);s>0;)s-=360;0==s&&0>i&&-180!=i&&(s-=360)}n.rotDelta=s,n.rotOffS=e.__rotGlobalS-e.__rotPathS,e.__rotGlobalS=e.__rotGlobalE=e.__guideData=e.__needsRot=void 0}},e.tween=function(t,n,i,r,s,a,o,c){var l=s.guide;if(void 0==l||l===r.guide)return i;if(l.lastRatio!=a){var u=(l.end-l.start)*(o?l.end:a)+l.start;switch(e.calc(l,u,t.target),l.orient){case"cw":case"ccw":case"auto":t.target.rotation+=l.rotOffS+l.rotDelta*a;break;case"fixed":default:t.target.rotation+=l.rotOffS}l.lastRatio=a}return"rotation"!=n||l.orient&&"false"!=l.orient?t.target[n]:i},e.calc=function(e,t,n){if(void 0==e._segments)throw"Missing critical pre-calculated information, please file a bug";void 0==n&&(n={x:0,y:0,rotation:0});for(var i=e._segments,r=e.path,s=e._length*t,a=i.length-2,o=0;s>i[o]&&a>o;)s-=i[o],o+=2;var c=i[o+1],l=0;for(a=c.length-1;s>c[l]&&a>l;)s-=c[l],l++;var u=l/++a+s/(a*c[l]);o=2*o+2;var h=1-u;return n.x=h*h*r[o-2]+2*h*u*r[o+0]+u*u*r[o+2],n.y=h*h*r[o-1]+2*h*u*r[o+1]+u*u*r[o+3],e.orient&&(n.rotation=57.2957795*Math.atan2((r[o+1]-r[o-1])*h+(r[o+3]-r[o+1])*u,(r[o+0]-r[o-2])*h+(r[o+2]-r[o+0])*u)),n},createjs.MotionGuidePlugin=e}(),this.createjs=this.createjs||{},function(){"use strict";var e=createjs.TweenJS=createjs.TweenJS||{};e.version="0.6.2",e.buildDate="Thu, 26 Nov 2015 20:44:31 GMT"}();var s_oCanvasLeft,s_oCanvasTop,s_iScaleFactor=1,s_iOffsetX=0,s_iOffsetY=0,s_bIsIphone=!1;function trace(e){console.log(e)}function isChrome(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}function isIOS(){var e=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"];for(-1!==navigator.userAgent.toLowerCase().indexOf("iphone")&&(s_bIsIphone=!0);e.length;)if(navigator.platform===e.pop())return!0;return s_bIsIphone=!1,!1}function getSize(e){var t,n=e.toLowerCase(),i=window.document,r=i.documentElement;if(void 0===window["inner"+e])t=r["client"+e];else if(window["inner"+e]!=r["client"+e]){var s=i.createElement("body");s.id="vpw-test-b",s.style.cssText="overflow:scroll";var a=i.createElement("div");a.id="vpw-test-d",a.style.cssText="position:absolute;top:-1000px",a.innerHTML="<style>@media("+n+":"+r["client"+e]+"px){body#vpw-test-b div#vpw-test-d{"+n+":7px!important}}</style>",s.appendChild(a),r.insertBefore(s,i.head),t=7==a["offset"+e]?r["client"+e]:window["inner"+e],r.removeChild(s)}else t=window["inner"+e];return t}function onOrientationChange(){window.matchMedia("(orientation: portrait)").matches&&sizeHandler(),window.matchMedia("(orientation: landscape)").matches&&sizeHandler()}function getIOSWindowHeight(){var e=document.documentElement.clientWidth/window.innerWidth;return window.innerHeight*e}function getHeightOfIOSToolbars(){var e=(0===window.orientation?screen.height:screen.width)-getIOSWindowHeight();return e>1?e:0}function sizeHandler(){if(window.scrollTo(0,1),$("#canvas")){var e;e="safari"===platform.name.toLowerCase()?getIOSWindowHeight():getSize("Height");var t=getSize("Width");_checkOrientation(t,e);var n=Math.min(e/CANVAS_HEIGHT,t/CANVAS_WIDTH),i=CANVAS_WIDTH*n,r=CANVAS_HEIGHT*n,s=0;r<e?(r+=s=e-r,i+=s*(CANVAS_WIDTH/CANVAS_HEIGHT)):i<t&&(i+=s=t-i,r+=s*(CANVAS_HEIGHT/CANVAS_WIDTH));var a=e/2-r/2,o=t/2-i/2,c=CANVAS_WIDTH/i;if((o*c<-EDGEBOARD_X||a*c<-EDGEBOARD_Y)&&(n=Math.min(e/(CANVAS_HEIGHT-2*EDGEBOARD_Y),t/(CANVAS_WIDTH-2*EDGEBOARD_X)),a=(e-(r=CANVAS_HEIGHT*n))/2,o=(t-(i=CANVAS_WIDTH*n))/2,c=CANVAS_WIDTH/i),s_iOffsetX=-1*o*c,s_iOffsetY=-1*a*c,a>=0&&(s_iOffsetY=0),o>=0&&(s_iOffsetX=0),null!==s_oGame&&s_oGame.refreshButtonPos(),null!==s_oMenu&&s_oMenu.refreshButtonPos(),null!==s_oBetPanel&&s_oBetPanel.refreshButtonPos(),s_bIsIphone){canvas=document.getElementById("canvas"),s_oStage.canvas.width=2*i,s_oStage.canvas.height=2*r,canvas.style.width=i+"px",canvas.style.height=r+"px";var l=Math.min(i/CANVAS_WIDTH,r/CANVAS_HEIGHT);s_iScaleFactor=2*l,s_oStage.scaleX=s_oStage.scaleY=s_iScaleFactor}else s_bMobile||isChrome()?($("#canvas").css("width",i+"px"),$("#canvas").css("height",r+"px")):(s_oStage.canvas.width=i,s_oStage.canvas.height=r,s_iScaleFactor=Math.min(i/CANVAS_WIDTH,r/CANVAS_HEIGHT),s_oStage.scaleX=s_oStage.scaleY=s_iScaleFactor);a<0?$("#canvas").css("top",a+"px"):(a=(e-r)/2,$("#canvas").css("top",a+"px")),$("#canvas").css("left",o+"px"),fullscreenHandler()}}function _checkOrientation(e,t){s_bMobile&&ENABLE_CHECK_ORIENTATION&&(e>t?"landscape"===$(".orientation-msg-container").attr("data-orientation")?($(".orientation-msg-container").css("display","none"),s_oMain.startUpdate()):($(".orientation-msg-container").css("display","block"),s_oMain.stopUpdate()):"portrait"===$(".orientation-msg-container").attr("data-orientation")?($(".orientation-msg-container").css("display","none"),s_oMain.startUpdate()):($(".orientation-msg-container").css("display","block"),s_oMain.stopUpdate()))}function createBitmap(e,t,n){var i=new createjs.Bitmap(e),r=new createjs.Shape;return t&&n?r.graphics.beginFill("#fff").drawRect(0,0,t,n):r.graphics.beginFill("#ff0").drawRect(0,0,e.width,e.height),i.hitArea=r,i}function createSprite(e,t,n,i,r,s){if(null!==t)var a=new createjs.Sprite(e,t);else a=new createjs.Sprite(e);var o=new createjs.Shape;return o.graphics.beginFill("#000000").drawRect(-n,-i,r,s),a.hitArea=o,a}function randomFloatBetween(e,t,n){return void 0===n&&(n=2),parseFloat(Math.min(e+Math.random()*(t-e),t).toFixed(n))}function formatTime(e){e/=1e3;var t=Math.floor(e/60),n=Math.floor(e-60*t),i="";return i+=t<10?"0"+t+":":t+":",i+=n<10?"0"+n:n}function NoClickDelay(e){this.element=e,window.Touch&&this.element.addEventListener("touchstart",this,!1)}function shuffle(e){for(var t,n,i=e.length;i>0;)n=Math.floor(Math.random()*i),t=e[--i],e[i]=e[n],e[n]=t;return e}function ctlArcadeResume(){null!==s_oMain&&s_oMain.startUpdate()}function ctlArcadePause(){null!==s_oMain&&s_oMain.stopUpdate()}function getParamValue(e){for(var t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++){var i=t[n].split("=");if(i[0]==e)return i[1]}}function playSound(e,t,n){return!1===DISABLE_SOUND_MOBILE||!1===s_bMobile?(s_aSounds[e].play(),s_aSounds[e].volume(t),s_aSounds[e].loop(n),s_aSounds[e]):null}function stopSound(e){!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||s_aSounds[e].stop()}function setVolume(e,t){!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||s_aSounds[e].volume(t)}function setMute(e,t){!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||s_aSounds[e].mute(t)}function pauseSound(e){s_aSounds[e].pause()}function easeLinear(e,t,n,i){return n*e/i+t}function collisionWithCircle(e,t,n){var i=e.getX()-t.getX(),r=e.getY()-t.getY();return Math.sqrt(i*i+r*r)<e.getCollision()*n+t.getCollision()*n}function fullscreenHandler(){ENABLE_FULLSCREEN&&!1!==screenfull.enabled&&(s_bFullscreen=screenfull.isFullscreen,null!==s_oInterface&&s_oInterface.resetFullscreenBut(),null!==s_oMenu&&s_oMenu.resetFullscreenBut(),null!==s_oBetPanel&&s_oBetPanel.resetFullscreenBut())}function CSpriteLibrary(){var e,t,n,i,r,s,a={};this.init=function(a,o,c){e={},t=0,n=0,i=a,r=o,s=c},this.addSprite=function(n,i){if(!a.hasOwnProperty(n)){var r=new Image;a[n]=e[n]={szPath:i,oSprite:r,bLoaded:!1},t++}},this.getSprite=function(e){return a.hasOwnProperty(e)?a[e].oSprite:null},this._onSpritesLoaded=function(){t=0,r.call(s)},this._onSpriteLoaded=function(){i.call(s),++n===t&&this._onSpritesLoaded()},this.loadSprites=function(){for(var t in e)e[t].oSprite.oSpriteLibrary=this,e[t].oSprite.szKey=t,e[t].oSprite.onload=function(){this.oSpriteLibrary.setLoaded(this.szKey),this.oSpriteLibrary._onSpriteLoaded(this.szKey)},e[t].oSprite.onerror=function(t){var n=t.currentTarget;setTimeout(function(){e[n.szKey].oSprite.src=e[n.szKey].szPath},500)},e[t].oSprite.src=e[t].szPath},this.setLoaded=function(e){a[e].bLoaded=!0},this.isLoaded=function(e){return a[e].bLoaded},this.getNumSprites=function(){return t}}!function(e){(jQuery.browser=jQuery.browser||{}).mobile=/android|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(ad|hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|tablet|treo|up\.(browser|link)|vodafone|wap|webos|windows (ce|phone)|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|e\-|e\/|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\-|2|g)|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}(navigator.userAgent||navigator.vendor||window.opera),$(window).resize(function(){sizeHandler()}),window.addEventListener("orientationchange",onOrientationChange),NoClickDelay.prototype={handleEvent:function(e){switch(e.type){case"touchstart":this.onTouchStart(e);break;case"touchmove":this.onTouchMove(e);break;case"touchend":this.onTouchEnd(e)}},onTouchStart:function(e){e.preventDefault(),this.moved=!1,this.element.addEventListener("touchmove",this,!1),this.element.addEventListener("touchend",this,!1)},onTouchMove:function(e){this.moved=!0},onTouchEnd:function(e){if(this.element.removeEventListener("touchmove",this,!1),this.element.removeEventListener("touchend",this,!1),!this.moved){var t=document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY);3==t.nodeType&&(t=t.parentNode);var n=document.createEvent("MouseEvents");n.initEvent("click",!0,!0),t.dispatchEvent(n)}}},Array.prototype.sortOn=function(){var e=this.slice();if(!arguments.length)return e.sort();var t=Array.prototype.slice.call(arguments);return e.sort(function(e,n){for(var i=t.slice(),r=i.shift();e[r]==n[r]&&i.length;)r=i.shift();return e[r]==n[r]?0:e[r]>n[r]?1:-1})},function(){var e="hidden";function t(t){var n="visible",i="hidden",r={focus:n,focusin:n,pageshow:n,blur:i,focusout:i,pagehide:i};(t=t||window.event).type in r?document.body.className=r[t.type]:(document.body.className=this[e]?"hidden":"visible","hidden"===document.body.className?s_oMain.stopUpdate():s_oMain.startUpdate())}e in document?document.addEventListener("visibilitychange",t):(e="mozHidden")in document?document.addEventListener("mozvisibilitychange",t):(e="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",t):(e="msHidden")in document?document.addEventListener("msvisibilitychange",t):"onfocusin"in document?document.onfocusin=document.onfocusout=t:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=t}(),screenfull.enabled&&screenfull.on("change",function(){s_bFullscreen=screenfull.isFullscreen,null!==s_oInterface&&s_oInterface.resetFullscreenBut(),null!==s_oMenu&&s_oMenu.resetFullscreenBut(),null!==s_oBetPanel&&s_oBetPanel.resetFullscreenBut()});"use strict";(EngagedNation={Game:{},Config:{}}).Config.Game={},jQuery,EngagedNation.Config.Game={game_play_user_credits:500,game_play_min_bet:1,game_play_max_bet:1e6,game_play_number_of_race:3,game_play_is_unlimited_race:!1,game_play_is_forecast_enabled:!1,game_play_chip_01_value:1,game_play_chip_02_value:5,game_play_chip_03_value:10,game_play_chip_04_value:25,game_play_chip_05_value:50,game_play_chip_06_value:100,game_play_audio_enabled_on_startup:!1,audio_chip_mp3:"./assets/sounds/chip.mp3",audio_chip_ogg:"./assets/sounds/chip.ogg",audio_click_mp3:"./assets/sounds/click.mp3",audio_click_ogg:"./assets/sounds/click.ogg",audio_start_race_mp3:"./assets/sounds/start_race.mp3",audio_start_race_ogg:"./assets/sounds/start_race.ogg",audio_photo_mp3:"./assets/sounds/photo.mp3",audio_photo_ogg:"./assets/sounds/photo.ogg",audio_soundtrack_mp3:"./assets/sounds/soundtrack.mp3",audio_soundtrack_ogg:"./assets/sounds/soundtrack.ogg",audio_cash_out_mp3:"./assets/sounds/cash_out.mp3",audio_cash_out_ogg:"./assets/sounds/cash_out.ogg",game_play_horse_01_name:"tony",game_play_horse_01_win_bet:10,game_play_horse_01_place_bet:6,game_play_horse_01_show_bet:2,game_play_horse_02_name:"shannon",game_play_horse_02_win_bet:10,game_play_horse_02_place_bet:6,game_play_horse_02_show_bet:2,game_play_horse_03_name:"paul",game_play_horse_03_win_bet:10,game_play_horse_03_place_bet:6,game_play_horse_03_show_bet:2,game_play_horse_04_name:"jerry",game_play_horse_04_win_bet:10,game_play_horse_04_place_bet:6,game_play_horse_04_show_bet:2,game_play_horse_05_name:"raquel",game_play_horse_05_win_bet:10,game_play_horse_05_place_bet:6,game_play_horse_05_show_bet:2,game_play_horse_06_name:"brady",game_play_horse_06_win_bet:10,game_play_horse_06_place_bet:6,game_play_horse_06_show_bet:2,game_play_horse_07_name:"michael",game_play_horse_07_win_bet:10,game_play_horse_07_place_bet:6,game_play_horse_07_show_bet:2,game_play_horse_08_name:"jeri",game_play_horse_08_win_bet:10,game_play_horse_08_place_bet:6,game_play_horse_08_show_bet:2,game_play_forecast_01_02_win_bet:20,game_play_forecast_01_03_win_bet:20,game_play_forecast_01_04_win_bet:20,game_play_forecast_01_05_win_bet:20,game_play_forecast_01_06_win_bet:20,game_play_forecast_01_07_win_bet:20,game_play_forecast_01_08_win_bet:20,game_play_forecast_02_01_win_bet:20,game_play_forecast_02_03_win_bet:20,game_play_forecast_02_04_win_bet:20,game_play_forecast_02_05_win_bet:20,game_play_forecast_02_06_win_bet:20,game_play_forecast_02_07_win_bet:20,game_play_forecast_02_08_win_bet:20,game_play_forecast_03_01_win_bet:20,game_play_forecast_03_02_win_bet:20,game_play_forecast_03_04_win_bet:20,game_play_forecast_03_05_win_bet:20,game_play_forecast_03_06_win_bet:20,game_play_forecast_03_07_win_bet:20,game_play_forecast_03_08_win_bet:20,game_play_forecast_04_01_win_bet:20,game_play_forecast_04_02_win_bet:20,game_play_forecast_04_03_win_bet:20,game_play_forecast_04_05_win_bet:20,game_play_forecast_04_06_win_bet:20,game_play_forecast_04_07_win_bet:20,game_play_forecast_04_08_win_bet:20,game_play_forecast_05_01_win_bet:20,game_play_forecast_05_02_win_bet:20,game_play_forecast_05_03_win_bet:20,game_play_forecast_05_04_win_bet:20,game_play_forecast_05_06_win_bet:20,game_play_forecast_05_07_win_bet:20,game_play_forecast_05_08_win_bet:20,game_play_forecast_06_01_win_bet:20,game_play_forecast_06_02_win_bet:20,game_play_forecast_06_03_win_bet:20,game_play_forecast_06_04_win_bet:20,game_play_forecast_06_05_win_bet:20,game_play_forecast_06_07_win_bet:20,game_play_forecast_06_08_win_bet:20,game_play_forecast_07_01_win_bet:20,game_play_forecast_07_02_win_bet:20,game_play_forecast_07_03_win_bet:20,game_play_forecast_07_04_win_bet:20,game_play_forecast_07_05_win_bet:20,game_play_forecast_07_06_win_bet:20,game_play_forecast_07_08_win_bet:20,game_play_forecast_08_01_win_bet:20,game_play_forecast_08_02_win_bet:20,game_play_forecast_08_03_win_bet:20,game_play_forecast_08_04_win_bet:20,game_play_forecast_08_05_win_bet:20,game_play_forecast_08_06_win_bet:20,game_play_forecast_08_07_win_bet:20,img_bg_track:"./assets/sprites/background.jpg",img_audio_icon:"./assets/sprites/audio_icon.png",img_btn_exit:"./assets/sprites/but_exit.png",img_btn_continue:"./assets/sprites/but_skip.png",img_btn_collect:"./assets/sprites/but_collect.png",img_btn_arrow_left:"./assets/sprites/arrow_left.png",img_btn_arrow_right:"./assets/sprites/arrow_right.png",img_btn_start_race:"./assets/sprites/but_start_race.png",img_btn_start_race_unli:"./assets/sprites/but_start_race_infinity.png",img_btn_cash_out:"./assets/sprites/but_cash_out.png",img_btn_clear_bet:"./assets/sprites/but_clear_bet.png",img_msg_box:"./assets/sprites/msg_box.png",img_fiche_01:"./assets/sprites/fiche_0.png",img_fiche_02:"./assets/sprites/fiche_1.png",img_fiche_03:"./assets/sprites/fiche_2.png",img_fiche_04:"./assets/sprites/fiche_3.png",img_fiche_05:"./assets/sprites/fiche_4.png",img_fiche_06:"./assets/sprites/fiche_5.png",img_fiche_highlight:"./assets/sprites/fiche_highlight.png",img_fiche_panel:"./assets/sprites/fiche_panel.png",img_bet_panel:"./assets/sprites/bg_bet_panel.jpg",img_money_panel:"./assets/sprites/money_panel.png",img_simple_bet_panel:"./assets/sprites/simple_bet_panel.png",img_forecast_panel:"./assets/sprites/forecast_panel.png",img_odd:"./assets/sprites/odd_bg.png",img_rank_panel:"./assets/sprites/rank_panel.png",img_panel_arrival:"./assets/sprites/panel_arrival.png",img_bet_place:"./assets/sprites/bet_place.png",img_bibs:"./assets/sprites/bibs.png",img_fill_bar:"./assets/sprites/fill_bar.png",img_win_panel:"./assets/sprites/win_panel.png",img_lose_panel:"./assets/sprites/lose_panel.png",img_instruction_panel:"./assets/sprites/instruction_box.png",text_general_font_family:"impactregular",text_button_cash_out:"CASH OUT",text_button_cash_out_font_color:"lime",text_button_cash_out_font_size:24,text_button_clear:"CLEAR BET",text_button_clear_font_color:"#fff",text_button_clear_font_size:24,text_not_enough_credits:"NOT ENOUGH CREDITS!!",text_bet_low:"PLACE YOUR BET! MUST BE GREATER THAN MIN BET!",text_bet_high:"YOUR BET MUST BE LOWER THAN MAX BET!",text_bet_win:"WIN",text_currency:"",text_bet_win_panel:"WIN",text_bet_win_panel_font_color:"#ffde00",text_bet_win_panel_font_family:"ds-digitalbold",text_bet_win_panel_font_size:30,text_bet_win_panel_value_forecast:"FORECAST",text_bet_win_panel_value_font_color:"#fff",text_bet_win_panel_value_font_size:20,text_bet_win_list_font_color:"#ffb400",text_bet_win_list_font_size:20,text_bet_lose_panel:"Sorry! You did not win",text_bet_lose_panel_font_color:"#fff",text_bet_lose_panel_font_size:34,text_message_box_font_color:"#fff",text_message_box_font_size:34,text_bet_left_panel_trap:"HORSE",text_bet_left_panel_trap_font_color:"#fff",text_bet_left_panel_trap_font_size:20,text_bet_left_panel_win:"WIN",text_bet_left_panel_win_font_color:"#fff",text_bet_left_panel_win_font_size:20,text_bet_left_panel_place:"PLACE",text_bet_left_panel_place_font_color:"#fff",text_bet_left_panel_place_font_size:20,text_bet_left_panel_show:"SHOW",text_bet_left_panel_show_font_color:"#fff",text_bet_left_panel_show_font_size:20,text_bet_left_panel_horse_name_font_color:"#fff",text_bet_left_panel_horse_name_font_family:"motorwerkregular",text_bet_left_panel_horse_name_font_size:14,text_bet_right_panel_min:"MIN BET",text_bet_right_panel_max:"MAX BET",text_bet_right_panel_font_color:"#ffde00",text_bet_right_panel_font_family:"ds-digitalbold",text_bet_right_panel_font_size:14,text_bet_right_panel_bet:"BET",text_bet_right_panel_bet_font_color:"#fff",text_bet_right_panel_bet_font_family:"motorwerkregular",text_bet_right_panel_bet_font_size:12,text_bet_right_panel_bet_value_font_color:"#ffde00",text_bet_right_panel_bet_value_font_family:"ds-digitalbold",text_bet_right_panel_bet_value_font_size:26,text_bet_right_panel_credits:"CREDITS",text_bet_right_panel_credits_font_color:"#fff",text_bet_right_panel_credits_font_family:"motorwerkregular",text_bet_right_panel_credits_font_size:12,text_bet_right_panel_credits_value_font_color:"#ffde00",text_bet_right_panel_credits_value_font_family:"ds-digitalbold",text_bet_right_panel_credits_value_font_size:26,text_bet_right_panel_chip_01_color:"#ff7706",text_bet_right_panel_chip_02_color:"#ffb600",text_bet_right_panel_chip_03_color:"#000",text_bet_right_panel_chip_04_color:"#06a800",text_bet_right_panel_chip_05_color:"#d50000",text_bet_right_panel_chip_06_color:"#444444",text_bet_right_panel_chip_font_size:20,text_arrival_panel_font_color:"#fff",text_arrival_panel_font_family:"motorwerkregular",text_arrival_panel_font_size:16,text_rank_panel_font_color:"#fff",text_rank_panel_font_family:"motorwerkregular",text_rank_panel_font_size:12,text_number_of_race_font_color:"#fff",text_number_of_race_font_family:"impactregular",text_number_of_race_font_size:40,parent_width:null,parent_height:null};var CHIP_VALUES,BET_PANEL_WIDTH,BET_PANEL_HEIGHT,NUM_CHIPS,NUM_HORSES,MIN_BET,MAX_BET,WIN_OCCURRENCE,ENABLE_FULLSCREEN,ENABLE_CHECK_ORIENTATION,SHOW_CREDITS,CANVAS_WIDTH=1216,CANVAS_HEIGHT=832,EDGEBOARD_X=40,EDGEBOARD_Y=172,FPS=30,FPS_TIME=1e3/FPS,DISABLE_SOUND_MOBILE=!1,PRIMARY_FONT="impactregular",SECONDARY_FONT="ds-digitalbold",TERTIARY_FONT="motorwerkregular",STATE_LOADING=0,STATE_MENU=1,STATE_BET_PANEL=2,STATE_GAME=3,ON_MOUSE_DOWN=0,ON_MOUSE_UP=1,ON_MOUSE_OVER=2,ON_MOUSE_OUT=3,ON_DRAG_START=4,ON_DRAG_END=5,FICHE_WIDTH=44,COLOR_FICHES=["#ff7706","#ffb600","#000","#06a800","#d50000","#444444"],BET_PANEL_X=40,BET_PANEL_Y=165,HORSE_WIDTH=326,HORSE_HEIGHT=212,NUM_TRACK_BG=397,ARRIVAL_X=477,TIME_CHECK_RANK=2e3,HORSE_DATA={horse_names:["engineer","pin","doughnut","mayhem","last things","chatterbox","hypno","croquette"],odd_win_bet:[3.7,5.5,2.2,11.75,17.25,8.75,7.15,6.15],odd_place_bet:[1.95,2.55,1.25,5.5,7.75,3.05,2.5,2.05],odd_show_bet:[1.25,1.7,1.09,2.55,4,1.75,1.55,1.35],forecast:[{first:1,second:2,odd:20},{first:1,second:3,odd:6.25},{first:1,second:4,odd:60},{first:1,second:5,odd:80},{first:1,second:6,odd:23},{first:1,second:7,odd:20},{first:1,second:8,odd:15},{first:2,second:1,odd:28},{first:2,second:3,odd:10.25},{first:2,second:4,odd:65},{first:2,second:5,odd:68},{first:2,second:6,odd:58},{first:2,second:7,odd:42},{first:2,second:8,odd:32},{first:3,second:1,odd:5.75},{first:3,second:2,odd:8.75},{first:3,second:4,odd:26},{first:3,second:5,odd:31},{first:3,second:6,odd:19},{first:3,second:7,odd:15},{first:3,second:8,odd:10},{first:4,second:1,odd:84},{first:4,second:2,odd:56},{first:4,second:3,odd:23},{first:4,second:5,odd:80},{first:4,second:6,odd:65},{first:4,second:7,odd:55},{first:4,second:8,odd:40},{first:5,second:1,odd:70},{first:5,second:2,odd:70},{first:5,second:3,odd:68},{first:5,second:4,odd:84},{first:5,second:6,odd:80},{first:5,second:7,odd:70},{first:5,second:8,odd:50},{first:6,second:1,odd:48},{first:6,second:2,odd:58},{first:6,second:3,odd:13},{first:6,second:4,odd:70},{first:6,second:5,odd:80},{first:6,second:7,odd:55},{first:6,second:8,odd:40},{first:7,second:1,odd:40},{first:7,second:2,odd:50},{first:7,second:3,odd:10},{first:7,second:4,odd:50},{first:7,second:5,odd:55},{first:7,second:6,odd:40},{first:7,second:8,odd:35},{first:8,second:1,odd:38},{first:8,second:2,odd:48},{first:8,second:3,odd:8},{first:8,second:4,odd:50},{first:8,second:5,odd:40},{first:8,second:6,odd:35},{first:8,second:7,odd:30}]},SOUNDTRACK_VOLUME_IN_GAME=1;function CGameSettings(e){var t,n,i,r,s,a,o,c,l;this._init=function(e){var n=(l=e).horse_names;NUM_HORSES=n.length,t=new Array;for(var i=0;i<NUM_HORSES;i++)t[i]=n[i];this._initSimpleOdd(),this._initForecastOdd(),this._initPaths(),this._initHorseInfo(),a=CHIP_VALUES},this._initSimpleOdd=function(){var e=l.odd_win_bet,t=l.odd_place_bet,s=l.odd_show_bet;n=new Array,i=new Array,r=new Array;for(var a=0;a<e.length;a++)n[a]=e[a],i[a]=t[a],r[a]=s[a]},this._initForecastOdd=function(){var e=l.forecast;s=new Array;for(var t=0;t<NUM_HORSES;t++)s[t]=new Array;for(var n=0;n<e.length;n++)s[e[n].first-1][e[n].second-1]=e[n].odd},this._initPaths=function(){o=new Array;var e=[{x:230,frame:30},{x:500,frame:160},{x:600,frame:190},{x:400,frame:200},{x:ARRIVAL_X-HORSE_WIDTH/2,frame:210},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:30}],t=[{x:250,frame:30},{x:600,frame:180},{x:650,frame:190},{x:450,frame:180},{x:ARRIVAL_X-HORSE_WIDTH/2-150,frame:210},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:35}],n=[{x:170,frame:30},{x:400,frame:130},{x:450,frame:220},{x:400,frame:140},{x:300,frame:130},{x:ARRIVAL_X-HORSE_WIDTH/2-250,frame:140},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:40}],i=[{x:190,frame:30},{x:340,frame:130},{x:360,frame:310},{x:ARRIVAL_X-HORSE_WIDTH/2-390,frame:320},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:45}],r=[{x:220,frame:30},{x:350,frame:260},{x:480,frame:200},{x:320,frame:100},{x:ARRIVAL_X-HORSE_WIDTH/2-450,frame:200},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:50}],s=[{x:210,frame:30},{x:260,frame:270},{x:ARRIVAL_X-HORSE_WIDTH/2-600,frame:490},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:55}],a=[{x:220,frame:30},{x:290,frame:270},{x:ARRIVAL_X-HORSE_WIDTH/2-800,frame:490},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:60}],c=[{x:190,frame:30},{x:200,frame:270},{x:ARRIVAL_X-HORSE_WIDTH/2-1e3,frame:490},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:65}];o.push({place_1:e,place_2:t,place_3:n,place_4:i,place_5:r,place_6:s,place_7:a,place_8:c});e=[{x:230,frame:30},{x:450,frame:180},{x:500,frame:170},{x:400,frame:200},{x:ARRIVAL_X-HORSE_WIDTH/2,frame:210},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:30}],t=[{x:250,frame:30},{x:600,frame:200},{x:550,frame:180},{x:350,frame:170},{x:ARRIVAL_X-HORSE_WIDTH/2-200,frame:210},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:35}],n=[{x:170,frame:30},{x:250,frame:150},{x:350,frame:210},{x:450,frame:140},{x:350,frame:120},{x:ARRIVAL_X-HORSE_WIDTH/2-350,frame:140},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:40}],i=[{x:190,frame:30},{x:300,frame:150},{x:360,frame:300},{x:ARRIVAL_X-HORSE_WIDTH/2-490,frame:310},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:45}],r=[{x:220,frame:30},{x:350,frame:280},{x:400,frame:180},{x:320,frame:100},{x:ARRIVAL_X-HORSE_WIDTH/2-650,frame:200},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:50}],s=[{x:210,frame:30},{x:160,frame:280},{x:ARRIVAL_X-HORSE_WIDTH/2-700,frame:480},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:55}],a=[{x:220,frame:30},{x:200,frame:270},{x:-70,frame:190},{x:20,frame:100},{x:ARRIVAL_X-HORSE_WIDTH/2-850,frame:200},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:60}],c=[{x:210,frame:30},{x:0,frame:290},{x:ARRIVAL_X-HORSE_WIDTH/2-900,frame:470},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:65}];o.push({place_1:e,place_2:t,place_3:n,place_4:i,place_5:r,place_6:s,place_7:a,place_8:c});e=[{x:230,frame:30},{x:500,frame:180},{x:600,frame:180},{x:600,frame:200},{x:ARRIVAL_X-HORSE_WIDTH/2,frame:200},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:30}],t=[{x:250,frame:30},{x:600,frame:200},{x:650,frame:180},{x:500,frame:180},{x:ARRIVAL_X-HORSE_WIDTH/2-150,frame:200},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:35}],n=[{x:170,frame:30},{x:400,frame:150},{x:450,frame:210},{x:300,frame:140},{x:350,frame:130},{x:ARRIVAL_X-HORSE_WIDTH/2-300,frame:130},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:40}],i=[{x:190,frame:30},{x:340,frame:150},{x:360,frame:300},{x:ARRIVAL_X-HORSE_WIDTH/2-460,frame:310},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:45}],r=[{x:220,frame:30},{x:350,frame:280},{x:480,frame:180},{x:320,frame:100},{x:ARRIVAL_X-HORSE_WIDTH/2-550,frame:200},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:50}],s=[{x:210,frame:30},{x:200,frame:280},{x:ARRIVAL_X-HORSE_WIDTH/2-560,frame:480},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:55}],a=[{x:200,frame:30},{x:100,frame:270},{x:80,frame:190},{x:20,frame:100},{x:ARRIVAL_X-HORSE_WIDTH/2-850,frame:200},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:60}],c=[{x:210,frame:30},{x:20,frame:280},{x:ARRIVAL_X-HORSE_WIDTH/2-1e3,frame:480},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:65}];o.push({place_1:e,place_2:t,place_3:n,place_4:i,place_5:r,place_6:s,place_7:a,place_8:c});e=[{x:330,frame:30},{x:450,frame:180},{x:550,frame:170},{x:650,frame:200},{x:ARRIVAL_X-HORSE_WIDTH/2,frame:210},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:30}],t=[{x:250,frame:30},{x:350,frame:200},{x:450,frame:180},{x:600,frame:170},{x:ARRIVAL_X-HORSE_WIDTH/2-150,frame:210},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:35}],n=[{x:270,frame:30},{x:400,frame:150},{x:450,frame:200},{x:600,frame:140},{x:500,frame:130},{x:ARRIVAL_X-HORSE_WIDTH/2-350,frame:140},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:40}],i=[{x:290,frame:30},{x:340,frame:150},{x:360,frame:300},{x:ARRIVAL_X-HORSE_WIDTH/2-510,frame:310},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:45}],r=[{x:220,frame:30},{x:150,frame:280},{x:400,frame:180},{x:320,frame:100},{x:ARRIVAL_X-HORSE_WIDTH/2-550,frame:200},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:50}],s=[{x:210,frame:30},{x:60,frame:290},{x:ARRIVAL_X-HORSE_WIDTH/2-650,frame:470},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:55}],a=[{x:220,frame:30},{x:90,frame:280},{x:420,frame:180},{x:320,frame:100},{x:ARRIVAL_X-HORSE_WIDTH/2-850,frame:200},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:60}],c=[{x:210,frame:30},{x:120,frame:280},{x:ARRIVAL_X-HORSE_WIDTH/2-900,frame:480},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:65}];o.push({place_1:e,place_2:t,place_3:n,place_4:i,place_5:r,place_6:s,place_7:a,place_8:c});e=[{x:230,frame:30},{x:350,frame:180},{x:400,frame:170},{x:600,frame:200},{x:ARRIVAL_X-HORSE_WIDTH/2,frame:210},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:30}],t=[{x:250,frame:30},{x:350,frame:200},{x:450,frame:170},{x:500,frame:180},{x:ARRIVAL_X-HORSE_WIDTH/2-150,frame:210},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:35}],n=[{x:270,frame:30},{x:400,frame:150},{x:450,frame:200},{x:600,frame:140},{x:500,frame:130},{x:ARRIVAL_X-HORSE_WIDTH/2-250,frame:140},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:40}],i=[{x:190,frame:30},{x:340,frame:140},{x:360,frame:300},{x:ARRIVAL_X-HORSE_WIDTH/2-390,frame:320},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:45}],r=[{x:220,frame:30},{x:350,frame:270},{x:400,frame:190},{x:320,frame:100},{x:ARRIVAL_X-HORSE_WIDTH/2-550,frame:200},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:50}],s=[{x:210,frame:30},{x:260,frame:280},{x:ARRIVAL_X-HORSE_WIDTH/2-650,frame:480},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:55}],a=[{x:240,frame:30},{x:350,frame:270},{x:400,frame:190},{x:320,frame:100},{x:ARRIVAL_X-HORSE_WIDTH/2-750,frame:200},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:60}],c=[{x:180,frame:30},{x:260,frame:290},{x:ARRIVAL_X-HORSE_WIDTH/2-1050,frame:470},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:65}];o.push({place_1:e,place_2:t,place_3:n,place_4:i,place_5:r,place_6:s,place_7:a,place_8:c});e=[{x:230,frame:50},{x:350,frame:200},{x:400,frame:100},{x:500,frame:200},{x:ARRIVAL_X-HORSE_WIDTH/2,frame:240},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:30}],t=[{x:250,frame:100},{x:350,frame:150},{x:450,frame:140},{x:500,frame:200},{x:ARRIVAL_X-HORSE_WIDTH/2-150,frame:200},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:35}],n=[{x:270,frame:50},{x:400,frame:140},{x:450,frame:200},{x:400,frame:200},{x:ARRIVAL_X-HORSE_WIDTH/2-250,frame:200},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:40}],i=[{x:190,frame:30},{x:340,frame:160},{x:360,frame:300},{x:380,frame:100},{x:ARRIVAL_X-HORSE_WIDTH/2-390,frame:200},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:45}],r=[{x:220,frame:100},{x:350,frame:200},{x:400,frame:190},{x:320,frame:100},{x:ARRIVAL_X-HORSE_WIDTH/2-550,frame:200},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:50}],s=[{x:210,frame:50},{x:260,frame:300},{x:300,frame:190},{x:220,frame:100},{x:ARRIVAL_X-HORSE_WIDTH/2-650,frame:150},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:55}],a=[{x:200,frame:100},{x:300,frame:200},{x:400,frame:190},{x:300,frame:100},{x:ARRIVAL_X-HORSE_WIDTH/2-750,frame:200},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:60}],c=[{x:230,frame:50},{x:280,frame:290},{x:300,frame:200},{x:240,frame:100},{x:ARRIVAL_X-HORSE_WIDTH/2-780,frame:150},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:65}];o.push({place_1:e,place_2:t,place_3:n,place_4:i,place_5:r,place_6:s,place_7:a,place_8:c});e=[{x:230,frame:50},{x:430,frame:320},{x:ARRIVAL_X-HORSE_WIDTH/2,frame:420},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:30}],t=[{x:250,frame:100},{x:350,frame:150},{x:450,frame:140},{x:500,frame:200},{x:ARRIVAL_X-HORSE_WIDTH/2-250,frame:200},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:35}],n=[{x:270,frame:50},{x:200,frame:140},{x:450,frame:400},{x:ARRIVAL_X-HORSE_WIDTH/2-350,frame:200},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:40}],i=[{x:190,frame:30},{x:240,frame:160},{x:360,frame:300},{x:380,frame:100},{x:ARRIVAL_X-HORSE_WIDTH/2-490,frame:200},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:45}],r=[{x:220,frame:100},{x:350,frame:200},{x:400,frame:190},{x:320,frame:100},{x:ARRIVAL_X-HORSE_WIDTH/2-650,frame:200},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:50}],s=[{x:210,frame:50},{x:260,frame:300},{x:300,frame:210},{x:220,frame:100},{x:ARRIVAL_X-HORSE_WIDTH/2-750,frame:130},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:55}],a=[{x:260,frame:100},{x:350,frame:200},{x:300,frame:190},{x:320,frame:100},{x:ARRIVAL_X-HORSE_WIDTH/2-850,frame:200},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:60}],c=[{x:10,frame:50},{x:260,frame:270},{x:300,frame:200},{x:200,frame:100},{x:ARRIVAL_X-HORSE_WIDTH/2-950,frame:170},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:65}];o.push({place_1:e,place_2:t,place_3:n,place_4:i,place_5:r,place_6:s,place_7:a,place_8:c});e=[{x:230,frame:50},{x:250,frame:300},{x:ARRIVAL_X-HORSE_WIDTH/2,frame:440},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:30}],t=[{x:250,frame:50},{x:430,frame:300},{x:ARRIVAL_X-HORSE_WIDTH/2-250,frame:440},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:35}],n=[{x:270,frame:50},{x:330,frame:290},{x:ARRIVAL_X-HORSE_WIDTH/2-450,frame:450},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:40}],i=[{x:190,frame:50},{x:230,frame:290},{x:ARRIVAL_X-HORSE_WIDTH/2-590,frame:450},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:45}],r=[{x:220,frame:50},{x:300,frame:290},{x:ARRIVAL_X-HORSE_WIDTH/2-650,frame:450},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:50}],s=[{x:210,frame:50},{x:130,frame:290},{x:ARRIVAL_X-HORSE_WIDTH/2-750,frame:450},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:55}],a=[{x:180,frame:50},{x:280,frame:290},{x:ARRIVAL_X-HORSE_WIDTH/2-800,frame:450},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:60}],c=[{x:190,frame:50},{x:150,frame:290},{x:ARRIVAL_X-HORSE_WIDTH/2-950,frame:450},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:65}];o.push({place_1:e,place_2:t,place_3:n,place_4:i,place_5:r,place_6:s,place_7:a,place_8:c});e=[{x:210,frame:50},{x:130,frame:300},{x:ARRIVAL_X-HORSE_WIDTH/2,frame:440},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:30}],t=[{x:220,frame:50},{x:300,frame:300},{x:ARRIVAL_X-HORSE_WIDTH/2-150,frame:440},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:35}],n=[{x:270,frame:50},{x:330,frame:300},{x:ARRIVAL_X-HORSE_WIDTH/2-250,frame:440},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:40}],i=[{x:250,frame:50},{x:430,frame:300},{x:ARRIVAL_X-HORSE_WIDTH/2-390,frame:440},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:45}],r=[{x:190,frame:50},{x:190,frame:300},{x:ARRIVAL_X-HORSE_WIDTH/2-550,frame:440},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:50}],s=[{x:230,frame:50},{x:250,frame:300},{x:ARRIVAL_X-HORSE_WIDTH/2-650,frame:440},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:55}],a=[{x:190,frame:50},{x:220,frame:300},{x:ARRIVAL_X-HORSE_WIDTH/2-950,frame:440},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:60}],c=[{x:200,frame:50},{x:250,frame:300},{x:ARRIVAL_X-HORSE_WIDTH/2-1e3,frame:440},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:65}];o.push({place_1:e,place_2:t,place_3:n,place_4:i,place_5:r,place_6:s,place_7:a,place_8:c});e=[{x:330,frame:30},{x:450,frame:180},{x:550,frame:180},{x:650,frame:200},{x:ARRIVAL_X-HORSE_WIDTH/2,frame:200},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:30}],t=[{x:250,frame:90},{x:450,frame:300},{x:600,frame:200},{x:ARRIVAL_X-HORSE_WIDTH/2-150,frame:200},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:35}],n=[{x:270,frame:30},{x:400,frame:150},{x:450,frame:200},{x:600,frame:140},{x:500,frame:130},{x:ARRIVAL_X-HORSE_WIDTH/2-300,frame:140},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:40}],i=[{x:290,frame:30},{x:340,frame:150},{x:360,frame:300},{x:ARRIVAL_X-HORSE_WIDTH/2-510,frame:310},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:45}],r=[{x:220,frame:30},{x:350,frame:280},{x:400,frame:180},{x:320,frame:100},{x:ARRIVAL_X-HORSE_WIDTH/2-650,frame:200},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:50}],s=[{x:310,frame:30},{x:400,frame:290},{x:ARRIVAL_X-HORSE_WIDTH/2-750,frame:470},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:55}],a=[{x:240,frame:30},{x:300,frame:280},{x:350,frame:180},{x:320,frame:100},{x:ARRIVAL_X-HORSE_WIDTH/2-800,frame:200},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:60}],c=[{x:210,frame:30},{x:300,frame:290},{x:ARRIVAL_X-HORSE_WIDTH/2-850,frame:470},{x:CANVAS_WIDTH+HORSE_WIDTH,frame:65}];o.push({place_1:e,place_2:t,place_3:n,place_4:i,place_5:r,place_6:s,place_7:a,place_8:c})},this._initHorseInfo=function(){(c=new Array)[0]={start:new createjs.Point(193,350),scale:.53},c[1]={start:new createjs.Point(170,360),scale:.59},c[2]={start:new createjs.Point(144,372),scale:.65},c[3]={start:new createjs.Point(114,385),scale:.71},c[4]={start:new createjs.Point(76,400),scale:.78},c[5]={start:new createjs.Point(30,415),scale:.85},c[6]={start:new createjs.Point(-10,432),scale:.92},c[7]={start:new createjs.Point(-66,452),scale:1}},this.getIndexForFiches=function(e){for(var t=0,n=0;n<a.length;n++)a[n]===e&&(t=n);return t},this.getHorsePercentageArray=function(){for(var e=new Array,t=0;t<n.length;t++)for(var i=Math.floor(n[t]),r=0;r<i;r++)e.push(t);return e=shuffle(e)},this.getHorseName=function(e){return t[e]},this.getAllHorseNames=function(){return t},this.getOddWin=function(e){return n[e]},this.getOddPlace=function(e){return i[e]},this.getOddShow=function(e){return r[e]},this.getForecastOdd=function(e,t){return s[e][t]},this.getRandomPath=function(){var e=Math.floor(Math.random()*o.length);return o[e]},this.getHorseInfo=function(e){return c[e]},s_oGameSettings=this,this._init(e)}var s_bMobile,s_oGameSettings=null;function CPreloader(){var e,t,n,i,r,s,a,o,c,l;this._init=function(){s_oSpriteLibrary.init(this._onImagesLoaded,this._onAllImagesLoaded,this),s_oSpriteLibrary.addSprite("progress_bar","./assets/sprites/progress_bar.png"),s_oSpriteLibrary.addSprite("200x200","./assets/sprites/200x200.jpg"),s_oSpriteLibrary.addSprite("but_start","./assets/sprites/but_start.png"),s_oSpriteLibrary.loadSprites(),l=new createjs.Container,s_oStage.addChild(l)},this.unload=function(){l.removeAllChildren(),c.unload()},this._onImagesLoaded=function(){},this._onAllImagesLoaded=function(){this.attachSprites(),s_oMain.preloaderReady()},this.attachSprites=function(){var u=new createjs.Shape;u.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT),l.addChild(u);var h=s_oSpriteLibrary.getSprite("200x200");(a=createBitmap(h)).regX=.5*h.width,a.regY=.5*h.height,a.x=CANVAS_WIDTH/2,a.y=CANVAS_HEIGHT/2-140,l.addChild(a),(o=new createjs.Shape).graphics.beginFill("rgba(0,0,0,0.01)").drawRoundRect(a.x-100,a.y-100,200,200,10),l.addChild(o),a.mask=o;h=s_oSpriteLibrary.getSprite("progress_bar");(i=createBitmap(h)).x=CANVAS_WIDTH/2-h.width/2,i.y=CANVAS_HEIGHT/2+90,l.addChild(i),e=h.width,t=h.height,(r=new createjs.Shape).graphics.beginFill("rgba(0,0,0,0.01)").drawRect(i.x,i.y,1,t),l.addChild(r),i.mask=r,(n=new createjs.Text("","30px "+PRIMARY_FONT,"#fff")).x=CANVAS_WIDTH/2,n.y=CANVAS_HEIGHT/2+140,n.textBaseline="alphabetic",n.textAlign="center",l.addChild(n);h=s_oSpriteLibrary.getSprite("but_start");(c=new CTextButton(CANVAS_WIDTH/2,CANVAS_HEIGHT/2+40,h,"","Arial","#000",50,l)).addEventListener(ON_MOUSE_UP,this._onButStartRelease,this),c.setVisible(!1),(s=new createjs.Shape).graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT),l.addChild(s),createjs.Tween.get(s).to({alpha:0},500).call(function(){createjs.Tween.removeTweens(s),l.removeChild(s)})},this._onButStartRelease=function(){s_oMain._onRemovePreloader()},this.refreshLoader=function(s){n.text=s+"%",100===s&&(s_oMain._onRemovePreloader(),n.visible=!1,i.visible=!1),r.graphics.clear();var a=Math.floor(s*e/100);r.graphics.beginFill("rgba(0,0,0,0.01)").drawRect(i.x,i.y,a,t)},this._init()}function CMain(){var e,t,n,i=0,r=0,s=STATE_LOADING,a=!1,o=0,c=!1;this.initContainer=function(){PRIMARY_FONT=EngagedNation.Config.Game.text_general_font_family,COLOR_FICHES=[];for(var e=1;e<=6;e++)COLOR_FICHES.push(EngagedNation.Config.Game["text_bet_right_panel_chip_0"+e+"_color"]);HORSE_DATA.horse_names=[],HORSE_DATA.odd_win_bet=[],HORSE_DATA.odd_place_bet=[],HORSE_DATA.odd_show_bet=[];for(e=1;e<=8;e++)HORSE_DATA.horse_names.push(EngagedNation.Config.Game["game_play_horse_0"+e+"_name"]),HORSE_DATA.odd_win_bet.push(EngagedNation.Config.Game["game_play_horse_0"+e+"_win_bet"]),HORSE_DATA.odd_place_bet.push(EngagedNation.Config.Game["game_play_horse_0"+e+"_place_bet"]),HORSE_DATA.odd_show_bet.push(EngagedNation.Config.Game["game_play_horse_0"+e+"_show_bet"]);var n=HORSE_DATA.forecast;HORSE_DATA.forecast=[],$.each(n,function(e,t){HORSE_DATA.forecast.push({first:t.first,second:t.second,odd:EngagedNation.Config.Game["game_play_forecast_0"+t.first+"_0"+t.second+"_win_bet"]})}),s_oCanvas=document.getElementById("canvas"),(s_oStage=new createjs.Stage(s_oCanvas)).preventSelection=!1,createjs.Touch.enable(s_oStage),!1===(s_bMobile=jQuery.browser.mobile)&&(s_oStage.enableMouseOver(10),$("body").on("contextmenu","#canvas",function(e){return!1})),s_iPrevTime=(new Date).getTime(),createjs.Ticker.addEventListener("tick",this._update),createjs.Ticker.setFPS(FPS),navigator.userAgent.match(/Windows Phone/i)&&(DISABLE_SOUND_MOBILE=!0),s_oSpriteLibrary=new CSpriteLibrary,t=new CPreloader},this.preloaderReady=function(){s_oGameSettings=new CGameSettings(HORSE_DATA),s_oBetList=new CBetList,s_oMain._loadImages(),!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||s_oMain._initSounds(),e=!0},this.soundLoaded=function(){i++;var e=Math.floor(i/r*100);t.refreshLoader(e)},this._initSounds=function(){Howler.mute(!s_bAudioActive),s_aSoundsInfo=new Array,s_aSoundsInfo.push({fileMp3:EngagedNation.Config.Game.audio_chip_mp3,fileOgg:EngagedNation.Config.Game.audio_chip_ogg,loop:!1,volume:1,ingamename:"chip"}),s_aSoundsInfo.push({fileMp3:EngagedNation.Config.Game.audio_click_mp3,fileOgg:EngagedNation.Config.Game.audio_click_ogg,loop:!1,volume:1,ingamename:"click"}),s_aSoundsInfo.push({fileMp3:EngagedNation.Config.Game.audio_start_race_mp3,fileOgg:EngagedNation.Config.Game.audio_start_race_ogg,loop:!1,volume:1,ingamename:"start_race"}),s_aSoundsInfo.push({fileMp3:EngagedNation.Config.Game.audio_photo_mp3,fileOgg:EngagedNation.Config.Game.audio_photo_ogg,loop:!1,volume:1,ingamename:"photo"}),s_aSoundsInfo.push({fileMp3:EngagedNation.Config.Game.audio_soundtrack_mp3,fileOgg:EngagedNation.Config.Game.audio_soundtrack_ogg,loop:!1,volume:1,ingamename:"soundtrack"}),s_aSoundsInfo.push({fileMp3:EngagedNation.Config.Game.audio_cash_out_mp3,fileOgg:EngagedNation.Config.Game.audio_cash_out_ogg,loop:!1,volume:1,ingamename:"cash_out"}),r+=s_aSoundsInfo.length,s_aSounds=new Array;for(var e=0;e<s_aSoundsInfo.length;e++)this.tryToLoadSound(s_aSoundsInfo[e],!1)},this.tryToLoadSound=function(e,t){setTimeout(function(){s_aSounds[e.ingamename]=new Howl({src:[e.fileOgg,e.fileMp3],autoplay:!1,preload:!0,loop:e.loop,volume:e.volume,onload:s_oMain.soundLoaded,onloaderror:function(e,t){for(var n=0;n<s_aSoundsInfo.length;n++)if(e===s_aSounds[s_aSoundsInfo[n].ingamename]._sounds[0]._id){s_oMain.tryToLoadSound(s_aSoundsInfo[n],!0);break}},onplayerror:function(e){for(var t=0;t<s_aSoundsInfo.length;t++)if(e===s_aSounds[s_aSoundsInfo[t].ingamename]._sounds[0]._id){s_aSounds[s_aSoundsInfo[t].ingamename].once("unlock",function(){s_aSounds[s_aSoundsInfo[t].ingamename].play(),"soundtrack"===s_aSoundsInfo[t].ingamename&&null!==s_oGame&&setVolume("soundtrack",SOUNDTRACK_VOLUME_IN_GAME)});break}}})},t?200:0)},this._loadImages=function(){s_oSpriteLibrary.init(this._onImagesLoaded,this._onAllImagesLoaded,this),s_oSpriteLibrary.addSprite("but_exit",EngagedNation.Config.Game.img_btn_exit),s_oSpriteLibrary.addSprite("audio_icon",EngagedNation.Config.Game.img_audio_icon),s_oSpriteLibrary.addSprite("msg_box",EngagedNation.Config.Game.img_msg_box),s_oSpriteLibrary.addSprite("arrow_left",EngagedNation.Config.Game.img_btn_arrow_left),s_oSpriteLibrary.addSprite("arrow_right",EngagedNation.Config.Game.img_btn_arrow_right),s_oSpriteLibrary.addSprite("fiche_0",EngagedNation.Config.Game.img_fiche_01),s_oSpriteLibrary.addSprite("fiche_1",EngagedNation.Config.Game.img_fiche_02),s_oSpriteLibrary.addSprite("fiche_2",EngagedNation.Config.Game.img_fiche_03),s_oSpriteLibrary.addSprite("fiche_3",EngagedNation.Config.Game.img_fiche_04),s_oSpriteLibrary.addSprite("fiche_4",EngagedNation.Config.Game.img_fiche_05),s_oSpriteLibrary.addSprite("fiche_5",EngagedNation.Config.Game.img_fiche_06),s_oSpriteLibrary.addSprite("bg_bet_panel",EngagedNation.Config.Game.img_bet_panel),s_oSpriteLibrary.addSprite("money_panel",EngagedNation.Config.Game.img_money_panel),s_oSpriteLibrary.addSprite("simple_bet_panel",EngagedNation.Config.Game.img_simple_bet_panel),s_oSpriteLibrary.addSprite("forecast_panel",EngagedNation.Config.Game.img_forecast_panel),s_oSpriteLibrary.addSprite("bet_place",EngagedNation.Config.Game.img_bet_place),s_oSpriteLibrary.addSprite("fiche_highlight",EngagedNation.Config.Game.img_fiche_highlight),s_oSpriteLibrary.addSprite("odd_bg",EngagedNation.Config.Game.img_odd),s_oSpriteLibrary.addSprite("rank_panel",EngagedNation.Config.Game.img_rank_panel),s_oSpriteLibrary.addSprite("panel_arrival",EngagedNation.Config.Game.img_panel_arrival),s_oSpriteLibrary.addSprite("bibs",EngagedNation.Config.Game.img_bibs),s_oSpriteLibrary.addSprite("but_skip",EngagedNation.Config.Game.img_btn_continue),s_oSpriteLibrary.addSprite("but_collect",EngagedNation.Config.Game.img_btn_collect),s_oSpriteLibrary.addSprite("but_start_race",EngagedNation.Config.Game.img_btn_start_race),s_oSpriteLibrary.addSprite("but_start_race_unli",EngagedNation.Config.Game.img_btn_start_race_unli),s_oSpriteLibrary.addSprite("but_cash_out",EngagedNation.Config.Game.img_btn_cash_out),s_oSpriteLibrary.addSprite("but_clear_bet",EngagedNation.Config.Game.img_btn_clear_bet),s_oSpriteLibrary.addSprite("fiche_panel",EngagedNation.Config.Game.img_fiche_panel),s_oSpriteLibrary.addSprite("fill_bar",EngagedNation.Config.Game.img_fill_bar),s_oSpriteLibrary.addSprite("win_panel",EngagedNation.Config.Game.img_win_panel),s_oSpriteLibrary.addSprite("lose_panel",EngagedNation.Config.Game.img_lose_panel),s_oSpriteLibrary.addSprite("bg_track",EngagedNation.Config.Game.img_bg_track),s_oSpriteLibrary.addSprite("instruction_panel",EngagedNation.Config.Game.img_instruction_panel);for(var e=0;e<NUM_HORSES;e++)s_oSpriteLibrary.addSprite("bib_gui_"+e,"./assets/sprites/bib_gui_"+e+".png"),s_oSpriteLibrary.addSprite("horse_"+(e+1)+"_a","./assets/sprites/horse_"+(e+1)+"_a.png"),s_oSpriteLibrary.addSprite("horse_"+(e+1)+"_b","./assets/sprites/horse_"+(e+1)+"_b.png"),s_oSpriteLibrary.addSprite("cage_"+e,"./assets/sprites/cage_"+e+".png"),s_oSpriteLibrary.addSprite("gate_"+e,"./assets/sprites/cage_gates/gate_"+e+".png");s_oSpriteLibrary.addSprite("cage_"+NUM_HORSES,"./assets/sprites/cage_"+NUM_HORSES+".png"),s_oSpriteLibrary.addSprite("gate_"+NUM_HORSES,"./assets/sprites/cage_gates/gate_"+NUM_HORSES+".png"),r+=s_oSpriteLibrary.getNumSprites(),s_oSpriteLibrary.loadSprites()},this._onImagesLoaded=function(){i++;var e=Math.floor(i/r*100);t.refreshLoader(e)},this._onAllImagesLoaded=function(){},this.onAllPreloaderImagesLoaded=function(){this._loadImages()},this._onRemovePreloader=function(){try{saveItem("ls_available","ok")}catch(e){s_bStorageAvailable=!1}t.unload(),s_oSoundTrack=playSound("soundtrack",1,!0),this.gotoBetPanel()},this.setMoney=function(e){},this.gotoMenu=function(){new CMenu,s=STATE_MENU},this.gotoBetPanel=function(){var e=new CBetPanel;s=STATE_BET_PANEL,$(s_oMain).trigger("start_session"),a?e._showCashOut():(a=!0,e._hideCashOut())},this.gotoGame=function(e){this.setNumberOfRace(this.getNumberOfRace()-1),n=new CGame(e),s=STATE_GAME},this.stopUpdate=function(){e=!1,createjs.Ticker.paused=!0,$("#block_game").css("display","block"),!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||Howler.mute(!0)},this.startUpdate=function(){s_iPrevTime=(new Date).getTime(),e=!0,createjs.Ticker.paused=!1,$("#block_game").css("display","none"),!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||s_bAudioActive&&Howler.mute(!1)},this.getNumberOfRace=function(){return o},this.setNumberOfRace=function(e){o=e},this.getIsUnlimitedRace=function(){return c},this._update=function(t){if(!1!==e){var i=(new Date).getTime();s_iTimeElaps=i-s_iPrevTime,s_iCntFps++,s_iPrevTime=i,(s_iCntTime+=s_iTimeElaps)>=1e3&&(s_iCurFps=s_iCntFps,s_iCntTime-=1e3,s_iCntFps=0),s===STATE_GAME&&n.update(),s_oStage.update(t)}},s_oMain=this,s_iCurMoney=EngagedNation.Config.Game.game_play_user_credits,o=EngagedNation.Config.Game.game_play_number_of_race,c=EngagedNation.Config.Game.game_play_is_unlimited_race,CHIP_VALUES=[];for(var l=1;l<7;l++)CHIP_VALUES.push(EngagedNation.Config.Game["game_play_chip_0"+l+"_value"]);MIN_BET=EngagedNation.Config.Game.game_play_min_bet,MAX_BET=EngagedNation.Config.Game.game_play_max_bet,AD_SHOW_COUNTER=0,SHOW_CREDITS=!1,ENABLE_FULLSCREEN=!1,ENABLE_CHECK_ORIENTATION=!1,NUM_CHIPS=6,s_bAudioActive=EngagedNation.Config.Game.game_play_audio_enabled_on_startup,this.initContainer()}var s_oStage,s_oMain,s_oSpriteLibrary,s_oCanvas,s_iCurMoney,s_aSounds,s_bAudioActive=!0,s_bFullscreen=!1,s_iCntTime=0,s_iTimeElaps=0,s_iPrevTime=0,s_iCntFps=0,s_iCurFps=0,s_oSoundTrack=null,s_bStorageAvailable=!0,s_iAdCounter=0,s_isInstructionDisplayed=!1;function CTextButton(e,t,n,i,r,s,a,o){var c,l,u,h,d,_,f,p,g,m,v=o;this._init=function(e,t,n,i,r,s,a){c=!1,l=1,u=new Array,h=new Array,m=createBitmap(n),n.width,n.height,(p=new createjs.Container).x=e,p.y=t,p.regX=n.width/2,p.regY=n.height/2,s_bMobile||(p.cursor="pointer"),p.addChild(m,g),v.addChild(p),g=new CTLText(p,10,5,n.width-20,n.height-10,a,"center",s,r,1,0,0,i,!0,!0,!1,!1),this._initListener()},this.unload=function(){p.off("mousedown",d),p.off("pressup",_),v.removeChild(p)},this.setVisible=function(e){p.visible=e},this.setAlign=function(e){g.textAlign=e},this.setTextX=function(e){g.x=e},this.setScale=function(e){p.scaleX=p.scaleY=e,l=e},this.enable=function(){c=!1},this.disable=function(){c=!0},this._initListener=function(){d=p.on("mousedown",this.buttonDown),_=p.on("pressup",this.buttonRelease)},this.addEventListener=function(e,t,n){u[e]=t,h[e]=n},this.addEventListenerWithParams=function(e,t,n,i){u[e]=t,h[e]=n,f=i},this.buttonRelease=function(){c||(playSound("click",1,!1),p.scaleX=l,p.scaleY=l,u[ON_MOUSE_UP]&&u[ON_MOUSE_UP].call(h[ON_MOUSE_UP],f))},this.buttonDown=function(){c||(p.scaleX=.9*l,p.scaleY=.9*l,u[ON_MOUSE_DOWN]&&u[ON_MOUSE_DOWN].call(h[ON_MOUSE_DOWN]))},this.setPosition=function(e,t){p.x=e,p.y=t},this.tweenPosition=function(e,t,n,i,r,s,a){createjs.Tween.get(p).wait(i).to({x:e,y:t},n,r).call(function(){void 0!==s&&s.call(a)})},this.changeText=function(e){g.refreshText(e)},this.setX=function(e){p.x=e},this.setY=function(e){p.y=e},this.getButtonImage=function(){return p},this.getX=function(){return p.x},this.getY=function(){return p.y},this.getSprite=function(){return p},this.getScale=function(){return p.scaleX},this._init(e,t,n,i,r,s,a)}function CToggle(e,t,n,i,r){var s,a,o,c,l,u,h;this._init=function(e,t,n,i,r){h=void 0!==r?r:s_oStage,a=new Array,o=new Array;var l={images:[n],frames:{width:n.width/2,height:n.height,regX:n.width/2/2,regY:n.height/2},animations:{state_true:[0],state_false:[1]}},u=new createjs.SpriteSheet(l);(c=createSprite(u,"state_"+(s=i),n.width/2/2,n.height/2,n.width/2,n.height)).x=e,c.y=t,c.stop(),s_bMobile||(c.cursor="pointer"),h.addChild(c),this._initListener()},this.unload=function(){c.off("mousedown",l),c.off("pressup",u),h.removeChild(c)},this._initListener=function(){l=c.on("mousedown",this.buttonDown),u=c.on("pressup",this.buttonRelease)},this.addEventListener=function(e,t,n){a[e]=t,o[e]=n},this.setCursorType=function(e){c.cursor=e},this.setActive=function(e){s=e,c.gotoAndStop("state_"+s)},this.buttonRelease=function(){c.scaleX=1,c.scaleY=1,playSound("click",1,0),s=!s,c.gotoAndStop("state_"+s),a[ON_MOUSE_UP]&&a[ON_MOUSE_UP].call(o[ON_MOUSE_UP],s)},this.buttonDown=function(){c.scaleX=.9,c.scaleY=.9,a[ON_MOUSE_DOWN]&&a[ON_MOUSE_DOWN].call(o[ON_MOUSE_DOWN])},this.setPosition=function(e,t){c.x=e,c.y=t},this._init(e,t,n,i,r)}function CGfxButton(e,t,n,i){var r,s,a,o,c,l,u,h,d,_,f=!1;return this._init=function(e,t,n){r=new Array,s=new Array,o=new Array,(a=createBitmap(n)).x=e,a.y=t,c=1,l=1,a.regX=n.width/2,a.regY=n.height/2,s_bMobile||(a.cursor="pointer"),_.addChild(a),this._initListener()},this.unload=function(){a.off("mousedown",h),a.off("pressup",d),_.removeChild(a)},this.setVisible=function(e){a.visible=e},this.setCursorType=function(e){a.cursor=e},this._initListener=function(){h=a.on("mousedown",this.buttonDown),d=a.on("pressup",this.buttonRelease)},this.addEventListener=function(e,t,n){r[e]=t,s[e]=n},this.addEventListenerWithParams=function(e,t,n,i){r[e]=t,s[e]=n,o[e]=i},this.buttonRelease=function(){f||(a.scaleX=c>0?c:-c,a.scaleY=l,playSound("click",1,0),r[ON_MOUSE_UP]&&r[ON_MOUSE_UP].call(s[ON_MOUSE_UP],o[ON_MOUSE_UP]))},this.buttonDown=function(){f||(a.scaleX=c>0?.9*c:.9*-c,a.scaleY=.9*l,r[ON_MOUSE_DOWN]&&r[ON_MOUSE_DOWN].call(s[ON_MOUSE_DOWN],o[ON_MOUSE_DOWN]))},this.rotation=function(e){a.rotation=e},this.getButton=function(){return a},this.setPosition=function(e,t){a.x=e,a.y=t},this.setX=function(e){a.x=e},this.setY=function(e){a.y=e},this.getButtonImage=function(){return a},this.block=function(e){f=e,a.scaleX=c,a.scaleY=l},this.setScaleX=function(e){a.scaleX=e,c=e},this.setScale=function(e){c=e,l=e,a.scaleX=a.scaleY=e},this.getX=function(){return a.x},this.getY=function(){return a.y},this.pulseAnimation=function(){createjs.Tween.get(a).to({scaleX:.9*c,scaleY:.9*l},850,createjs.Ease.quadOut).to({scaleX:c,scaleY:l},650,createjs.Ease.quadIn).call(function(){u.pulseAnimation()})},this.trebleAnimation=function(){createjs.Tween.get(a).to({rotation:5},75,createjs.Ease.quadOut).to({rotation:-5},140,createjs.Ease.quadIn).to({rotation:0},75,createjs.Ease.quadIn).wait(750).call(function(){u.trebleAnimation()})},this.removeAllTweens=function(){createjs.Tween.removeTweens(a)},_=void 0!==i?i:s_oStage,this._init(e,t,n),u=this,this}function CMenu(){var e,t,n,i,r,s,a,o,c,l,u,h,d=null,_=null,f=null;this._init=function(){e=createBitmap(s_oSpriteLibrary.getSprite("bg_menu")),s_oStage.addChild(e);var d=s_oSpriteLibrary.getSprite("but_play");o={x:CANVAS_WIDTH/2,y:CANVAS_HEIGHT-d.height/2-10},(t=new CGfxButton(o.x,o.y,d)).addEventListener(ON_MOUSE_UP,this._onButPlayRelease,this);var p=s_oSpriteLibrary.getSprite("but_credits");if(SHOW_CREDITS?(l={x:10+p.width/2,y:p.height/2+10},(r=new CGfxButton(l.x,l.y,p)).addEventListener(ON_MOUSE_UP,this._onCredits,this),u={x:l.x+p.width+10,y:l.y}):u={x:10+p.width/2,y:p.height/2+10},!1===DISABLE_SOUND_MOBILE||!1===s_bMobile){p=s_oSpriteLibrary.getSprite("audio_icon");c={x:CANVAS_WIDTH-p.width/4-10,y:p.height/2+10},(i=new CToggle(c.x,c.y,p,s_bAudioActive,s_oStage)).addEventListener(ON_MOUSE_UP,this._onAudioToggle,this)}var g=window.document,m=g.documentElement;_=m.requestFullscreen||m.mozRequestFullScreen||m.webkitRequestFullScreen||m.msRequestFullscreen,f=g.exitFullscreen||g.mozCancelFullScreen||g.webkitExitFullscreen||g.msExitFullscreen,!1===ENABLE_FULLSCREEN&&(_=!1),_&&screenfull.enabled&&(p=s_oSpriteLibrary.getSprite("but_fullscreen"),(s=new CToggle(u.x,u.y,p,s_bFullscreen,s_oStage)).addEventListener(ON_MOUSE_UP,this._onFullscreenRelease,this));var v=s_oSpriteLibrary.getSprite("logo_menu");h={x:CANVAS_WIDTH/2,y:10},(a=createBitmap(v)).regX=v.width/2,a.x=h.x,a.y=h.y,s_oStage.addChild(a),(n=new createjs.Shape).graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT),s_oStage.addChild(n),createjs.Tween.get(n).to({alpha:0},1e3).call(function(){s_oStage.removeChild(n)}),this.refreshButtonPos()},this.unload=function(){t.unload(),t=null,SHOW_CREDITS&&r.unload(),s_oStage.removeChild(e),e=null,!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||(i.unload(),i=null),_&&screenfull.enabled&&s.unload(),s_oMenu=null},this.refreshButtonPos=function(){!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||i.setPosition(c.x-s_iOffsetX,c.y+s_iOffsetY),_&&screenfull.enabled&&s.setPosition(u.x+s_iOffsetX,u.y+s_iOffsetY),t.setPosition(o.x,o.y-s_iOffsetY),SHOW_CREDITS&&r.setPosition(l.x+s_iOffsetX,l.y+s_iOffsetY),null!==d&&d.refreshButtonPos(),a.y=h.y+s_iOffsetY},this.exitFromCredits=function(){d=null},this._onAudioToggle=function(){Howler.mute(s_bAudioActive),s_bAudioActive=!s_bAudioActive},this._onCredits=function(){d=new CCreditsPanel},this._onButPlayRelease=function(){this.unload(),s_oMain.gotoBetPanel()},this.resetFullscreenBut=function(){_&&screenfull.enabled&&s.setActive(s_bFullscreen)},this._onFullscreenRelease=function(){s_bFullscreen?f.call(window.document):_.call(window.document.documentElement),sizeHandler()},s_oMenu=this,this._init()}var s_oMenu=null;function CGame(e){var t,n,i,r,s,a,o,c,l,u,h,d,_,f,p,g,m,v,b,y=e;this._init=function(){t=!1,n=!1,i=!1,s=0,a=0,d=s_oGameSettings.getAllHorseNames(),setVolume("soundtrack",0),s_oTweenController=new CTweenController,_=new createjs.Container,s_oStage.addChild(_),p=new CTrackBg(_),m=new CRankingGui(d,s_oStage),v=new CArrivalPanel(CANVAS_WIDTH,246,s_oStage),g=new CInterface,this.generateFinalRank(),this._prepareHorses(),(f=new createjs.Shape).graphics.beginFill("white").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT),f.alpha=0,s_oStage.addChild(f),(b=new createjs.Text("","40px "+PRIMARY_FONT,"#000")).textAlign="center",b.textBaseline="alphabetic",b.x=CANVAS_WIDTH/2,b.y=220,setTimeout(function(){s_oGame.startRace()},1e3),playSound("start_race",1,0),this.refreshButtonPos()},this.unload=function(){stopSound("start_race"),g.unload(),createjs.Tween.removeAllTweens(),s_oStage.removeAllChildren(),s_oGame=null},this.refreshButtonPos=function(){g.refreshButtonPos(s_iOffsetX,s_iOffsetY),m.refreshButtonPos(s_iOffsetX,s_iOffsetY),v.refreshButtonPos(s_iOffsetX,s_iOffsetY)},this.pause=function(){t=!1,pauseSound("start_race");for(var e=0;e<NUM_HORSES;e++)l[e].pauseAnim()},this.unpause=function(){t=!0,playSound("start_race");for(var e=0;e<NUM_HORSES;e++)l[e].unpauseAnim()},this.onExit=function(){setVolume("soundtrack",1),s_oGame.unload(),s_oMain.gotoMenu(),$(s_oMain).trigger("end_session"),$(s_oMain).trigger("show_interlevel_ad"),$(s_oMain).trigger("share_event",[s_iCurMoney])},this.gotoBetPanel=function(){setVolume("soundtrack",1),s_oGame.unload(),s_oMain.gotoBetPanel()},this.startRace=function(){for(var e=0;e<h.length;e++)h[e].playAnim();g.blockExit(!1),t=!0,p.startTrack(),setTimeout(function(){s_oGame.startHorses()},100)},this.generateFinalRank=function(){this._generateWinResult(),r=parseFloat(r.toFixed(2))},this._generateWinResult=function(){!0,o=this._generateRandomRank();var e=s_oBetList.getTotWinWithCurRank(o);r=e.tot_win,c=e.win_list},this._generateLosingResult=function(){!1;do{o=this._generateRandomRank();var e=s_oBetList.getTotWinWithCurRank(o);r=e.tot_win}while(r>y);c=e.win_list},this._generateRandomRank=function(){for(var e=new Array,t=s_oGameSettings.getHorsePercentageArray();e.length<NUM_HORSES;){var n=t[Math.floor(Math.random()*t.length)];e.unshift(n);for(var i=t.length-1;i>=0;)t[i]===n&&t.splice(i,1),i--}return e},this._prepareHorses=function(){u=new Array,h=new Array,l=new Array;for(var e=s_oGameSettings.getRandomPath(),t=[{x:266,y:233},{x:248,y:234},{x:229,y:235},{x:208,y:237},{x:183,y:239},{x:154,y:241},{x:120,y:244},{x:83,y:246},{x:62,y:249}],n=0;n<NUM_HORSES;n++){var i=createBitmap(s_oSpriteLibrary.getSprite("cage_"+n));_.addChild(i),u.push(i);var r=s_oGameSettings.getHorseInfo(n),s=o.indexOf(n);l[n]=new CHorse(r.start,n+1,d[n],r.scale,e["place_"+(s+1)],_);var a=new CGate(t[n].x,t[n].y,n,_);h.push(a)}i=createBitmap(s_oSpriteLibrary.getSprite("cage_"+NUM_HORSES));_.addChild(i),u.push(i);a=new CGate(t[NUM_HORSES].x,t[NUM_HORSES].y,NUM_HORSES,_);h.push(a)},this.startHorses=function(){for(var e=0;e<NUM_HORSES;e++)l[e].startRace()},this.horsePhotofinish=function(e,n){g.blockExit(!0),v.refreshRank(e,n),++s<4?(t=!1,a=TIME_CHECK_RANK,this._playFlashAnim()):6===s&&(s_iCurMoney+=r,g.showWinPanel(r,c,o,s_iCurMoney),stopSound("start_race"),setVolume("soundtrack",1))},this.checkHorseArrival=function(){n=!0,this._refreshRank()},this._playFlashAnim=function(){for(var e=0;e<NUM_HORSES;e++)l[e].pauseAnim();playSound("photo",1,0),createjs.Tween.get(f).to({alpha:.8},200).call(function(){var e=(new createjs.ColorMatrix).adjustSaturation(-100);_.filters=[new createjs.ColorMatrixFilter(e)],_.cache(0,0,CANVAS_WIDTH,CANVAS_HEIGHT),i=!0,createjs.Tween.get(f).to({alpha:0},400).call(function(){s_oGame.restoreRaceAfterFlash()})})},this.restoreRaceAfterFlash=function(){setTimeout(function(){for(var e=0;e<NUM_HORSES;e++)l[e].unpauseAnim();_.filters=[],_.cache(0,0,CANVAS_WIDTH,CANVAS_HEIGHT),t=!0},1e3)},this.moveCages=function(e){if(4!==e){var t=[123,255,370];for(n=0;n<u.length;n++)u[n].x-=t[e-1];for(i=0;i<h.length;i++)h[i].decreaseX(t[e-1])}else{for(var n=0;n<u.length;n++)_.removeChild(u[n]);for(var i=0;i<h.length;i++)h[i].unload()}},this._refreshRank=function(){for(var e=new Array,t=0;t<NUM_HORSES;t++){var n=l[t].getX();e[t]={index:t,x:n}}e.sort(this.compareXPos),m.refreshRank(e)},this.compareXPos=function(e,t){return e.x>t.x?-1:e.x<t.x?1:0},this.returnInBetPanel=function(){++s_iAdCounter===AD_SHOW_COUNTER&&(s_iAdCounter=0,$(s_oMain).trigger("show_interlevel_ad")),s_oGame.gotoBetPanel()},this.update=function(){if(t){var e=p.update();m.refreshRadar(e);for(var r=0;r<NUM_HORSES;r++)l[r].update(n);i&&_.updateCache(),(a+=s_iTimeElaps)>TIME_CHECK_RANK&&!n&&(a=0,this._refreshRank())}},s_oGame=this,this._init()}var s_oTweenController,s_oGame=null;function CInterface(){var e,t,n,i,r=null,s=null;return this._init=function(){if(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile){var a=s_oSpriteLibrary.getSprite("audio_icon");t={x:CANVAS_WIDTH-a.width/2,y:a.height/2+10},(e=new CToggle(t.x,t.y,a,s_bAudioActive,s_oStage)).addEventListener(ON_MOUSE_UP,this._onAudioToggle,this)}var o=window.document,c=o.documentElement;r=c.requestFullscreen||c.mozRequestFullScreen||c.webkitRequestFullScreen||c.msRequestFullscreen,s=o.exitFullscreen||o.mozCancelFullScreen||o.webkitExitFullscreen||o.msExitFullscreen,!1===ENABLE_FULLSCREEN&&(r=!1),n=new CWinPanel(s_oStage),i=new CAreYouSurePanel(s_oStage)},this.refreshButtonPos=function(){!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||e.setPosition(t.x-s_iOffsetX,t.y+s_iOffsetY)},this.showWinPanel=function(e,t,i,r){n.show(e,t,i,r)},this.showLosePanel=function(e){},this.unload=function(){!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||(e.unload(),e=null),n.unload(),i.unload(),s_oInterface=null},this.blockExit=function(e){},this._onExit=function(){s_oGame.pause(),i.show()},this._onAudioToggle=function(){Howler.mute(s_bAudioActive),s_bAudioActive=!s_bAudioActive},this.resetFullscreenBut=function(){r&&screenfull.enabled&&(void 0).setActive(s_bFullscreen)},this._onFullscreenRelease=function(){s_bFullscreen?s.call(window.document):r.call(window.document.documentElement),sizeHandler()},s_oInterface=this,this._init(),this}var s_oInterface=null;function CCreditsPanel(){var e,t,n,i;this._init=function(){},this.unload=function(){t.off("click",n),e.unload(),e=null,s_oStage.removeChild(i),s_oMenu.exitFromCredits()},this._onLogoButRelease=function(){window.open("http://www.codethislab.com/index.php?&l=en","_blank")},this._init()}function CBetPanel(){var e,t,n,i,r,s,a,o,c,l,u,h,d,_;this._init=function(){e=0,n=0,r=new Array,_=new createjs.Container,s_oStage.addChild(_);var f=createBitmap(s_oSpriteLibrary.getSprite("bg_bet_panel"));if(_.addChild(f),!1===DISABLE_SOUND_MOBILE||!1===s_bMobile){var p=s_oSpriteLibrary.getSprite("audio_icon");s={x:CANVAS_WIDTH-p.width/2,y:p.height/2+10},(h=new CToggle(s.x,s.y,p,s_bAudioActive,s_oStage)).addEventListener(ON_MOUSE_UP,this._onAudioToggle,this)}var g=window.document,m=g.documentElement;m.requestFullscreen||m.mozRequestFullScreen||m.webkitRequestFullScreen||m.msRequestFullscreen,g.exitFullscreen||g.mozCancelFullScreen||g.webkitExitFullscreen||g.msExitFullscreen,!1===ENABLE_FULLSCREEN&&!1;var v=s_oSpriteLibrary.getSprite("simple_bet_panel");BET_PANEL_WIDTH=v.width,BET_PANEL_HEIGHT=v.height,(d=new createjs.Container).x=BET_PANEL_X,d.y=BET_PANEL_Y,_.addChild(d),(i=new Array)[0]=new CSimpleBetPanel(0,0,d),i[1]=new CForecastPanel(BET_PANEL_WIDTH,0,d),l=new CChipPanel(1010,326,_),(a=new createjs.Shape).graphics.beginFill("rgba(255,255,255,0.01)").drawRect(BET_PANEL_X+6,BET_PANEL_Y,BET_PANEL_WIDTH-12,BET_PANEL_HEIGHT),_.addChild(a),d.mask=a,t=0,EngagedNation.Config.Game.game_play_is_forecast_enabled&&((o=new CGfxButton(BET_PANEL_X+8,CANVAS_HEIGHT/2+50,s_oSpriteLibrary.getSprite("arrow_left"),_)).addEventListener(ON_MOUSE_UP,this._onArrowLeft,this),(c=new CGfxButton(BET_PANEL_X+v.width-10,CANVAS_HEIGHT/2+50,s_oSpriteLibrary.getSprite("arrow_right"),_)).addEventListener(ON_MOUSE_UP,this._onArrowRight,this)),u=new CMsgBox,s_isInstructionDisplayed||(s_isInstructionDisplayed=!0,(new CInstructionBox).show()),s_oBetList.reset(),this.refreshButtonPos()},this._showCashOut=function(){l._showCashOut()},this._hideCashOut=function(){l._hideCashOut()},this.unload=function(){EngagedNation.Config.Game.game_play_is_forecast_enabled&&(o.unload(),c.unload()),!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||h.unload(),u.unload(),l.unload();for(var e=0;e<i.length;e++)i[e].unload();s_oStage.removeAllChildren()},this.refreshButtonPos=function(){!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||h.setPosition(s.x-s_iOffsetX,s.y+s_iOffsetY)},this.setChipSelected=function(e){n=e},this.setMoney=function(e){s_iCurMoney=e,l.refreshMoney()},this.setSimpleBet=function(t,n,i,s){return i>s_iCurMoney?(u.show(EngagedNation.Config.Game.text_not_enough_credits,!0),!1):e+i>MAX_BET?(u.show(EngagedNation.Config.Game.text_bet_high,!1),!1):(s_oBetList.addSimpleBet(t,n,i),e+=i,s_iCurMoney-=i,l.refreshMoney(),l.refreshBet(e),r.push(s),!0)},this.setForecastBet=function(t,n,i,s){return i>s_iCurMoney?(u.show(EngagedNation.Config.Game.text_not_enough_credits,!0),!1):e+i>MAX_BET?(u.show(EngagedNation.Config.Game.text_bet_high,!1),!1):(s_oBetList.addForecastBet(t,n,i),e+=i,s_iCurMoney-=i,l.refreshMoney(),l.refreshBet(e),r.push(s),!0)},this.refreshPagePos=function(e,n){d.x=BET_PANEL_X,i[t].setX(0),i[e].setX(n)},this.clearBet=function(){for(var t=0;t<r.length;t++)r[t].clearBet();s_iCurMoney+=e,e=0,i[0].clearBet(),s_oBetList.reset(),l.refreshBet(0),l.refreshMoney()},this._onArrowLeft=function(){var e=t;++t===i.length&&(t=0,e=i.length-1),i[t].setX(BET_PANEL_WIDTH),createjs.Tween.get(d).to({x:-BET_PANEL_WIDTH+BET_PANEL_X},500,createjs.Ease.cubicOut).call(function(){s_oBetPanel.refreshPagePos(e,BET_PANEL_WIDTH)})},this._onArrowRight=function(){var e=t;--t<0&&(t=i.length-1),i[t].setX(-BET_PANEL_WIDTH),createjs.Tween.get(d).to({x:BET_PANEL_X+BET_PANEL_WIDTH},500,createjs.Ease.cubicOut).call(function(){s_oBetPanel.refreshPagePos(e,-BET_PANEL_WIDTH)})},this.onStartExit=function(){e<MIN_BET?u.show(EngagedNation.Config.Game.text_bet_low,!1):(this.unload(),s_oMain.gotoGame(e),$(s_oMain).trigger("bet_placed",e))},this.onExit=function(){$(s_oMain).trigger("end_session"),this.unload(),s_oMain.gotoMenu()},this._onAudioToggle=function(){Howler.mute(s_bAudioActive),s_bAudioActive=!s_bAudioActive},this.resetFullscreenBut=function(){},this._onFullscreenRelease=function(){sizeHandler()},this.getChipSelected=function(){return n},s_oBetPanel=this,this._init()}var s_oBetPanel=null;function CChipPanel(e,t,n){var i,r,s,a,o,c,l,u,h=!1;this._init=function(e,t){(c=new createjs.Container).x=e,c.y=t-35,l.addChild(c),(u=new CTextButton(73,360,s_oSpriteLibrary.getSprite("but_cash_out"),EngagedNation.Config.Game.text_button_cash_out,PRIMARY_FONT,EngagedNation.Config.Game.text_button_cash_out_font_color,EngagedNation.Config.Game.text_button_cash_out_font_size,c)).addEventListener(ON_MOUSE_UP,this._onCashOut,this),new CTextButton(73,2,s_oSpriteLibrary.getSprite("but_clear_bet"),EngagedNation.Config.Game.text_button_clear,PRIMARY_FONT,EngagedNation.Config.Game.text_button_clear_font_color,EngagedNation.Config.Game.text_button_clear_font_size,c).addEventListener(ON_MOUSE_UP,this._onClearBet,this);var n=s_oSpriteLibrary.getSprite("money_panel"),i=createBitmap(s_oSpriteLibrary.getSprite("money_panel"));i.regX=n.width/2,i.x=73,i.y=22,c.addChild(i),new CTLText(c,18,32,110,14,EngagedNation.Config.Game.text_bet_right_panel_font_size,"center",EngagedNation.Config.Game.text_bet_right_panel_font_color,EngagedNation.Config.Game.text_bet_right_panel_font_family,1,0,0,EngagedNation.Config.Game.text_bet_right_panel_min+": "+EngagedNation.Config.Game.text_currency+MIN_BET,!0,!0,!1,!1),new CTLText(c,18,44,110,14,EngagedNation.Config.Game.text_bet_right_panel_font_size,"center",EngagedNation.Config.Game.text_bet_right_panel_font_color,EngagedNation.Config.Game.text_bet_right_panel_font_family,1,0,0,EngagedNation.Config.Game.text_bet_right_panel_max+": "+EngagedNation.Config.Game.text_currency+MAX_BET,!0,!0,!1,!1),(r=createBitmap(s_oSpriteLibrary.getSprite("money_panel"))).regX=n.width/2,r.x=73,r.y=72,c.addChild(r);var r;new CTLText(c,5,74,40,12,EngagedNation.Config.Game.text_bet_right_panel_bet_font_size,"left",EngagedNation.Config.Game.text_bet_right_panel_bet_font_color,EngagedNation.Config.Game.text_bet_right_panel_bet_font_family,1,0,0,EngagedNation.Config.Game.text_bet_right_panel_bet,!0,!0,!1,!1);a=new CTLText(c,18,82,110,26,EngagedNation.Config.Game.text_bet_right_panel_bet_value_font_size,"center",EngagedNation.Config.Game.text_bet_right_panel_bet_value_font_color,EngagedNation.Config.Game.text_bet_right_panel_bet_value_font_family,1,0,0,EngagedNation.Config.Game.text_currency+"0",!0,!0,!1,!1),(r=createBitmap(n)).regX=n.width/2,r.x=73,r.y=122,c.addChild(r);new CTLText(c,5,124,40,12,EngagedNation.Config.Game.text_bet_right_panel_credits_font_size,"left",EngagedNation.Config.Game.text_bet_right_panel_credits_font_color,EngagedNation.Config.Game.text_bet_right_panel_credits_font_family,1,0,0,EngagedNation.Config.Game.text_bet_right_panel_credits,!0,!0,!1,!1);s=new CTLText(c,18,132,110,26,EngagedNation.Config.Game.text_bet_right_panel_credits_value_font_size,"center",EngagedNation.Config.Game.text_bet_right_panel_credits_value_font_color,EngagedNation.Config.Game.text_bet_right_panel_credits_value_font_family,1,0,0,EngagedNation.Config.Game.text_currency+s_iCurMoney,!0,!0,!1,!1),this._initChips(),(o=new CButStartRace(73,304,s_oSpriteLibrary.getSprite(s_oMain.getIsUnlimitedRace()?"but_start_race_unli":"but_start_race"),s_oMain.getIsUnlimitedRace()?"":s_oMain.getNumberOfRace(),EngagedNation.Config.Game.text_number_of_race_font_color,EngagedNation.Config.Game.text_number_of_race_font_size,EngagedNation.Config.Game.text_number_of_race_font_family,c)).addEventListener(ON_MOUSE_UP,this._onStartRace,this)},this.unload=function(){for(var e=0;e<i;e++)i[e].unload();o.unload()},this._initChips=function(){var e=createBitmap(s_oSpriteLibrary.getSprite("fiche_panel"));e.x=0,e.y=170,c.addChild(e);var t=[{x:46,y:220},{x:97,y:220},{x:145,y:220},{x:46,y:264},{x:97,y:264},{x:145,y:264}];i=new Array;for(var n=0;n<NUM_CHIPS;n++)i[n]=new CFicheBut(n,t[n].x,t[n].y,1,c),i[n].addEventListenerWithParams(ON_MOUSE_UP,this._onFicheClicked,this,n);var s=s_oSpriteLibrary.getSprite("fiche_highlight");(r=createBitmap(s)).regX=s.width/2,r.regY=s.height/2,r.x=i[0].getX()-22,r.y=i[0].getY()-23,c.addChild(r)},this.refreshMoney=function(){s.refreshText(EngagedNation.Config.Game.text_currency+s_iCurMoney)},this.refreshBet=function(e){a.refreshText(EngagedNation.Config.Game.text_currency+e)},this._onStartRace=function(){h||0!=s_oMain.getNumberOfRace()&&s_oBetPanel.onStartExit()},this._onCashOut=function(){h||(h=!0,s_oBetPanel.clearBet(),playSound("cash_out",1),EngagedNation.Game.addPostMessage({status:"complete",score:s_iCurMoney}))},this._showCashOut=function(){u.setVisible(!0)},this._hideCashOut=function(){u.setVisible(!1)},this._onClearBet=function(){s_oBetPanel.clearBet()},this._onFicheClicked=function(e){r.x=i[e].getX()-22,r.y=i[e].getY()-23,s_oBetPanel.setChipSelected(e)},l=n,this._init(e,t)}function CSimpleBetPanel(e,t,n){var i,r,s,a,o,c,l,u,h,d;this._init=function(e,t){(h=new createjs.Container).x=e,h.y=t,d.addChild(h);var n=createBitmap(s_oSpriteLibrary.getSprite("simple_bet_panel"));h.addChild(n);new CTLText(h,25,60,100,20,EngagedNation.Config.Game.text_bet_left_panel_trap_font_size,"center",EngagedNation.Config.Game.text_bet_left_panel_trap_font_color,PRIMARY_FONT,1,0,0,EngagedNation.Config.Game.text_bet_left_panel_trap,!0,!0,!1,!1),new CTLText(h,140,60,100,20,EngagedNation.Config.Game.text_bet_left_panel_win_font_size,"center",EngagedNation.Config.Game.text_bet_left_panel_win_font_color,PRIMARY_FONT,1,0,0,EngagedNation.Config.Game.text_bet_left_panel_win,!0,!0,!1,!1),new CTLText(h,250,60,100,20,EngagedNation.Config.Game.text_bet_left_panel_place_font_size,"center",EngagedNation.Config.Game.text_bet_left_panel_place_font_color,PRIMARY_FONT,1,0,0,EngagedNation.Config.Game.text_bet_left_panel_place,!0,!0,!1,!1),new CTLText(h,360,60,100,20,EngagedNation.Config.Game.text_bet_left_panel_show_font_size,"center",EngagedNation.Config.Game.text_bet_left_panel_show_font_color,PRIMARY_FONT,1,0,0,EngagedNation.Config.Game.text_bet_left_panel_show,!0,!0,!1,!1),new CTLText(h,475,60,100,20,EngagedNation.Config.Game.text_bet_left_panel_trap_font_size,"center",EngagedNation.Config.Game.text_bet_left_panel_trap_font_color,PRIMARY_FONT,1,0,0,EngagedNation.Config.Game.text_bet_left_panel_trap,!0,!0,!1,!1),new CTLText(h,585,60,100,20,EngagedNation.Config.Game.text_bet_left_panel_win_font_size,"center",EngagedNation.Config.Game.text_bet_left_panel_win_font_color,PRIMARY_FONT,1,0,0,EngagedNation.Config.Game.text_bet_left_panel_win,!0,!0,!1,!1),new CTLText(h,695,60,100,20,EngagedNation.Config.Game.text_bet_left_panel_place_font_size,"center",EngagedNation.Config.Game.text_bet_left_panel_place_font_color,PRIMARY_FONT,1,0,0,EngagedNation.Config.Game.text_bet_left_panel_place,!0,!0,!1,!1),new CTLText(h,805,60,100,20,EngagedNation.Config.Game.text_bet_left_panel_show_font_size,"center",EngagedNation.Config.Game.text_bet_left_panel_show_font_color,PRIMARY_FONT,1,0,0,EngagedNation.Config.Game.text_bet_left_panel_show,!0,!0,!1,!1);for(var i=s_oSpriteLibrary.getSprite("bibs"),r={images:[i],frames:{width:i.width/4,height:i.height/2},animations:{bib_0:[0],bib_1:[1],bib_2:[2],bib_3:[3],bib_4:[4],bib_5:[5],bib_6:[6],bib_7:[7]}},s=new createjs.SpriteSheet(r),a=160,o=23,c=0;c<NUM_HORSES;c++){var l=createSprite(s,"bib_"+c,0,0,i.width/3,i.height/2);l.x=o,l.y=a,l.scaleX=l.scaleY=.5,h.addChild(l),c===NUM_HORSES/2-1?(o=470,a=160):a+=i.height/2+45}this._initHorseInfos(),this._initBetPlaces()},this._initHorseInfos=function(){var e=s_oGameSettings.getAllHorseNames();i=new Array,r=new Array;for(var t=18,n=85,s=0;s<NUM_HORSES;s++){var a={images:[s_oSpriteLibrary.getSprite("horse_"+(s+1)+"_a"),s_oSpriteLibrary.getSprite("horse_"+(s+1)+"_b")],frames:[[1,1,249,191,0,-56,-19],[252,1,307,193,0,-8,-19],[561,1,308,196,0,-4,-16],[1,199,307,198,0,-2,-14],[310,199,306,201,0,-1,-11],[618,199,307,205,0,0,-7],[1,406,305,209,0,-1,-3],[308,406,304,211,0,-3,-1],[614,406,301,209,0,-8,0],[1,619,295,207,0,-17,-2],[298,619,295,204,0,-19,-5],[595,619,301,203,0,-21,-8],[1,1,284,200,1,-35,-11],[287,1,293,198,1,-31,-14],[582,1,306,196,1,-20,-16]],animations:{idle:[1,1],anim:[1,14],start:[15],anim_1:[1,14,"anim"],anim_2:[6,14,"anim"],anim_3:[11,14,"anim"]}},o=createSprite(new createjs.SpriteSheet(a),"idle",HORSE_WIDTH/2,HORSE_HEIGHT,HORSE_WIDTH,HORSE_HEIGHT);o.x=t,o.y=n,o.scaleX=o.scaleY=.36,h.addChild(o),r.push(o);var c=new CTLText(h,t+4,n,100,14,EngagedNation.Config.Game.text_bet_left_panel_horse_name_font_size,"left",EngagedNation.Config.Game.text_bet_left_panel_horse_name_font_color,EngagedNation.Config.Game.text_bet_left_panel_horse_name_font_family,1,0,0,e[s].toUpperCase(),!0,!0,!1,!1);i[s]=c,s===NUM_HORSES/2-1?(t=468,n=85):n+=115}},this._initBetPlaces=function(){l=new Array,u=new Array,c=new Array,s=new Array,a=new Array,o=new Array;for(var e=150,t=75,n=s_oSpriteLibrary.getSprite("bet_place"),i=0;i<NUM_HORSES;i++){var r,d;(r=new createjs.Text(s_oGameSettings.getOddWin(i),"20px "+PRIMARY_FONT,"#fff")).textAlign="center",r.textBaseline="middle",r.x=e+18,r.y=t+104,h.addChild(r),s[i]=r,(d=new CButBet(r.x+20,t+50,n,.7,h)).addEventListenerWithParams(ON_MOUSE_UP,this._onWinClicked,this,i),c.push(d),(r=new createjs.Text(s_oGameSettings.getOddPlace(i),"20px "+PRIMARY_FONT,"#fff")).textAlign="center",r.textBaseline="middle",r.x=e+130,r.y=t+104,h.addChild(r),a[i]=r,(d=new CButBet(r.x+20,t+50,n,.7,h)).addEventListenerWithParams(ON_MOUSE_UP,this._onPlaceClicked,this,i),l.push(d),(r=new createjs.Text(s_oGameSettings.getOddShow(i),"20px "+PRIMARY_FONT,"#fff")).textAlign="center",r.textBaseline="middle",r.x=e+240,r.y=t+104,h.addChild(r),o[i]=r,(d=new CButBet(r.x+20,t+50,n,.7,h)).addEventListenerWithParams(ON_MOUSE_UP,this._onShowClicked,this,i),u.push(d),i===NUM_HORSES/2-1?(e=596,t=75):t+=116}},this.unload=function(){for(var e=0;e<l.length;e++)c[e].unload(),u[e].unload(),l[e].unload()},this.setX=function(e){h.x=e},this.clearBet=function(){for(var e=0;e<r.length;e++)r[e].gotoAndStop("idle")},this._onWinClicked=function(e){var t=CHIP_VALUES[s_oBetPanel.getChipSelected()];s_oBetPanel.setSimpleBet(e,1,t,c[e])&&("anim"!==r[e].currentAnimation&&r[e].gotoAndPlay("anim"),c[e].increaseBet(t))},this._onPlaceClicked=function(e){var t=CHIP_VALUES[s_oBetPanel.getChipSelected()];s_oBetPanel.setSimpleBet(e,2,t,l[e])&&("anim"!==r[e].currentAnimation&&r[e].gotoAndPlay("anim"),l[e].increaseBet(t))},this._onShowClicked=function(e){var t=CHIP_VALUES[s_oBetPanel.getChipSelected()];s_oBetPanel.setSimpleBet(e,3,t,u[e])&&("anim"!==r[e].currentAnimation&&r[e].gotoAndPlay("anim"),u[e].increaseBet(t))},this.getContainer=function(){return h},d=n,this._init(e,t)}function CForecastPanel(e,t,n){var i,r,s;this._init=function(){(r=new createjs.Container).x=e,r.y=t,s.addChild(r);var n=createBitmap(s_oSpriteLibrary.getSprite("forecast_panel"));r.addChild(n),this._initForecastBets()},this.unload=function(){for(var e in i)e.indexOf("forecast_")>-1&&i[e].unload()},this._initForecastBets=function(){i=new Array;for(var e=[{x:26,y:55},{x:250,y:55},{x:474,y:55},{x:698,y:55},{x:26,y:302},{x:250,y:302},{x:474,y:302},{x:698,y:302}],t=0;t<NUM_HORSES;t++){var n=e[t].x,r=e[t].y;this._placeForecastBetForHorse(t,n,r)}},this._placeForecastBetForHorse=function(e,t,n){for(var s=s_oSpriteLibrary.getSprite("odd_bg"),a=s_oSpriteLibrary.getSprite("bet_place"),o=s_oSpriteLibrary.getSprite("bibs"),c=o.width/4,l=o.height/2,u={images:[o],frames:{width:c,height:l},animations:{bib_0:[0],bib_1:[1],bib_2:[2],bib_3:[3],bib_4:[4],bib_5:[5],bib_6:[6],bib_7:[7]}},h=new createjs.SpriteSheet(u),d=0;d<NUM_HORSES;d++)if(d!==e){var _=createSprite(h,"bib_"+e,0,0,c,l);_.x=t,_.y=n,_.scaleX=_.scaleY=.55,r.addChild(_);var f=new createjs.Text("X","12px "+PRIMARY_FONT,"#fff");f.textAlign="center",f.textBaseline="middle",f.x=t+.55*c+10,f.y=n+.55*l/2,r.addChild(f);var p=createSprite(h,"bib_"+d,0,0,c/3,l/2);p.x=f.x+10,p.y=_.y,p.scaleX=p.scaleY=.55,r.addChild(p);var g=createBitmap(s);g.x=p.x+.55*c+10,g.y=_.y+2,r.addChild(g);var m=new createjs.Text(s_oGameSettings.getForecastOdd(e,d),"18px "+PRIMARY_FONT,"#fff");m.textAlign="center",m.textBaseline="alphabetic",m.x=g.x+s.width/2,m.y=g.y+s.height/2+8,r.addChild(m);var v=new CButBet(g.x+s.width+.72*a.width/2+5,g.y+.72*a.height/2-2,a,.45,r);v.setScale(.6),v.addEventListenerWithParams(ON_MOUSE_UP,this._onForecastClicked,this,{first:e,second:d}),i["forecast_"+e+"_"+d]=v,n+=.55*(l-14)+3}},this.setX=function(e){r.x=e},this._onForecastClicked=function(e){var t=CHIP_VALUES[s_oBetPanel.getChipSelected()];s_oBetPanel.setForecastBet(e.first,e.second,t,i["forecast_"+e.first+"_"+e.second])&&i["forecast_"+e.first+"_"+e.second].increaseBet(t)},s=n,this._init(e,t)}function CBetList(){var e,t,n;this._init=function(){this.reset()},this.reset=function(){e=new Array;for(var i=0;i<NUM_HORSES;i++)e[i]=new Array,e[i].place_1=0,e[i].place_2=0,e[i].place_3=0;t=new Array;for(i=0;i<NUM_HORSES;i++){t[i]=new Array;for(var r=0;r<NUM_HORSES;r++)t[i][r]=0}n=new Array},this.addSimpleBet=function(t,i,r){e[t]["place_"+i]+=r;var s=0;switch(i){case 1:s=r*s_oGameSettings.getOddWin(t);break;case 2:s=r*s_oGameSettings.getOddPlace(t);break;case 3:s=r*s_oGameSettings.getOddShow(t)}n.push({type_bet:"simple",horses:[{index:t,place:i}],bet:r,win:s})},this.addForecastBet=function(e,i,r){t[e][i]+=r,n.push({type_bet:"forecast",horses:[{index:e,place:1},{index:i,place:2}],bet:r,win:r*s_oGameSettings.getForecastOdd(e,i)})},this.getMinWin=function(){if(n.length>0){for(var e=n[0].win,t=1;t<n.length;t++)e>n[t].win&&(e=n[t].win);return e}return 0},this.getTotWinWithCurRank=function(n){var i=0,r=0,s=new Array;return e[n[0]].place_1>0&&(i=e[n[0]].place_1*s_oGameSettings.getOddWin(n[0]),r+=i=parseFloat(i.toFixed(2)),s.push({win:i,horses:n[0],bet:e[n[0]].place_1,type:"win"})),e[n[0]].place_2>0&&(i=e[n[0]].place_2*s_oGameSettings.getOddPlace(n[0]),r+=i=parseFloat(i.toFixed(2)),s.push({win:i,horses:n[0],bet:e[n[0]].place_2,type:"place"})),e[n[1]].place_2>0&&(i=e[n[1]].place_2*s_oGameSettings.getOddPlace(n[1]),r+=i=parseFloat(i.toFixed(2)),s.push({win:i,horses:n[1],bet:e[n[1]].place_2,type:"place"})),e[n[0]].place_3>0&&(i=e[n[0]].place_3*parseFloat(s_oGameSettings.getOddShow(n[0])),r+=i=parseFloat(i.toFixed(2)),s.push({win:i,horses:n[0],bet:e[n[0]].place_3,type:"show"})),e[n[1]].place_3>0&&(i=e[n[1]].place_3*s_oGameSettings.getOddShow(n[1]),r+=i=parseFloat(i.toFixed(2)),s.push({win:i,horses:n[1],bet:e[n[1]].place_3,type:"show"})),e[n[2]].place_3>0&&(i=e[n[2]].place_3*s_oGameSettings.getOddShow(n[2]),r+=i=parseFloat(i.toFixed(2)),s.push({win:i,horses:n[2],bet:e[n[2]].place_3,type:"show"})),t[n[0]][n[1]]>0&&(i=t[n[0]][n[1]]*s_oGameSettings.getForecastOdd(n[0],n[1]),r+=i=parseFloat(i.toFixed(2)),s.push({win:i,horses:[n[0],n[1]],bet:t[n[0]][n[1]],type:"forecast"})),{tot_win:r,win_list:s}},s_oBetList=this,this._init()}var EngagedNation,s_oBetList=null;function CFichesController(e,t){var n,i,r,s,a,o,c,l,u,h,d,_,f,p,g;this._init=function(e){s=e,u=new createjs.Container,g.addChild(u),(o=new CVector2).set(u.x,u.y),h=new createjs.Container,g.addChild(h);var t=18*e;(_=new createjs.Text("",t+"px "+PRIMARY_FONT,"#000")).textAlign="center",h.addChild(_),(d=new createjs.Text("",t+"px "+PRIMARY_FONT,"#fff")).textAlign="center",h.addChild(d),i=0,r=a=0,n=!1,f=new Array,p=new Array},this.addEventListener=function(e,t,n){f[e]=t,p[e]=n},this.reset=function(){n=!1,r=0,u.removeAllChildren(),u.x=o.getX(),u.y=o.getY(),_.text="",d.text=""},this.setPrevValue=function(e){a=e},this.refreshFiches=function(t,n,i){t=t.sortOn("value","index");var a=n+FICHE_WIDTH*e/2,o=i+FICHE_WIDTH*e/2;r=0;for(var c=0,l=0;l<t.length;l++){new CFicheBut(t[l].index,a,o,e,u).disable(),o-=5,++c>9&&(c=0,a+=FICHE_WIDTH,o=i),r+=t[l].value}playSound("chip",1,0),d.x=n,d.y=i+25*s,d.text=EngagedNation.Config.Game.text_currency+r,_.x=n+2,_.y=i+27*s,_.text=EngagedNation.Config.Game.text_currency+r},this.createFichesPile=function(e,t,n){this.reset();var i=CHIP_VALUES,r=new Array;do{for(var a=i[i.length-1],o=i.length-1;a>e;)a=i[--o];for(var c=Math.floor(e/a),l=0;l<c;l++)r.push({value:a,index:s_oGameSettings.getIndexForFiches(a)});if(Math.floor(e/a)===e/a)var u=0;else u=e%a;e=u.toFixed(2)}while(u>0);this.refreshFiches(r,t,n*s)},this.initMovement=function(e,t){a=r,c=new CVector2(u.x,u.y),l=new CVector2(e,t),d.text="",_.text="",n=!0},this.getValue=function(){return r},this.getPrevBet=function(){return a},this.update=function(e){if(n)if((i+=e)>TIME_FICHES_MOV)i=0,n=!1;else{var t=easeInOutCubic(i,0,1,TIME_FICHES_MOV),r=new CVector2;r=tweenVectors(c,l,t,r);u.x=r.getX(),u.y=r.getY()}},g=t,this._init(e)}function CButBet(e,t,n,i,r){var s,a,o,c,l,u,h,d,_,f,p,g,m,v=!1;return this._init=function(e,t,n,i){s=0,a=new Array,o=new Array,l=new Array,(g=new createjs.Container).x=e,g.y=t,m.addChild(g),c=createBitmap(n),u=1,h=1,c.regX=n.width/2,c.regY=n.height/2,s_bMobile||(c.cursor="pointer"),g.addChild(c),this._initListener(),p=new CFichesController(i,g)},this.unload=function(){c.off("mousedown",_),c.off("pressup",f),m.removeChild(g)},this.setVisible=function(e){c.visible=e},this.setCursorType=function(e){c.cursor=e},this._initListener=function(){_=c.on("mousedown",this.buttonDown),f=c.on("pressup",this.buttonRelease)},this.addEventListener=function(e,t,n){a[e]=t,o[e]=n},this.addEventListenerWithParams=function(e,t,n,i){a[e]=t,o[e]=n,l[e]=i},this.buttonRelease=function(){v||(c.scaleX=u>0?u:-u,c.scaleY=h,playSound("chip",1,0),a[ON_MOUSE_UP]&&a[ON_MOUSE_UP].call(o[ON_MOUSE_UP],l[ON_MOUSE_UP]))},this.buttonDown=function(){v||(c.scaleX=u>0?.9*u:.9*-u,c.scaleY=.9*h,a[ON_MOUSE_DOWN]&&a[ON_MOUSE_DOWN].call(o[ON_MOUSE_DOWN],l[ON_MOUSE_DOWN]))},this.rotation=function(e){c.rotation=e},this.getButton=function(){return c},this.setPosition=function(e,t){c.x=e,c.y=t},this.setX=function(e){c.x=e},this.setY=function(e){c.y=e},this.getButtonImage=function(){return c},this.block=function(e){v=e,c.scaleX=u,c.scaleY=h},this.setScaleX=function(e){c.scaleX=e,u=e},this.setScale=function(e){u=e,h=e,c.scaleX=c.scaleY=e},this.increaseBet=function(e){s+=e,p.createFichesPile(s.toFixed(2),0,-4)},this.clearBet=function(){s=0,p.reset()},this.getX=function(){return c.x},this.getY=function(){return c.y},this.pulseAnimation=function(){createjs.Tween.get(c).to({scaleX:.9*u,scaleY:.9*h},850,createjs.Ease.quadOut).to({scaleX:u,scaleY:h},650,createjs.Ease.quadIn).call(function(){d.pulseAnimation()})},this.trebleAnimation=function(){createjs.Tween.get(c).to({rotation:5},75,createjs.Ease.quadOut).to({rotation:-5},140,createjs.Ease.quadIn).to({rotation:0},75,createjs.Ease.quadIn).wait(750).call(function(){d.trebleAnimation()})},this.removeAllTweens=function(){createjs.Tween.removeTweens(c)},this.getTotBet=function(){return s},m=void 0!==r?r:s_oStage,this._init(e,t,n,i),d=this,this}function CVector2(e,t){var n,i;this._init=function(e,t){n=e,i=t},this.add=function(e,t){n+=e,i+=t},this.addV=function(e){n+=e.getX(),i+=e.getY()},this.scalarDivision=function(e){n/=e,i/=e},this.subV=function(e){n-=e.getX(),i-=e.getY()},this.scalarProduct=function(e){n*=e,i*=e},this.invert=function(){n*=-1,i*=-1},this.dotProduct=function(e){return n*e.getX()+i*e.getY()},this.set=function(e,t){n=e,i=t},this.setV=function(e){n=e.getX(),i=e.getY()},this.length=function(){return Math.sqrt(n*n+i*i)},this.length2=function(){return n*n+i*i},this.normalize=function(){var e=this.length();e>0&&(n/=e,i/=e)},this.getNormalize=function(e){this.length();e.set(n,i),e.normalize()},this.rot90CCW=function(){var e=n;n=-i,i=e},this.rot90CW=function(){var e=n;n=i,i=-e},this.getRotCCW=function(e){e.set(n,i),e.rot90CCW()},this.getRotCW=function(e){e.set(n,i),e.rot90CW()},this.ceil=function(){n=Math.ceil(n),i=Math.ceil(i)},this.round=function(){n=Math.round(n),i=Math.round(i)},this.toString=function(){return"Vector2: "+n+", "+i},this.print=function(){trace("Vector2: "+n+", "+i)},this.getX=function(){return n},this.getY=function(){return i},this._init(e,t)}function CMsgBox(){var e,t,n,i;return this._init=function(){(n=new createjs.Container).alpha=0,n.visible=!1,s_oStage.addChild(n),e=createBitmap(s_oSpriteLibrary.getSprite("msg_box")),n.addChild(e),t=new CTLText(n,CANVAS_WIDTH/2-200,CANVAS_HEIGHT/2-100,400,130,EngagedNation.Config.Game.text_message_box_font_size,"center",EngagedNation.Config.Game.text_message_box_font_color,PRIMARY_FONT,1,0,0," ",!0,!0,!0,!1),(i=new CGfxButton(CANVAS_WIDTH/2+205,CANVAS_HEIGHT/2-130,s_oSpriteLibrary.getSprite("but_exit"),n)).addEventListener(ON_MOUSE_UP,this._onExit,this)},this.unload=function(){i.unload()},this.show=function(e,i){t.refreshText(e),n.visible=!0,createjs.Tween.get(n).to({alpha:1},500)},this._onExit=function(){n.visible=!1},this._onRecharge=function(){$(s_oMain).trigger("recharge"),n.visible=!1},this._init(),this}function CInstructionBox(){var e,t;return this._init=function(){(t=new createjs.Container).alpha=0,t.visible=!1,s_oStage.addChild(t),e=createBitmap(s_oSpriteLibrary.getSprite("instruction_panel")),t.addChild(e),this._initListener()},this.unload=function(){e.unload()},this.show=function(){t.visible=!0,createjs.Tween.get(t).to({alpha:1},500)},this._onExit=function(){t.visible=!1},this._initListener=function(){e.on("pressup",this._onExit)},this._init(),this}function CTrackBg(e){var t,n,i,r,s,a,o;this._init=function(){a=new createjs.Container,o.addChild(a),n=0,i=3,r=0,s=new Array;for(var e=s_oSpriteLibrary.getSprite("bg_track"),c=e.width/30,l=0;l<c;l++){var u=createBitmap(e);u.regX=30*l,u.scaleX=u.scaleY=1.25,l>0&&(u.visible=!1),a.addChild(u),s.push(u)}t=!1},this.startTrack=function(){t=!0},this.update=function(){return t?(++r===i&&(r=0,s[++n].visible=!0,s[n-1].visible=!1,396===n?(t=!1,s_oGame.checkHorseArrival()):n<5?s_oGame.moveCages(n):i=2),n):n},o=e,this._init()}function CHorse(e,t,n,i,r,s){var a,o,c,l,u,h,d,_,f,p,g,m,v;this._init=function(e,t,n,i,r){o=!1,c=t,d=0,_=ARRIVAL_X-HORSE_WIDTH/2*i+70,f=n,p=r,(m=new createjs.Container).x=e.x,m.y=e.y,m.scaleX=m.scaleY=1.25*i,m.regX=HORSE_WIDTH/2,m.regY=HORSE_HEIGHT,v.addChild(m);var s={framerate:30,images:[s_oSpriteLibrary.getSprite("horse_"+t+"_a"),s_oSpriteLibrary.getSprite("horse_"+t+"_b")],frames:[[1,1,249,191,0,-56,-19],[252,1,307,193,0,-8,-19],[561,1,308,196,0,-4,-16],[1,199,307,198,0,-2,-14],[310,199,306,201,0,-1,-11],[618,199,307,205,0,0,-7],[1,406,305,209,0,-1,-3],[308,406,304,211,0,-3,-1],[614,406,301,209,0,-8,0],[1,619,295,207,0,-17,-2],[298,619,295,204,0,-19,-5],[595,619,301,203,0,-21,-8],[1,1,284,200,1,-35,-11],[287,1,293,198,1,-31,-14],[582,1,306,196,1,-20,-16]],animations:{idle:[0,0],anim:[1,14],start:[15],anim_1:[1,14,"anim"],anim_2:[6,14,"anim"],anim_3:[11,14,"anim"]}},a=new createjs.SpriteSheet(s);g=createSprite(a,"idle",HORSE_WIDTH/2,HORSE_HEIGHT,HORSE_WIDTH,HORSE_HEIGHT),m.addChild(g)},this.startRace=function(){var e="anim_"+(Math.floor(3*Math.random())+1);g.gotoAndPlay(e),h=m.x,l=0,u=p[d].frame,a=!0},this.pauseAnim=function(){g.paused=!0},this.unpauseAnim=function(){g.paused=!1},this.getX=function(){return m.x},this.update=function(e){if(a){if(++l>=u)++d<p.length?(l=0,u=p[d].frame,h=m.x):a=!1;else{var t=s_oTweenController.easeLinear(l,0,1,u),n=s_oTweenController.tweenValue(h,p[d].x,t);m.x=n}e&&!o&&m.x>=_&&(o=!0,s_oGame.horsePhotofinish(c-1,f))}},v=s,this._init(e,t,n,i,r)}function CTweenController(){this.tweenValue=function(e,t,n){return e+n*(t-e)},this.easeLinear=function(e,t,n,i){return n*e/i+t},this.easeInCubic=function(e,t,n,i){return t+n*((e/=i)*e*e)},this.easeBackInQuart=function(e,t,n,i){var r=(e/=i)*e;return t+n*(2*r*r+2*(r*e)+-3*r)},this.easeInBack=function(e,t,n,i){return n*(e/=i)*e*(2.70158*e-1.70158)+t},this.easeOutCubic=function(e,t,n,i){return n*((e=e/i-1)*e*e+1)+t},this.getTrajectoryPoint=function(e,t){var n=new createjs.Point,i=(1-e)*(1-e),r=e*e;return n.x=i*t.start.x+2*(1-e)*e*t.traj.x+r*t.end.x,n.y=i*t.start.y+2*(1-e)*e*t.traj.y+r*t.end.y,n}}function CRankingGui(e,t){var n,i,r,s,a,o,c,l,u;this._init=function(e){var t=s_oSpriteLibrary.getSprite("rank_panel");a={x:0,y:CANVAS_HEIGHT-t.height+4},(l=new createjs.Container).x=a.x,l.y=a.y,u.addChild(l);var r=createBitmap(t);l.addChild(r),(s=new Array)[0]=new createjs.Point(938,44),s[1]=new createjs.Point(818,44),s[2]=new createjs.Point(695,44),s[3]=new createjs.Point(570,44),s[4]=new createjs.Point(450,44),s[5]=new createjs.Point(320,44),s[6]=new createjs.Point(201,44),s[7]=new createjs.Point(86,44),this._initBibs(e);var h=s_oSpriteLibrary.getSprite("fill_bar");(o=createBitmap(h)).x=130,o.y=114,l.addChild(o),n=h.width,i=n/NUM_TRACK_BG,(c=new createjs.Shape).graphics.beginFill("rgba(255,255,255,0.01)").drawRect(o.x,o.y-2,.01,10),l.addChild(c),o.mask=c,this.refreshButtonPos()},this.refreshButtonPos=function(){l.y=a.y-s_iOffsetY},this._initBibs=function(e){r=new Array;for(var t=0;t<NUM_HORSES;t++){var n=new createjs.Container;n.x=s[t].x,n.y=s[t].y,l.addChild(n);var i=createBitmap(s_oSpriteLibrary.getSprite("bib_gui_"+t));n.addChild(i);new CTLText(n,-5,2,60,12,EngagedNation.Config.Game.text_rank_panel_font_size,"right",EngagedNation.Config.Game.text_rank_panel_font_color,EngagedNation.Config.Game.text_rank_panel_font_family,1,0,0,e[t].toUpperCase(),!0,!0,!1,!1);r.push(n)}},this.refreshRank=function(e){for(var t=0;t<e.length;t++){var n=e[t].index;createjs.Tween.get(r[n]).to({x:s[t].x},1e3,createjs.Ease.cubicOut)}},this.refreshRadar=function(e){c.graphics.clear(),c.graphics.beginFill("rgba(255,255,255,0.01)").drawRect(o.x,o.y-2,i*e,10)},u=t,this._init(e)}function CArrivalPanel(e,t,n){var i,r,s,a,o,c,l,u;this._init=function(e,t){i=!1,r=0,o={x:e,y:t},(l=new createjs.Container).x=o.x,l.y=o.y,u.addChild(l);var n=createBitmap(h=s_oSpriteLibrary.getSprite("panel_arrival"));l.addChild(n),c={x:CANVAS_WIDTH-h.width-s_iOffsetX,y:o.y};var h,d=(h=s_oSpriteLibrary.getSprite("bibs")).width/4,_=h.height/2,f={images:[h],frames:{width:d,height:_},animations:{bib_0:[0],bib_1:[1],bib_2:[2],bib_3:[3],bib_4:[4],bib_5:[5],bib_6:[6],bib_7:[7]}},p=new createjs.SpriteSheet(f);s=new Array,a=new Array;for(var g=4,m=0;m<NUM_HORSES;m++){var v=createSprite(p,"bib_0",0,0,d,_);v.x=10,v.y=g,v.visible=!1,v.scaleX=v.scaleY=.45,l.addChild(v),a.push(v);var b=new CTLText(l,v.x+.45*d+5,v.y+5,120,20,EngagedNation.Config.Game.text_arrival_panel_font_size,"left",EngagedNation.Config.Game.text_arrival_panel_font_color,EngagedNation.Config.Game.text_arrival_panel_font_family,1,0,0," ",!0,!0,!1,!1);s.push(b),g+=.45*_+1}},this.refreshButtonPos=function(){l.x=i?c.x-s_iOffsetX:o.x-s_iOffsetX},this.show=function(){i=!0,createjs.Tween.get(l).to({x:c.x},500,createjs.Ease.cubicOut)},this.hide=function(){i=!1,createjs.Tween.get(l).to({x:o.x},500,createjs.Ease.cubicOut)},this.refreshRank=function(e,t){s[r].refreshText(t),a[r].gotoAndStop("bib_"+e),a[r].visible=!0,0===r&&this.show(),r++},u=n,this._init(e,t)}function CWinPanel(e){var t,n,i,r,s,a,o,c,l=0,u=!1;this._init=function(){o=new createjs.Container,r=o.on("click",function(){}),o.visible=!1,c.addChild(o);var e=createBitmap(s_oSpriteLibrary.getSprite("win_panel"));o.addChild(e);var s=s_oSpriteLibrary.getSprite("bibs");t=s.width/4,n=s.height/2;var l={images:[s],frames:{width:t,height:n},animations:{bib_0:[0],bib_1:[1],bib_2:[2],bib_3:[3],bib_4:[4],bib_5:[5],bib_6:[6],bib_7:[7]}};i=new createjs.SpriteSheet(l),a=new CTLText(o,CANVAS_WIDTH/2+40,470,120,80,EngagedNation.Config.Game.text_bet_win_panel_font_size,"center",EngagedNation.Config.Game.text_bet_win_panel_font_color,EngagedNation.Config.Game.text_bet_win_panel_font_family,1,0,0,EngagedNation.Config.Game.text_bet_win_panel,!0,!0,!0,!1)},this.unload=function(){o.off("click",r),s.unload()},this.show=function(e,r,c,u){l=u,a.refreshText(EngagedNation.Config.Game.text_bet_win+"\n"+EngagedNation.Config.Game.text_currency+e);for(var h=240,d=0;d<3;d++){var _={images:[s_oSpriteLibrary.getSprite("horse_"+(c[d]+1)+"_a"),s_oSpriteLibrary.getSprite("horse_"+(c[d]+1)+"_b")],frames:[[1,1,249,191,0,-56,-19],[252,1,307,193,0,-8,-19],[561,1,308,196,0,-4,-16],[1,199,307,198,0,-2,-14],[310,199,306,201,0,-1,-11],[618,199,307,205,0,0,-7],[1,406,305,209,0,-1,-3],[308,406,304,211,0,-3,-1],[614,406,301,209,0,-8,0],[1,619,295,207,0,-17,-2],[298,619,295,204,0,-19,-5],[595,619,301,203,0,-21,-8],[1,1,284,200,1,-35,-11],[287,1,293,198,1,-31,-14],[582,1,306,196,1,-20,-16]],animations:{idle:[1,1],anim:[1,14],start:[15],anim_1:[1,14,"anim"],anim_2:[6,14,"anim"],anim_3:[11,14,"anim"]}},f=createSprite(new createjs.SpriteSheet(_),"idle",HORSE_WIDTH/2,HORSE_HEIGHT,HORSE_WIDTH,HORSE_HEIGHT);f.scaleX=f.scaleY=.35,f.x=CANVAS_WIDTH/2+90,f.y=h,o.addChild(f),h+=68}h=CANVAS_HEIGHT/2-150;for(var p=0;p<r.length;p++){var g,m;if("forecast"===r[p].type){var v=r[p].horses;(x=createSprite(i,"bib_"+v[0],0,0,t,n)).x=310,x.y=h,x.scaleX=x.scaleY=.5,o.addChild(x);var b=new createjs.Text("X","20px "+PRIMARY_FONT,"#fff");b.textAlign="center",b.textBaseline="middle",b.x=x.x+.5*t+10,b.y=h+18,o.addChild(b);var y=createSprite(i,"bib_"+v[1],0,0,t,n);y.x=b.x+10,y.y=h,y.scaleX=y.scaleY=.5,o.addChild(y),g=x.x+35,m=y.x+35}else{var x;(x=createSprite(i,"bib_"+r[p].horses,0,0,t,n)).x=310,x.y=h,x.scaleX=x.scaleY=.5,o.addChild(x),m=x.x+35}new CTLText(o,m,h+8,80,20,EngagedNation.Config.Game.text_bet_win_list_font_size,"left",EngagedNation.Config.Game.text_bet_win_list_font_color,PRIMARY_FONT,1,0,0,r[p].type.toUpperCase(),!0,!0,!1,!1),new CTLText(o,(g||m)+170,h+8,80,20,EngagedNation.Config.Game.text_bet_win_panel_value_font_size,"right",EngagedNation.Config.Game.text_bet_win_panel_value_font_color,PRIMARY_FONT,1,0,0,EngagedNation.Config.Game.text_currency+r[p].win,!0,!0,!1,!1);h+=35}if(isTextLonger=EngagedNation.Config.Game.text_bet_lose_panel.length>22,0===r.length)new CTLText(o,310,h+8,280,isTextLonger?250:230,EngagedNation.Config.Game.text_bet_lose_panel_font_size,"center",EngagedNation.Config.Game.text_bet_lose_panel_font_color,PRIMARY_FONT,1,0,0,EngagedNation.Config.Game.text_bet_lose_panel,!0,!0,!!isTextLonger,!1);(s=new CGfxButton(860,510,s_oSpriteLibrary.getSprite(0==l?"but_collect":"but_skip"),o)).addEventListener(ON_MOUSE_UP,this.onSkip,this),o.visible=!0,o.alpha=0,createjs.Tween.get(o).wait(1e3).to({alpha:1},500,createjs.Ease.cubicOut)},this.onSkip=function(){if(!u)return 0==l||0==s_oMain.getNumberOfRace()&&!s_oMain.getIsUnlimitedRace()?(u=!0,playSound("cash_out",1),void EngagedNation.Game.addPostMessage({status:"complete",score:l})):void s_oGame.returnInBetPanel()},c=e,this._init()}function CButStartRace(e,t,n,i,r,s,a,o){var c,l,u,h,d,_;return this._init=function(e,t,n,i,r,s,a){c=new Array,l=new Array;var o=createBitmap(n);(u=new createjs.Container).x=e,u.y=t,u.regX=n.width/2,u.regY=n.height/2,u.addChild(o),_.addChild(u),new CTLText(u,10,15,n.width-20,n.height-10,s,"center",r,a,1,0,0,i,!0,!0,!1,!1),s_bMobile||(u.cursor="pointer"),this._initListener()},this.unload=function(){u.off("mousedown",h),u.off("pressup",d),_.removeChild(u)},this.setVisible=function(e){u.visible=e},this._initListener=function(){h=u.on("mousedown",this.buttonDown),d=u.on("pressup",this.buttonRelease)},this.addEventListener=function(e,t,n){c[e]=t,l[e]=n},this.buttonRelease=function(){u.scaleX=1,u.scaleY=1,playSound("click",1,0),c[ON_MOUSE_UP]&&c[ON_MOUSE_UP].call(l[ON_MOUSE_UP])},this.buttonDown=function(){u.scaleX=.9,u.scaleY=.9,c[ON_MOUSE_DOWN]&&c[ON_MOUSE_DOWN].call(l[ON_MOUSE_DOWN])},this.setPosition=function(e,t){u.x=e,u.y=t},this.setX=function(e){u.x=e},this.setY=function(e){u.y=e},this.getButtonImage=function(){return u},this.getX=function(){return u.x},this.getY=function(){return u.y},_=o,this._init(e,t,n,i,r,s,a),this}function CAreYouSurePanel(e){var t,n,i;this._init=function(){n=new createjs.Container,t=n.on("click",function(){}),n.visible=!1,i.addChild(n);var e=createBitmap(s_oSpriteLibrary.getSprite("msg_box"));n.addChild(e)},this.unload=function(){n.off("click",t)},this.show=function(){n.visible=!0,n.alpha=0,createjs.Tween.get(n).to({alpha:1},500,createjs.Ease.cubicOut)},this._onReleaseYes=function(){s_oGame.onExit()},this._onReleaseNo=function(){n.visible=!1,s_oGame.unpause()},i=e,this._init(e)}function CGate(e,t,n,i){var r,s;this._init=function(e,t,n){var i=s_oSpriteLibrary.getSprite("gate_"+n),a={images:[i],frames:{width:i.width/5,height:i.height},animations:{idle:[0,0],anim:[0,4,"stop_anim"],stop_anim:[4,4]}},o=new createjs.SpriteSheet(a);(r=createSprite(o,"idle",0,0,i.width/5,i.height)).x=e,r.y=t,s.addChild(r)},this.unload=function(){s.removeChild(r)},this.playAnim=function(){r.gotoAndPlay("anim")},this.decreaseX=function(e){r.x-=e},s=i,this._init(e,t,n)}function CTLText(e,t,n,i,r,s,a,o,c,l,u,h,d,_,f,p,g){this._oContainer=e,this._x=t,this._y=n,this._iWidth=i,this._iHeight=r,this._bMultiline=p,this._iFontSize=s,this._szAlign=a,this._szColor=o,this._szFont=c,this._iPaddingH=u,this._iPaddingV=h,this._bVerticalAlign=f,this._bFitText=_,this._bDebug=g,this._oDebugShape=null,this._fLineHeightFactor=l,this._oText=null,d&&this.__createText(d)}function CFicheBut(e,t,n,i,r){var s,a,o,c,l,u,h=e,d=i,_=[],f=r;this._init=function(e,t){var n=s_oSpriteLibrary.getSprite("fiche_"+h);a=!1,(u=new createjs.Container).x=e,u.y=t,u.regX=n.width/2,u.regY=n.height/2,f.addChild(u),s=!1,o=new Array,c=new Array,(l=createBitmap(n)).regX=n.width/2,l.regY=n.height/2,l.cursor="pointer",u.addChild(l),u.scaleX=u.scaleY=d,new CTLText(u,-10,-10,18,18,EngagedNation.Config.Game.text_bet_right_panel_chip_font_size,"center",COLOR_FICHES[h],PRIMARY_FONT,1.1,0,0,CHIP_VALUES[h],!0,!0,!1,!1),n.width,n.height,this._initListener()},this.unload=function(){u.off("mousedown",this.buttonDown),u.off("pressup",this.buttonRelease),f.removeChild(u)},this.select=function(){s=!0},this.deselect=function(){s=!1},this.enable=function(){a=!1},this.disable=function(){a=!0},this.setVisible=function(e){u.visible=e},this._initListener=function(){u.on("mousedown",this.buttonDown),u.on("pressup",this.buttonRelease)},this.addEventListener=function(e,t,n){o[e]=t,c[e]=n},this.addEventListenerWithParams=function(e,t,n,i){o[e]=t,c[e]=n,_=i},this.buttonRelease=function(){a||(playSound("click",1,!1),u.scaleX=d,u.scaleY=d,o[ON_MOUSE_UP]&&o[ON_MOUSE_UP].call(c[ON_MOUSE_UP],_),s=!s)},this.buttonDown=function(){a||(u.scaleX=.9*d,u.scaleY=.9*d,o[ON_MOUSE_DOWN]&&o[ON_MOUSE_DOWN].call(c[ON_MOUSE_DOWN],_))},this.setPosition=function(e,t){u.x=e,u.y=t},this.setX=function(e){u.x=e},this.setY=function(e){u.y=e},this.getX=function(){return u.x},this.getY=function(){return u.y},this._init(t,n)}CTLText.prototype={constructor:CTLText,__autofit:function(){if(this._bFitText){for(var e=this._iFontSize;(this._oText.getBounds().height>this._iHeight-2*this._iPaddingV||this._oText.getBounds().width>this._iWidth-2*this._iPaddingH)&&(e--,this._oText.font=e+"px "+this._szFont,this._oText.lineHeight=Math.round(e*this._fLineHeightFactor),this.__updateY(),this.__verticalAlign(),!(e<8)););this._iFontSize=e}},__verticalAlign:function(){if(this._bVerticalAlign){var e=this._oText.getBounds().height;this._oText.y-=(e-this._iHeight)/2+this._iPaddingV}},__updateY:function(){switch(this._oText.y=this._y+this._iPaddingV,this._oText.textBaseline){case"middle":this._oText.y+=this._oText.lineHeight/2+(this._iFontSize*this._fLineHeightFactor-this._iFontSize)}},__createText:function(e){switch(this._bDebug&&(this._oDebugShape=new createjs.Shape,this._oDebugShape.graphics.beginFill("rgba(255,0,0,0.5)").drawRect(this._x,this._y,this._iWidth,this._iHeight),this._oContainer.addChild(this._oDebugShape)),this._oText=new createjs.Text(e,this._iFontSize+"px "+this._szFont,this._szColor),this._oText.textBaseline="middle",this._oText.lineHeight=Math.round(this._iFontSize*this._fLineHeightFactor),this._oText.textAlign=this._szAlign,this._bMultiline?this._oText.lineWidth=this._iWidth-2*this._iPaddingH:this._oText.lineWidth=null,this._szAlign){case"center":this._oText.x=this._x+this._iWidth/2;break;case"left":this._oText.x=this._x+this._iPaddingH;break;case"right":this._oText.x=this._x+this._iWidth-this._iPaddingH}this._oContainer.addChild(this._oText),this.refreshText(e)},setVerticalAlign:function(e){this._bVerticalAlign=e},setOutline:function(e){null!==this._oText&&(this._oText.outline=e)},setShadow:function(e,t,n,i){null!==this._oText&&(this._oText.shadow=new createjs.Shadow(e,t,n,i))},setColor:function(e){this._oText.color=e},setAlpha:function(e){this._oText.alpha=e},removeTweens:function(){createjs.Tween.removeTweens(this._oText)},getText:function(){return this._oText},getY:function(){return this._y},getFontSize:function(){return this._iFontSize},refreshText:function(e){""===e&&(e=" "),null===this._oText&&this.__createText(e),this._oText.text=e,this._oText.font=this._iFontSize+"px "+this._szFont,this._oText.lineHeight=Math.round(this._iFontSize*this._fLineHeightFactor),this.__autofit(),this.__updateY(),this.__verticalAlign()}},(EngagedNation=EngagedNation||{}).Game={},EngagedNation.Config=EngagedNation.Config||{},EngagedNation.Config.Game=EngagedNation.Config.Game||{},function(e){function t(){this.addMessageEventListener()}t.prototype=e.extend(t.prototype,{setConfig:function(t){e.isEmptyObject(EngagedNation.Config.Game)?this.displayLog("Configuration is not set."):e.each(EngagedNation.Config.Game,function(e){if(t.hasOwnProperty(e))return EngagedNation.Config.Game[e]=t[e],!0})},addMessageEventListener:function(){var t=this;t.addPostMessage({status:"loading"}),e(window).on("message",function(e){var n=EngagedNation.Config.Game;(e=e.originalEvent).data.hasOwnProperty("en_game_config")&&(n=t.setType(e.data.en_game_config),t.setConfig(n),t.displayGame(n)),e.data.hasOwnProperty("resize")&&(EngagedNation.Config.Game.parent_width=e.data.resize.parent_width,EngagedNation.Config.Game.parent_height=e.data.resize.parent_height)}),t.addPostMessage({status:"configuration-ready"})},addPostMessageEventListener:function(t){var n=this;e(t).on("post_message",function(e,t){n.addPostMessage(t)})},addPostMessage:function(e){parent.postMessage({game:e},"*")},displayGame:function(e){var t=this;setTimeout(function(){t.addPostMessageEventListener(new CMain),t.addPostMessage({status:"loaded"}),t.isIOS()?setTimeout(function(){sizeHandler()},200):sizeHandler()},500)},setType:function(e){return"object"==typeof e?e:JSON.parse(e)},displayLog:function(e){console.log(e)},isIOS:function(){for(var e=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"];e.length;)if(navigator.platform===e.pop())return!0;return!1}}),EngagedNation.Game=new t}(jQuery);